MP2COD 5.00, COFF to COD File Converter
Copyright (c) 1998-2013 Microchip Technology Inc.
Listing File Generated: Sun Jan 21 13:14:47 2024


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /* $Id: c018i.c,v 1.7 2006/11/15 22:53:12 moshtaa Exp $ */                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* Copyright (c)1999 Microchip Technology */                                     C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 startup code, including initialized data */                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to __init() function */                                    C:\MCC18\src\traditional\startup\c018i.c
                                           extern void __init (void);                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to the user's main routine */                              C:\MCC18\src\traditional\startup\c018i.c
                                           extern void main (void);                                                         C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the startup function */                                         C:\MCC18\src\traditional\startup\c018i.c
                                           void _entry (void);                                                              C:\MCC18\src\traditional\startup\c018i.c
                                           void _startup (void);                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the initialized data setup */                                   C:\MCC18\src\traditional\startup\c018i.c
                                           void _do_cinit (void);                                                           C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\MCC18\src\traditional\startup\c018i.c
                                           extern near unsigned FSR0;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           extern near char __FPFLAGS;                                                      C:\MCC18\src\traditional\startup\c018i.c
                                           #define RND 6                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _entry_scn=0x000000                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _entry (void)                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _asm goto _startup _endasm                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _startup_scn                                                        C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _startup (void)                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
                                               // Initialize the stack pointer                                              C:\MCC18\src\traditional\startup\c018i.c
0091c6   ee1e     LFSR      0x1,0xe00          lfsr 1, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
0091c8   f000                                                                                                               
0091ca   ee2e     LFSR      0x2,0xe00          lfsr 2, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
0091cc   f000                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
0091ce   6af8     CLRF      0xf8,0x0           clrf TBLPTRU, 0 // 1st silicon doesn't do this on POR                        C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
0091d0   9c33     BCF       0x33,0x6,0x0       bcf __FPFLAGS,RND,0 // Initialize rounding flag for floating point libs      C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
0091d2   ec34     CALL      0x8e68,0x0         _do_cinit ();                                                                C:\MCC18\src\traditional\startup\c018i.c
0091d4   f047                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           loop:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // If user defined __init is not found, the one in clib.lib will be used       C:\MCC18\src\traditional\startup\c018i.c
0091d6   ecfc     CALL      0x91f8,0x0       __init ();                                                                     C:\MCC18\src\traditional\startup\c018i.c
0091d8   f048                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Call the user's main routine                                                C:\MCC18\src\traditional\startup\c018i.c
0091da   ec1b     CALL      0x8a36,0x0       main ();                                                                       C:\MCC18\src\traditional\startup\c018i.c
0091dc   f045                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
0091de   d7fb     BRA       0x91d6           goto loop;                                                                     C:\MCC18\src\traditional\startup\c018i.c
0091e0   0012     RETURN    0x0            }                               /* end _startup() */                             C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           /* The linker will populate the _cinit table */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           extern far rom struct                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             unsigned short num_init;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                             struct _init_entry                                                             C:\MCC18\src\traditional\startup\c018i.c
                                             {                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long from;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long to;                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long size;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                             }                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                             entries[];                                                                     C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _cinit;                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _cinit_scn                                                          C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _do_cinit (void)                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             /* we'll make the assumption in the following code that these statics          C:\MCC18\src\traditional\startup\c018i.c
                                              * will be allocated into the same bank.                                       C:\MCC18\src\traditional\startup\c018i.c
                                              */                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             static short long prom;                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_byte;                                               C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_entry;                                              C:\MCC18\src\traditional\startup\c018i.c
                                             static short long data_ptr;                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Initialized data...                                                         C:\MCC18\src\traditional\startup\c018i.c
008e68   0e2a     MOVLW     0x2a             TBLPTR = (short long)&_cinit;                                                  C:\MCC18\src\traditional\startup\c018i.c
008e6a   6ef6     MOVWF     0xf6,0x0                                                                                        
008e6c   0e10     MOVLW     0x10                                                                                            
008e6e   6ef7     MOVWF     0xf7,0x0                                                                                        
008e70   0e00     MOVLW     0x0                                                                                             
008e72   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
008e74   0105     MOVLB     0x5                movlb data_ptr                                                               C:\MCC18\src\traditional\startup\c018i.c
008e76   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008e78   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008e7a   6ff5     MOVWF     0xf5,0x1           movwf curr_entry, 1                                                          C:\MCC18\src\traditional\startup\c018i.c
008e7c   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
008e7e   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
008e80   6ff6     MOVWF     0xf6,0x1           movwf curr_entry+1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             _endasm                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               //while (curr_entry)                                                         C:\MCC18\src\traditional\startup\c018i.c
                                               //{                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               test:                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _asm                                                                         C:\MCC18\src\traditional\startup\c018i.c
008e82   e103     BNZ       0x8e8a              bnz 3                                                                       C:\MCC18\src\traditional\startup\c018i.c
008e84   67f5     TSTFSZ    0xf5,0x1           tstfsz curr_entry, 1                                                         C:\MCC18\src\traditional\startup\c018i.c
008e86   d001     BRA       0x8e8a             bra 1                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
008e88   d03d     BRA       0x8f04             goto done;                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 /* Count down so we only have to look up the data in _cinit                C:\MCC18\src\traditional\startup\c018i.c
                                                  * once.                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                  *                                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                  * At this point we know that TBLPTR points to the top of the current      C:\MCC18\src\traditional\startup\c018i.c
                                                  * entry in _cinit, so we can just start reading the from, to, and         C:\MCC18\src\traditional\startup\c018i.c
                                                  * size values.                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the source address */                                                   C:\MCC18\src\traditional\startup\c018i.c
008e8a   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008e8c   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008e8e   6ff0     MOVWF     0xf0,0x1       	movwf prom, 1                                                                   C:\MCC18\src\traditional\startup\c018i.c
008e90   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008e92   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008e94   6ff1     MOVWF     0xf1,0x1       	movwf prom+1, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
008e96   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008e98   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008e9a   6ff2     MOVWF     0xf2,0x1       	movwf prom+2, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip a byte since it's stored as a 32bit int */                              C:\MCC18\src\traditional\startup\c018i.c
008e9c   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008e9e   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008ea0   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008ea2   6ee9     MOVWF     0xe9,0x0       	movwf FSR0L, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
008ea4   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008ea6   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008ea8   6eea     MOVWF     0xea,0x0       	movwf FSR0H, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008eaa   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008eac   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
008eae   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008eb0   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008eb2   6ff3     MOVWF     0xf3,0x1       	movwf curr_byte, 1                                                              C:\MCC18\src\traditional\startup\c018i.c
008eb4   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008eb6   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008eb8   6ff4     MOVWF     0xf4,0x1       	movwf curr_byte+1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
008eba   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008ebc   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 //prom = data_ptr->from;                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 //FSR0 = data_ptr->to;                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 //curr_byte = (unsigned short) data_ptr->size;                             C:\MCC18\src\traditional\startup\c018i.c
                                                 /* the table pointer now points to the next entry. Save it                 C:\MCC18\src\traditional\startup\c018i.c
                                                  * off since we'll be using the table pointer to do the copying            C:\MCC18\src\traditional\startup\c018i.c
                                                  * for the entry.                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
008ebe   cff6     MOVFF     0xff6,0x5f7          data_ptr = TBLPTR;                                                         C:\MCC18\src\traditional\startup\c018i.c
008ec0   f5f7                                                                                                               
008ec2   cff7     MOVFF     0xff7,0x5f8                                                                                     
008ec4   f5f8                                                                                                               
008ec6   cff8     MOVFF     0xff8,0x5f9                                                                                     
008ec8   f5f9                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* now assign the source address to the table pointer */                   C:\MCC18\src\traditional\startup\c018i.c
008eca   c5f0     MOVFF     0x5f0,0xff6          TBLPTR = prom;                                                             C:\MCC18\src\traditional\startup\c018i.c
008ecc   fff6                                                                                                               
008ece   c5f1     MOVFF     0x5f1,0xff7                                                                                     
008ed0   fff7                                                                                                               
008ed2   c5f2     MOVFF     0x5f2,0xff8                                                                                     
008ed4   fff8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* do the copy loop */                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                   // determine if we have any more bytes to copy                           C:\MCC18\src\traditional\startup\c018i.c
008ed6   0105     MOVLB     0x5            	movlb curr_byte                                                                 C:\MCC18\src\traditional\startup\c018i.c
008ed8   53f3     MOVF      0xf3,0x1,0x1   	movf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_loop:                                                                       C:\MCC18\src\traditional\startup\c018i.c
008eda   e102     BNZ       0x8ee0         	bnz 2 // copy_one_byte                                                          C:\MCC18\src\traditional\startup\c018i.c
008edc   53f4     MOVF      0xf4,0x1,0x1   	movf curr_byte + 1, 1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
008ede   e007     BZ        0x8eee         	bz 7 // done_copying                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_one_byte:                                                                   C:\MCC18\src\traditional\startup\c018i.c
008ee0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
008ee2   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
008ee4   6eee     MOVWF     0xee,0x0       	movwf POSTINC0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	// decrement byte counter                                                       C:\MCC18\src\traditional\startup\c018i.c
008ee6   07f3     DECF      0xf3,0x1,0x1   	decf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
008ee8   e2f8     BC        0x8eda         	bc -8 // copy_loop                                                              C:\MCC18\src\traditional\startup\c018i.c
008eea   07f4     DECF      0xf4,0x1,0x1           decf curr_byte + 1, 1, 1                                                 C:\MCC18\src\traditional\startup\c018i.c
008eec   d7f9     BRA       0x8ee0         	bra -7 // copy_one_byte                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           done_copying:                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 /* restore the table pointer for the next entry */                         C:\MCC18\src\traditional\startup\c018i.c
008eee   c5f7     MOVFF     0x5f7,0xff6          TBLPTR = data_ptr;                                                         C:\MCC18\src\traditional\startup\c018i.c
008ef0   fff6                                                                                                               
008ef2   c5f8     MOVFF     0x5f8,0xff7                                                                                     
008ef4   fff7                                                                                                               
008ef6   c5f9     MOVFF     0x5f9,0xff8                                                                                     
008ef8   fff8                                                                                                               
                                                 /* next entry... */                                                        C:\MCC18\src\traditional\startup\c018i.c
008efa   0105     MOVLB     0x5                  curr_entry--;                                                              C:\MCC18\src\traditional\startup\c018i.c
008efc   07f5     DECF      0xf5,0x1,0x1                                                                                    
008efe   0e00     MOVLW     0x0                                                                                             
008f00   5bf6     SUBWFB    0xf6,0x1,0x1                                                                                    
008f02   d7bf     BRA       0x8e82               goto test;                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           done:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           ;                                                                                C:\MCC18\src\traditional\startup\c018i.c
008f04   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FileName:     	usb_device.c                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Dependencies:	See INCLUDES section                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Processor:		PIC18,PIC24, PIC32 and dsPIC33E USB Microcontrollers             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Hardware:		This code is natively intended to be used on Mirochip USB         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               demo boards.  See www.microchip.com/usb (Software & Tools    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               section) for list of available platforms.  The firmware may  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be modified for use on other USB platforms by editing the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               				HardwareProfile.h and HardwareProfile - [platform].h files.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Complier:  	    Microchip C18 (for PIC18),C30 (for PIC24 and dsPIC33E)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               and C32 (for PIC32)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Company:		Microchip Technology, Inc.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (the "Company") for its PIC(r) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB Device Stack File                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file contains functions, macros, definitions, variables,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               stack. This file should be included in projects that use the device stack.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directory.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ..\\..\\MicrochipInclude                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               C:\\Microchip Solutions\\My Demo Application                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            File Description:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6    Added USBCancelIO() function.  Moved and some stack                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    defintions to be more consistant with the host stack.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.6a   Fixed issue where a SET_CONFIGURATION received could cause              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    inability to transmit on an endpoint if using ping-pong                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    and an odd number of packets had been sent on that endpoint             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7    Fixed error where the USB error interrupt flag was not getting          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    cleared properly for PIC32 resulting in lots of extra error interrupts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    http://www.microchip.com/forums/tm.aspx?m=479085                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed issue with dual role mode when device run in polling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode.  Interrupts were remaining enabled after the host mode            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    operation was complete.  This was incompatible with polling             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    mode operation.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Changed how the bus sensing works.  In previous revisions it            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    was impossible to use the USBDeviceDetach to detach from the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bus if the bus voltage was still present.  This is now                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    possible.  It was also possible to move the device to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    ATTACHED state in interrupt mode even if the bus voltage                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    wasn't available.  This is now prohibited unless VBUS is                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    present.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Improved error case handling when the host sends more OUT               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    bytes in a control transfer than the firmware was expecting             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to receive (based on the size parameter when calling USBEP0Receive()).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    In the USBStdSetCfgHandler(), modified the code so the USBDeviceState   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    variable only gets updated to the CONFIGURED_STATE at the end of the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    function.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.7a   Update to support the PIC18F47J53 A1 and later revision                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    devices.                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed an error on 16-bit and 32-bit processors where a word access      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    could be performed on a byte pointer resulting in possible address      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    errors with odd aligned pointers.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             2.8    Several changes to the way control transfers get processed,             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    so as to support the ability to allow application/class specific        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    handler code to defer the status stage.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBCtrlEPAllowStatusStage() API function.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Implemented USBDeferStatusStage() API function (macro).                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    These changes also greatly relax the USBDeviceTasks() calling frequency  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    requirement, while allowing USB class handlers more flexibility.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Also implemented the following API functions and macros, for delaying   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    the data stage of a control transfer (with data stage):                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferINDataStage()                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeferOUTDataStage()                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBOUTDataStageDeferred()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBINDataStageDeferred()                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBCtrlEPAllowDataStage()                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed USB reset event handler issue, where the USB stack would          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    re-initialize global interrupt settings in the interrupt context, on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC18 devices with the stack operated in USB_INTERRUPT mode.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Fixed handling of SET/CLEAR FEATURE (endpoint halt) host requests.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Previous implementation would not always initialize endpoints correctly  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    to DATA0 DTS state after a clear feature endpoint halt request, for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    all ping pong mode and usage scenarios.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9   Fixed an issue with STALL handling behavior on non-EP0 endpoints, for   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    PIC24 and PIC32 devices.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Fixed an issue where the ep_data_in[]/ep_data_out[] flags weren't          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 getting re-initialized coincident with the hardware ping pong pointer      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 reset during set configuration events.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 Implemented USBGetNextHandle() API function (actually a macro, defined     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              		 in usb_device.h).                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9d  Added build option for disabling DTS checking                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9f  Adding pragma for PIC18F97J94 Family BDT location.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9h  Updated to be able to support optional Microsoft OS Descriptors         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              2.9i  Updated to set UCON<SUSPND> bit on PIC16F USB devices during            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    suspend, so as to save power.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*---------------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The USBDeviceTasks() function is responsible for detecting and processing various D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB bus events and host requests, such as those required for USB enumeration, when D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB cable is first attached to the host.  This function is the main dispatcher D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           routine for the USB stack.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions and macros are also provided by the USB stack, which can be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           used to send/receive USB data to/from the host, among other things.  A full list  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           of the available implemented functions/macros are provided in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "MCHPFSUSB Library Help".  For normal installations of the MCHPFSUSB Framework,  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the USB API documentation can be found from:                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Start menu --> (All Programs) --> Microchip --> MCHPFSUSB vX.x --> Documents --> MCHPFSUSB Library Help D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Once the help file is opened, the API functions/macros are described in the following section: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Library Interface (API) --> Device/Peripheral --> Device Stack --> Interface Routines D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional API functions may also be provided depending upon the specific USB device class D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           implemented, and these functions are also documented in the MCHPFSUSB Library Help. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If the USB stack is operated in "USB_POLLING" mode (user selectable option in    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           usb_config.h), then the application firmware is reponsible for calling the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function periodically.  If the USB stack is operated in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           "USB_INTERRUPT" mode, then the application firmware does not have to directly    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           call USBDeviceTasks(), as it will execute only when necessary as an interrupt handler. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           In order to properly operate a USB connection, and to correctly process and respond D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to control transfers in the maximum time allowed by the USB specifications, the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function/interrupt handler must be allowed to execute in a timely D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           fashion.                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB module is enabled, the USB cable is attached to the host, the USB bus D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is not in the suspend state, and the USB stack is operated in the USB_POLLING mode  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           with ping pong buffering enabled (at least) on EP0 OUT,  then the maximum allowed  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           time between calls to the USBDeviceTasks() function needs to be:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           The faster of:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           1.  Once per ~1.8ms, when USBDeviceState == ADR_PENDING_STATE                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           2.  Once per ~9.8ms, when USBDeviceState == (any other value other than ADR_PENDING_STATE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           3.  Fast enough to ensure the USTAT FIFO can never get full.  See additional explanation below. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Additional details of the above timing limits are provided:                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #1: This parameter originates from the 2ms set address "recovery interval" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           specification dictated by section "9.2.6.3 Set Address Processing" of the official  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #2: This parameter originates from several "10 ms" criteria in the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB 2.0 specifications.  For example, reset recovery intervals, resume recovery  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           intervals, suspend to actual current reduction, etc. have timing maximums of 10ms. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Timing item #3: This is not a fixed X.X ms parameter, but depends on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           transaction rate implemented by the application.  The USBDeviceTasks() function is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           responsible for popping entries off the USTAT FIFO.  If the FIFO ever gets full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           then no further USB transactions are allowed to occur, until the firmware pops entries D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           off the FIFO.  In practice, this means the firmware should call USBDeviceTasks() at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           a rate at least as fast as once every three times the USBTransferOnePacket() function D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           is called.  This ensures that the rate that USTAT FIFO entries are getting added to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           the FIFO is lower than the rate that the entries are getting popped off the FIFO (the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() function will pop up to 4 entries per call), which is a         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           necessary criteria to ensure the USTAT FIFO entries don't "pile up."  Calling    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() even more often, ex: >=1 to 1 ratio of USBDeviceTasks() to      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBTransferOnePacket(), adds further protection against the USTAT FIFO getting full, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           and is therefore recommended.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           When the USB stack is operated in USB_INTERRUPT mode, then the above timing      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           parameters should be interpreted to be the longest allowed time that the USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           interrupts may be masked/disabled for, before re-enabling the USB interrupts.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Calling USBDeviceTasks() (or allowing USBDeviceTasks() to be called) more often  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           will still have potential USB data rate speed and processing latency benefits.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           It is also beneficial to call USBDeviceTasks() more often than theoretically     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           required, since it has been observed that not all host/drivers/bios/hubs are     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           100% consistently compliant with all timing parameters of the USB 2.0 specifications. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           Therefore, in a USB_POLLING based application, it is still suggested to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USBDeviceTasks() as often as there are free CPU cycles.  This ensures best       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           performance, along with best possible compatibility with all existing USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           hosts/hubs (both those that are compliant and [partially] non-compliant).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           If ping pong buffering is not enabled on (at least) EP0 OUT, then it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           to call (or allow to execute) USBDeviceTasks() much more frequently (ex: once    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           per 100us, or preferrably faster).  Therefore, in all applications, it is        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           normally recommended to select either the USB_PING_PONG__FULL_PING_PONG or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_PING_PONG__EP0_OUT_ONLY mode (user option in usb_config.h), as these modes   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           allow for much more relaxed timing requirements, and therefore greater application D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           firmware design flexibility.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //----------------------------------------------------------------------------------*/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #include "../USB/usb_device_local.h"                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #include "./USB/usb_function_msd.h"                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USE_USB_BUS_SENSE_IO)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #undef USB_BUS_SENSE                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define USB_BUS_SENSE 1                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_DEVICE_DISABLE_DTS_CHECKING)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED 0                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define _DTS_CHECKING_ENABLED _DTSEN                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DEFINITIONS ****************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** VARIABLES ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USB_DEVICE_STATE USBDeviceState;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBActiveConfiguration;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBAlternateInterface[USB_MAX_NUM_INT];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutCurrent;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutNext;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryOut[USB_MAX_EP_NUMBER+1];                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryIn[USB_MAX_EP_NUMBER+1];                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE shortPacketStatus;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE controlTransferState;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE IN_PIPE inPipes[1];                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE OUT_PIPE outPipes[1];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE *pDst;                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL RemoteWakeup;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL USBBusIsSuspended;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE USTAT_FIELDS USTATcopy;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE endpoint_number;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BOOL BothEP0OutUOWNsSet;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_in[USB_MAX_EP_NUMBER+1];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_out[USB_MAX_EP_NUMBER+1];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           USB_VOLATILE BYTE USBStatusStageTimeoutCounter;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferStatusStagePacket;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag2;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferINDataStagePackets;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BOOL USBDeferOUTDataStagePackets;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 2)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 2)+1)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      ((USB_MAX_EP_NUMBER + 1) * 4)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #define BDT_NUM_ENTRIES      (((USB_MAX_EP_NUMBER + 1) * 4)-2)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #error "No ping pong mode defined."                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** USB FIXED LOCATION VARIABLES ***********************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma udata USB_BDT=USB_BDT_ADDRESS                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BDT_ENTRY BDT[BDT_NUM_ENTRIES] BDT_BASE_ADDR_TAG;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section B: EP0 Buffer Space                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile CTRL_TRF_SETUP SetupPkt CTRL_TRF_SETUP_ADDR_TAG;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           volatile BYTE CtrlTrfData[USB_EP0_BUFF_SIZE] CTRL_TRF_DATA_ADDR_TAG;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Section C: non-EP0 Buffer Space                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_USE_MSD)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//volatile far USB_MSD_CBW_CSW msd_cbw_csw;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CBW msd_cbw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile USB_MSD_CSW msd_csw;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//#pragma udata                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#if defined(__18CXX)                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		#pragma udata myMSD=MSD_BUFFER_ADDRESS                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	volatile char msd_buffer[512];                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ////Depricated in v2.2 - will be removed in a future revision                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Device descriptor                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM USB_DEVICE_DESCRIPTOR device_dsc;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_DEVICE_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Array of configuration descriptors                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               extern ROM BYTE *ROM USB_CD_Ptr[];                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_USER_CONFIG_DESCRIPTOR_INCLUDE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           extern BYTE * USB_SD_Ptr[];                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** DECLARATIONS ***************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #pragma code                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Macros *********************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Prototypes ********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //External                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //This is the prototype for the required user event handler                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           BOOL USER_USB_CALLBACK_EVENT_HANDLER(int event, void *pdata, WORD size);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //Internal Functions                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPService(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfInHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfTxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfRxService(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdSetCfgHandler(void);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetStatusHandler(void);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdFeatureReqHandler(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBConfigureEndpoint(BYTE EPNum, BYTE direction);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void);                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void);                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static BOOL USBIsTxBusy(BYTE EPNumber);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBPut(BYTE EPNum, BYTE Data);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBEPService(void);                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           //static void USBProtocolResetHandler(void);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Function Implementations *************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Macros *********************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /****************************************************************************    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBAdvancePingPongBuffer(BDT_ENTRY** buffer)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will advance the passed pointer to the next buffer based on    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ping pong option setting.  This function should be used for EP1-EP15     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               only.  This function is not valid for EP0.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Parameters:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY** - pointer to the BDT_ENTRY pointer that you want to be advanced  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to the next buffer state                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBAdvancePingPongBuffer(buffer) ((BYTE_VAL*)buffer)->Val ^= USB_NEXT_PING_PONG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToOdd(buffer)   {((BYTE_VAL*)buffer)->Val |= USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #define USBHALPingPongSetToEven(buffer)  {((BYTE_VAL*)buffer)->Val &= ~USB_NEXT_PING_PONG;} D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** External API Functions ****************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceInit(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function initializes the device stack it in the default state. The  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USB module will be completely reset including all of the internal        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   variables, registers, and interrupt flags.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function must be called before any of the other USB Device          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions can be called, including USBDeviceTasks().                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             ***************************************************************************/   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a0   ecba     CALL      0x7574,0x0     void USBDeviceInit(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a2   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a4   98a0     BCF       0xa0,0x4,0x0       USBDisableInterrupts();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear all USB error flags                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a6   6a63     CLRF      0x63,0x0           USBClearInterruptRegister(U1EIR);                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clears all USB interrupts                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068a8   6a62     CLRF      0x62,0x0           USBClearInterruptRegister(U1IR);                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068aa   010f     MOVLB     0xf                U1EP0 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ac   6b26     CLRF      0x26,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ae   ec99     CALL      0x7532,0x0         DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b0   f03a                                                                                                               
007532   0e02     MOVLW     0x2                                                                                             
007534   6ee6     MOVWF     0xe6,0x0                                                                                        
007536   6ae6     CLRF      0xe6,0x0                                                                                        
007538   6ae6     CLRF      0xe6,0x0                                                                                        
00753a   0e27     MOVLW     0x27                                                                                            
00753c   6ee6     MOVWF     0xe6,0x0                                                                                        
00753e   0e0f     MOVLW     0xf                                                                                             
007540   ef02     GOTO      0x7404                                                                                          
007542   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b2   010f     MOVLB     0xf                SetConfigurationOptions();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b4   ec58     CALL      0x74b0,0x0                                                                                      
0068b6   f03a                                                                                                               
0074b0   0e16     MOVLW     0x16                                                                                            
0074b2   6f39     MOVWF     0x39,0x1                                                                                        
0074b4   0e9f     MOVLW     0x9f                                                                                            
0074b6   6f37     MOVWF     0x37,0x1                                                                                        
0074b8   0e7b     MOVLW     0x7b                                                                                            
0074ba   6f36     MOVWF     0x36,0x1                                                                                        
0074bc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //power up the module (if not already powered)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBPowerModule();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the address of the BDT (if applicable)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBSetBDTAddress(BDT);                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068b8   6adf     CLRF      0xdf,0x0           for(i=0;i<(sizeof(BDT)/sizeof(BDT_ENTRY));i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ba   50df     MOVF      0xdf,0x0,0x0                                                                                    
0068bc   6e46     MOVWF     0x46,0x0                                                                                        
0068be   6a47     CLRF      0x47,0x0                                                                                        
0068c0   0e0c     MOVLW     0xc                                                                                             
0068c2   5c46     SUBWF     0x46,0x0,0x0                                                                                    
0068c4   0e00     MOVLW     0x0                                                                                             
0068c6   5847     SUBWFB    0x47,0x0,0x0                                                                                    
0068c8   e210     BC        0x68ea                                                                                          
0068e6   2adf     INCF      0xdf,0x1,0x0                                                                                    
0068e8   d7e8     BRA       0x68ba                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ca   50df     MOVF      0xdf,0x0,0x0           BDT[i].Val = 0x00;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068cc   0d04     MULLW     0x4                                                                                             
0068ce   cff3     MOVFF     0xff3,0xfe9                                                                                     
0068d0   ffe9                                                                                                               
0068d2   cff4     MOVFF     0xff4,0xfea                                                                                     
0068d4   ffea                                                                                                               
0068d6   0e00     MOVLW     0x0                                                                                             
0068d8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0068da   0e04     MOVLW     0x4                                                                                             
0068dc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0068de   6aee     CLRF      0xee,0x0                                                                                        
0068e0   6aee     CLRF      0xee,0x0                                                                                        
0068e2   6aee     CLRF      0xee,0x0                                                                                        
0068e4   6aee     CLRF      0xee,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ea   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Reset to default address                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ec   010f     MOVLB     0xf                U1ADDR = 0x00;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068ee   6b38     CLRF      0x38,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Make sure packet processing is enabled                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f0   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f2   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Flush any pending transactions                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f4   a662     BTFSS     0x62,0x3,0x0       while(USBTransactionCompleteIF == 1u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f6   d007     BRA       0x6906                                                                                          
006904   d7f7     BRA       0x68f4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068f8   9662     BCF       0x62,0x3,0x0           USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Initialize USB stack software state variables                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068fa   0105     MOVLB     0x5                    inPipes[0].info.Val = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0068fc   6bd3     CLRF      0xd3,0x1                                                                                        
0068fe   6bd8     CLRF      0xd8,0x1               outPipes[0].info.Val = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006900   6bd9     CLRF      0xd9,0x1               outPipes[0].wCount.Val = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006902   6bda     CLRF      0xda,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set flags to TRUE, so the USBCtrlEPAllowStatusStage() function knows not to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //try and arm a status stage, even before the first control transfer starts. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006906   0105     MOVLB     0x5                USBStatusStageEnabledFlag1 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006908   0e01     MOVLW     0x1                                                                                             
00690a   6fec     MOVWF     0xec,0x1                                                                                        
00690c   6fed     MOVWF     0xed,0x1           USBStatusStageEnabledFlag2 = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Initialize other flags                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00690e   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006910   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006912   6be0     CLRF      0xe0,0x1           USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Initialize all pBDTEntryIn[] and pBDTEntryOut[]                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//pointers to NULL, so they don't get used inadvertently.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006914   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006916   0e03     MOVLW     0x3                                                                                             
006918   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00691a   e211     BC        0x693e                                                                                          
00693c   d7ec     BRA       0x6916                                                                                          
007442   2adf     INCF      0xdf,0x1,0x0                                                                                    
007444   0012     RETURN    0x0                                                                                             
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00691c   6aea     CLRF      0xea,0x0       		pBDTEntryIn[i] = 0u;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00691e   34df     RLCF      0xdf,0x0,0x0                                                                                    
006920   ecbd     CALL      0x757a,0x0                                                                                      
006922   f03a                                                                                                               
006924   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006926   6aee     CLRF      0xee,0x0                                                                                        
006928   6aed     CLRF      0xed,0x0                                                                                        
00757a   0bfe     ANDLW     0xfe                                                                                            
00757c   36ea     RLCF      0xea,0x1,0x0                                                                                    
00757e   6ee9     MOVWF     0xe9,0x0                                                                                        
007580   0ec9     MOVLW     0xc9                                                                                            
007582   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007584   0e05     MOVLW     0x5                                                                                             
007586   0012     RETURN    0x0                                                                                             
00692a   6aea     CLRF      0xea,0x0       		pBDTEntryOut[i] = 0u;		                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00692c   34df     RLCF      0xdf,0x0,0x0                                                                                    
00692e   ecc4     CALL      0x7588,0x0                                                                                      
006930   f03a                                                                                                               
006932   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006934   6aee     CLRF      0xee,0x0                                                                                        
006936   6aed     CLRF      0xed,0x0                                                                                        
007588   0bfe     ANDLW     0xfe                                                                                            
00758a   36ea     RLCF      0xea,0x1,0x0                                                                                    
00758c   6ee9     MOVWF     0xe9,0x0                                                                                        
00758e   0ec3     MOVLW     0xc3                                                                                            
007590   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007592   0e05     MOVLW     0x5                                                                                             
007594   0012     RETURN    0x0                                                                                             
006938   ec19     CALL      0x7432,0x0     		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00693a   f03a                                                                                                               
007432   50df     MOVF      0xdf,0x0,0x0                                                                                    
007434   d8bc     RCALL     0x75ae                                                                                          
007436   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007438   6aef     CLRF      0xef,0x0                                                                                        
00743a   50df     MOVF      0xdf,0x0,0x0           ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00743c   d8b3     RCALL     0x75a4                                                                                          
00743e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007440   6aef     CLRF      0xef,0x0                                                                                        
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Get ready for the first packet                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00693e   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006940   0e08     MOVLW     0x8                                                                                             
006942   6fc9     MOVWF     0xc9,0x1                                                                                        
006944   0e04     MOVLW     0x4                                                                                             
006946   6fca     MOVWF     0xca,0x1                                                                                        
                                               // Initialize EP0 as a Ctrl EP                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006948   010f     MOVLB     0xf                U1EP0 = EP_CTRL|USB_HANDSHAKE_ENABLED;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00694a   0e16     MOVLW     0x16                                                                                            
00694c   6f26     MOVWF     0x26,0x1                                                                                        
                                           	//Prepare for the first SETUP on EP0 OUT                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00694e   0104     MOVLB     0x4                BDT[EP0_OUT_EVEN].ADR = ConvertToPhysicalAddress(&SetupPkt);                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006950   0e30     MOVLW     0x30                                                                                            
006952   6f02     MOVWF     0x2,0x1                                                                                         
006954   0e04     MOVLW     0x4                                                                                             
006956   6f03     MOVWF     0x3,0x1                                                                                         
006958   0e40     MOVLW     0x40               BDT[EP0_OUT_EVEN].CNT = USB_EP0_BUFF_SIZE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00695a   6f01     MOVWF     0x1,0x1                                                                                         
00695c   0e84     MOVLW     0x84               BDT[EP0_OUT_EVEN].STAT.Val = _USIE|_DAT0|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00695e   6f00     MOVWF     0x0,0x1                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Clear active configuration                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006960   0105     MOVLB     0x5                USBActiveConfiguration = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006962   6bbd     CLRF      0xbd,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Indicate that we are now in the detached state                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006964   6bbc     CLRF      0xbc,0x1           USBDeviceState = DETACHED_STATE;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006966   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006968   efeb     GOTO      0x73d6                                                                                          
00696a   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceTasks(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function is the main state machine/transaction handler of the USB       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               device side stack.  When the USB stack is operated in "USB_POLLING" mode     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               (usb_config.h user option) the USBDeviceTasks() function should be called    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               periodically to receive and transmit packets through the stack. This         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function also takes care of control transfers associated with the USB        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process, and detecting various USB events (such as suspend).     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function should be called at least once every 1.8ms during the USB      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enumeration process. After the enumeration process is complete (which can    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               be determined when USBGetDeviceState() returns CONFIGURED_STATE), the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() handler may be called the faster of: either once            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               every 9.8ms, or as often as needed to make sure that the hardware USTAT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               FIFO never gets full.  A good rule of thumb is to call USBDeviceTasks() at   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a minimum rate of either the frequency that USBTransferOnePacket() gets      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               called, or, once/1.8ms, whichever is faster.  See the inline code comments   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               near the top of usb_device.c for more details about minimum timing           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               requirements when calling USBDeviceTasks().                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB stack is operated in "USB_INTERRUPT" mode, it is not necessary  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() from the main loop context.  In the USB_INTERRUPT   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               mode, the USBDeviceTasks() handler only needs to execute when a USB          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               interrupt occurs, and therefore only needs to be called from the interrupt   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               context.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceTasks(); //Takes care of enumeration and other USB events   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Either the device is not configured or we are suspended,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           // so we don't want to execute any USB related application code  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Otherwise we are free to run USB and non-USB related user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //application code.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Precondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Make sure the USBDeviceInit() function has been called prior to calling      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() for the first time.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() does not need to be called while in the USB suspend mode,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if the user application firmware in the USBCBSuspend() callback function     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               enables the ACTVIF USB interrupt source and put the microcontroller into     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               sleep mode.  If the application firmware decides not to sleep the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               microcontroller core during USB suspend (ex: continues running at full       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               frequency, or clock switches to a lower frequency), then the USBDeviceTasks() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function must still be called periodically, at a rate frequent enough to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ensure the 10ms resume recovery interval USB specification is met.  Assuming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               a worst case primary oscillator and PLL start up time of <5ms, then          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceTasks() should be called once every 5ms in this scenario.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               When the USB cable is detached, or the USB host is not actively powering     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the VBUS line to +5V nominal, the application firmware does not always have  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               to call USBDeviceTasks() frequently, as no USB activity will be taking       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               place.  However, if USBDeviceTasks() is not called regularly, some           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               alternative means of promptly detecting when VBUS is powered (indicating     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               host attachment), or not powered (host powered down or USB cable unplugged)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               is still needed.  For self or dual self/bus powered USB applications, see    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBDeviceAttach() and USBDeviceDetach() API documentation for additional  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               considerations.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(__18CXX) || defined (_PIC14E)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBDeviceTasks(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__C30__) || defined __XC16__                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt,auto_psv)) _USB1Interrupt()                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #elif defined(__PIC32MX__)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void __attribute__((interrupt(),vector(_USB_1_VECTOR))) _USB1Interrupt( void )  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00696c   ecba     CALL      0x7574,0x0     void USBDeviceTasks(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00696e   f03a                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SRP Time Out Check                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USBOTGSRPIsReady())                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBT1MSECIF && USBT1MSECIE)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if (USBOTGGetSRPTimeOutFlag())                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if (USBOTGIsSRPTimeOutExpired())                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_OTGEventHandler(0,OTG_EVENT_SRP_FAILED,0,0);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear Interrupt Flag                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBT1MSECIFReg,USBT1MSECIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_POLLING)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006970   be82     BTFSC     0x82,0x7,0x0       if (USB_BUS_SENSE != 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006972   d006     BRA       0x6980                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006974   6a65     CLRF      0x65,0x0                U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006976   010f     MOVLB     0xf                     U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006978   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697a   0105     MOVLB     0x5                     USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697c   6bbc     CLRF      0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBClearUSBInterrupt();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00697e   d06f     BRA       0x6a5e                  return;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#ifdef USB_SUPPORT_OTG                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif	//#ifdef USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006980   0105     MOVLB     0x5                if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006982   51bc     MOVF      0xbc,0x0,0x1                                                                                    
006984   e10c     BNZ       0x699e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Initialize register to known value                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006986   6a65     CLRF      0x65,0x0               U1CON = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Mask all USB interrupts                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006988   010f     MOVLB     0xf                    U1IE = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00698a   6b36     CLRF      0x36,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Enable/set things like: pull ups, full/low-speed mode,                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //set the ping pong mode, and set internal transceiver                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00698c   ec58     CALL      0x74b0,0x0             SetConfigurationOptions();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00698e   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // Enable module & attach to bus                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006990   b665     BTFSC     0x65,0x3,0x0           while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006992   d002     BRA       0x6998                                                                                          
006994   8665     BSF       0x65,0x3,0x0                                                                                    
006996   d7fc     BRA       0x6990                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //moved to the attached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006998   0105     MOVLB     0x5                    USBDeviceState = ATTACHED_STATE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00699a   0e01     MOVLW     0x1                                                                                             
00699c   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGCON |= USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	#endif  //#if defined(USB_POLLING)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00699e   05bc     DECF      0xbc,0x0,0x1       if(USBDeviceState == ATTACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069a0   e10a     BNZ       0x69b6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * After enabling the USB module, it takes some time for the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * voltage on the D+ or D- line to rise high enough to get out           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * of the SE0 condition. The USB Reset interrupt should not be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * unmasked until the SE0 condition is cleared. This helps               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * prevent the firmware from misinterpreting this unique event           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    * as a USB bus reset from the USB host.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069a2   ba65     BTFSC     0x65,0x5,0x0           if(!USBSE0Event)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069a4   d008     BRA       0x69b6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069a6   6a62     CLRF      0x62,0x0                   USBClearInterruptRegister(U1IR);// Clear all USB interrupts          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(USB_POLLING)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069a8   010f     MOVLB     0xf                            U1IE=0;                        // Mask all USB interrupts        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069aa   6b36     CLRF      0x36,0x1                                                                                        
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ac   8136     BSF       0x36,0x0,0x1               USBResetIE = 1;             // Unmask RESET interrupt                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ae   8936     BSF       0x36,0x4,0x1               USBIdleIE = 1;             // Unmask IDLE interrupt                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b0   0105     MOVLB     0x5                        USBDeviceState = POWERED_STATE;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b2   0e02     MOVLW     0x2                                                                                             
0069b4   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef  USB_SUPPORT_OTG                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ID Pin Changed State                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBIDIF && USBIDIE)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Re-detect & Initialize                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGInitialize();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task A: Service USB Activity Interrupt                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b6   5062     MOVF      0x62,0x0,0x0       if(USBActivityIF && USBActivityIE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069b8   0b04     ANDLW     0x4                                                                                             
0069ba   e006     BZ        0x69c8                                                                                          
0069bc   010f     MOVLB     0xf                                                                                             
0069be   5136     MOVF      0x36,0x0,0x1                                                                                    
0069c0   0b04     ANDLW     0x4                                                                                             
0069c2   e002     BZ        0x69c8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c4   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_SUPPORT_OTG)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1OTGIR = 0x10;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c6   db47     RCALL     0x7056                     USBWakeFromSuspend();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the device is in suspend mode.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069c8   b265     BTFSC     0x65,0x1,0x0       if(USBSuspendControl==1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ca   d049     BRA       0x6a5e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBClearUSBInterrupt();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task B: Service USB Bus Reset Interrupt.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When bus reset is received during suspend, ACTVIF will be set first,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * once the UCONbits.SUSPND is clear, then the URSTIF bit will be asserted.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is why URSTIF is checked after ACTVIF.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * The USB reset flag is masked when the USB state is in                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * DETACHED_STATE or ATTACHED_STATE, and therefore cannot                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * cause a USB reset event during these two states.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069cc   5062     MOVF      0x62,0x0,0x0       if(USBResetIF && USBResetIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069ce   0b01     ANDLW     0x1                                                                                             
0069d0   e009     BZ        0x69e4                                                                                          
0069d2   010f     MOVLB     0xf                                                                                             
0069d4   5136     MOVF      0x36,0x0,0x1                                                                                    
0069d6   0b01     ANDLW     0x1                                                                                             
0069d8   e005     BZ        0x69e4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069da   df62     RCALL     0x68a0                 USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Re-enable the interrupts since the USBDeviceInit() function will       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  disable them.  This will do nothing in a polling setup               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069dc   0105     MOVLB     0x5                    USBDeviceState = DEFAULT_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069de   0e04     MOVLW     0x4                                                                                             
0069e0   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef USB_SUPPORT_OTG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e2   9062     BCF       0x62,0x0,0x0           USBClearInterruptFlag(USBResetIFReg,USBResetIFBitNum);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task C: Service other USB interrupts                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e4   5062     MOVF      0x62,0x0,0x0       if(USBIdleIF && USBIdleIE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069e6   0b10     ANDLW     0x10                                                                                            
0069e8   e006     BZ        0x69f6                                                                                          
0069ea   010f     MOVLB     0xf                                                                                             
0069ec   5136     MOVF      0x36,0x0,0x1                                                                                    
0069ee   0b10     ANDLW     0x10                                                                                            
0069f0   e002     BZ        0x69f6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If Suspended, Try to switch to Host                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGSelectRole(ROLE_HOST);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f2   db26     RCALL     0x7040                     USBSuspend();                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f4   9862     BCF       0x62,0x4,0x0           USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f6   ac62     BTFSS     0x62,0x6,0x0       if(USBSOFIF)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069f8   d010     BRA       0x6a1a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069fa   010f     MOVLB     0xf                    if(USBSOFIE)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0069fc   ad36     BTFSS     0x36,0x6,0x1                                                                                    
0069fe   d005     BRA       0x6a0a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a00   ec5f     CALL      0x74be,0x0                 USB_SOF_HANDLER(EVENT_SOF,0,1);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a02   f03a                                                                                                               
006a04   0e73     MOVLW     0x73                                                                                            
006a06   ecd8     CALL      0x73b0,0x0                                                                                      
006a08   f039                                                                                                               
0074be   0e01     MOVLW     0x1                                                                                             
0074c0   6ee6     MOVWF     0xe6,0x0                                                                                        
0074c2   6ae6     CLRF      0xe6,0x0                                                                                        
0074c4   0e00     MOVLW     0x0                                                                                             
0074c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0074c8   6ae6     CLRF      0xe6,0x0                                                                                        
0074ca   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0a   9c62     BCF       0x62,0x6,0x0           USBClearInterruptFlag(USBSOFIFReg,USBSOFIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Supporting this feature requires a 1ms timebase for keeping track of the timeout interval. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if(USB_SPEED_OPTION == USB_LOW_SPEED)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #warning "Double click this message.  See inline code comments." D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //The "USB_ENABLE_STATUS_STAGE_TIMEOUTS" feature is optional and is D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //not strictly needed in all applications (ex: those that never call  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBDeferStatusStage() and don't use host to device (OUT) control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //transfers with data stage).                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //However, if this feature is enabled and used, it requires a timer  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //(preferrably 1ms) to decrement the USBStatusStageTimeoutCounter.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //In USB Full Speed applications, the host sends Start-of-Frame (SOF)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //packets at a 1ms rate, which generates SOFIF interrupts.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //These interrupts can be used to decrement USBStatusStageTimeoutCounter as shown  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //below.  However, the host does not send SOF packets to Low Speed devices.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Therefore, some other method  (ex: using a general purpose microcontroller  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //timer, such as Timer0) needs to be implemented to call and execute the below code D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //at a once/1ms rate, in a low speed USB application.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Note: Pre-condition to executing the below code: USBDeviceInit() should have D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //been called at least once (since the last microcontroller reset/power up),  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //prior to executing the below code.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Decrement our status stage counter.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0c   0105     MOVLB     0x5                        if(USBStatusStageTimeoutCounter != 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a0e   51ea     MOVF      0xea,0x0,0x1                                                                                    
006a10   e001     BZ        0x6a14                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a12   07ea     DECF      0xea,0x1,0x1                   USBStatusStageTimeoutCounter--;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Check if too much time has elapsed since progress was made in      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //processing the control transfer, without arming the status stage.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //If so, auto-arm the status stage to ensure that the control        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //transfer can [eventually] complete, within the timing limits       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //dictated by section 9.2.6 of the official USB 2.0 specifications.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a14   51ea     MOVF      0xea,0x0,0x1               if(USBStatusStageTimeoutCounter == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a16   e101     BNZ       0x6a1a                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a18   d8f4     RCALL     0x6c02                         USBCtrlEPAllowStatusStage();    //Does nothing if the status stage was already armed. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a1a   5062     MOVF      0x62,0x0,0x0       if(USBStallIF && USBStallIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a1c   0b20     ANDLW     0x20                                                                                            
006a1e   e005     BZ        0x6a2a                                                                                          
006a20   010f     MOVLB     0xf                                                                                             
006a22   5136     MOVF      0x36,0x0,0x1                                                                                    
006a24   0b20     ANDLW     0x20                                                                                            
006a26   e001     BZ        0x6a2a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a28   dafa     RCALL     0x701e                 USBStallHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a2a   5062     MOVF      0x62,0x0,0x0       if(USBErrorIF && USBErrorIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a2c   0b02     ANDLW     0x2                                                                                             
006a2e   e00c     BZ        0x6a48                                                                                          
006a30   010f     MOVLB     0xf                                                                                             
006a32   5136     MOVF      0x36,0x0,0x1                                                                                    
006a34   0b02     ANDLW     0x2                                                                                             
006a36   e008     BZ        0x6a48                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a38   ec5f     CALL      0x74be,0x0             USB_ERROR_HANDLER(EVENT_BUS_ERROR,0,1);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a3a   f03a                                                                                                               
006a3c   68e6     SETF      0xe6,0x0                                                                                        
006a3e   0e7f     MOVLW     0x7f                                                                                            
006a40   6ee6     MOVWF     0xe6,0x0                                                                                        
006a42   eccb     CALL      0x7596,0x0                                                                                      
006a44   f03a                                                                                                               
007596   ec78     CALL      0x8af0,0x0                                                                                      
007598   f045                                                                                                               
00759a   6e46     MOVWF     0x46,0x0                                                                                        
00759c   0e06     MOVLW     0x6                                                                                             
00759e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0075a0   5046     MOVF      0x46,0x0,0x0                                                                                    
0075a2   0012     RETURN    0x0                                                                                             
006a46   6a63     CLRF      0x63,0x0               USBClearInterruptRegister(U1EIR);               // This clears UERRIF    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //On PIC18, clearing the source of the error will automatically clear    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  the interrupt flag.  On other devices the interrupt flag must be     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  manually cleared.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined(__C32__) || defined(__C30__) || defined __XC16__             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBClearInterruptFlag( USBErrorIFReg, USBErrorIFBitNum );            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Pointless to continue servicing if the host has not sent a bus reset.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Once bus reset is received, the device transitions into the DEFAULT       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * state and is ready for communication.                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a48   0e04     MOVLW     0x4                if(USBDeviceState < DEFAULT_STATE)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a4a   0105     MOVLB     0x5                                                                                             
006a4c   6ee7     MOVWF     0xe7,0x0                                                                                        
006a4e   19bc     XORWF     0xbc,0x0,0x1                                                                                    
006a50   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
006a52   d002     BRA       0x6a58                                                                                          
006a54   34e7     RLCF      0xe7,0x0,0x0                                                                                    
006a56   d002     BRA       0x6a5c                                                                                          
006a58   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006a5a   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
006a5c   e202     BC        0x6a62                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a5e   98a1     BCF       0xa1,0x4,0x0   	    USBClearUSBInterrupt();                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a60   d02f     BRA       0x6ac0         	    return;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Task D: Servicing USB Transaction Complete Interrupt                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a62   010f     MOVLB     0xf                if(USBTransactionCompleteIE)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a64   a736     BTFSS     0x36,0x3,0x1                                                                                    
006a66   d02b     BRA       0x6abe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a68   6adf     CLRF      0xdf,0x0       	    for(i = 0; i < 4u; i++)	//Drain or deplete the USAT FIFO entries.  If the USB FIFO ever gets full, USB bandwidth  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a6a   0e04     MOVLW     0x4                                                                                             
006a6c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006a6e   e227     BC        0x6abe                                                                                          
006aba   2adf     INCF      0xdf,0x1,0x0                                                                                    
006abc   d7d6     BRA       0x6a6a                                                                                          
                                           		{						//utilization can be compromised, and the device won't be able to receive SETUP packets. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a70   a662     BTFSS     0x62,0x3,0x0   		    if(USBTransactionCompleteIF)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a72   d025     BRA       0x6abe                                                                                          
                                           		    {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               		    //Save and extract USTAT register info.  Will use this info later.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a74   cf64     MOVFF     0xf64,0x5e1                    USTATcopy.Val = U1STAT;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a76   f5e1                                                                                                               
006a78   0105     MOVLB     0x5                            endpoint_number = USBHALGetLastEndpoint(USTATcopy);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a7a   51e1     MOVF      0xe1,0x0,0x1                                                                                    
006a7c   0b78     ANDLW     0x78                                                                                            
006a7e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006a80   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006a82   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
006a84   6fe2     MOVWF     0xe2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a86   9662     BCF       0x62,0x3,0x0                   USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Keep track of the hardware ping pong state for endpoints other D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //than EP0, if ping pong buffering is enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a88   b5e1     BTFSC     0xe1,0x2,0x1                       if(USBHALGetLastDirection(USTATcopy) == OUT_FROM_HOST)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a8a   d004     BRA       0x6a94                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a8c   51e2     MOVF      0xe2,0x0,0x1                           ep_data_out[endpoint_number].bits.ping_pong_state ^= 1;  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a8e   ecd2     CALL      0x75a4,0x0                                                                                      
006a90   f03a                                                                                                               
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a92   d003     BRA       0x6a9a                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a94   51e2     MOVF      0xe2,0x0,0x1                           ep_data_in[endpoint_number].bits.ping_pong_state ^= 1;   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a96   ecd7     CALL      0x75ae,0x0                                                                                      
006a98   f03a                                                                                                               
006a9a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006a9c   70ef     BTG       0xef,0x0,0x0                                                                                    
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USBCtrlEPService only services transactions over EP0.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //It ignores all other EP transactions.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006a9e   51e2     MOVF      0xe2,0x0,0x1                   if(endpoint_number == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa0   e102     BNZ       0x6aa6                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa2   dae6     RCALL     0x7070                             USBCtrlEPService();                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa4   d00a     BRA       0x6aba                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa6   0e00     MOVLW     0x0                                USB_TRANSFER_COMPLETE_HANDLER(EVENT_TRANSFER, (BYTE*)&USTATcopy.Val, 0); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aa8   6ee6     MOVWF     0xe6,0x0                                                                                        
006aaa   6ae6     CLRF      0xe6,0x0                                                                                        
006aac   0ee1     MOVLW     0xe1                                                                                            
006aae   6ee6     MOVWF     0xe6,0x0                                                                                        
006ab0   0e05     MOVLW     0x5                                                                                             
006ab2   6ee6     MOVWF     0xe6,0x0                                                                                        
006ab4   0e72     MOVLW     0x72                                                                                            
006ab6   ecd8     CALL      0x73b0,0x0                                                                                      
006ab8   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    }//end if(USBTransactionCompleteIF)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		    	break;	//USTAT FIFO must be empty.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}//end for()                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}//end if(USBTransactionCompleteIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006abe   98a1     BCF       0xa1,0x4,0x0       USBClearUSBInterrupt();                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac0   52e5     MOVF      0xe5,0x1,0x0   }//end of USBDeviceTasks()                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac2   efeb     GOTO      0x73d6                                                                                          
006ac4   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBEnableEndpoint(BYTE ep, BYTE options)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               This function will enable the specified endpoint with the specified          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               options.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               void USBCBInitEP(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBEnableEndpoint(MSD_DATA_IN_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBMSDInit();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               In the above example endpoint number MSD_DATA_IN_EP is being configured      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               for both IN and OUT traffic with handshaking enabled. Also since             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               MSD_DATA_IN_EP is not endpoint 0 (MSD does not allow this), then we can      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               explicitly disable SETUP packets on this endpoint.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep -       the endpoint to be configured                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE options -  optional settings for the endpoint. The options should       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               be ORed together to form a single options string. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               available optional settings for the endpoint. The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               options should be ORed together to form a single options     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               string. The available options are the following\:            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_ENABLED enables USB handshaking (ACK,        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_HANDSHAKE_DISABLED disables USB handshaking (ACK,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                 NAK)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_ENABLED enables the out direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_OUT_DISABLED disables the out direction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_ENABLED enables the in direction                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_IN_DISABLED disables the in direction                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_ALLOW_SETUP enables control transfers                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_DISALLOW_SETUP disables control transfers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               * USB_STALL_ENDPOINT STALLs this endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac6   ec8b     CALL      0x7516,0x0     void USBEnableEndpoint(BYTE ep, BYTE options)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ac8   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               unsigned char* p;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Use USBConfigureEndpoint() to set up the pBDTEntryIn/Out[ep] pointer and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //starting DTS state in the BDT entry.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006aca   0efd     MOVLW     0xfd               if(options & USB_OUT_ENABLED)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006acc   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
006ace   d003     BRA       0x6ad6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad0   6ae6     CLRF      0xe6,0x0               USBConfigureEndpoint(ep, OUT_FROM_HOST);                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad2   ec50     CALL      0x74a0,0x0                                                                                      
006ad4   f03a                                                                                                               
0074a0   0efe     MOVLW     0xfe                                                                                            
0074a2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0074a4   ffe6                                                                                                               
0074a6   ec46     CALL      0x6c8c,0x0                                                                                      
0074a8   f036                                                                                                               
0074aa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0074ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0074ae   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad6   0efd     MOVLW     0xfd               if(options & USB_IN_ENABLED)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ad8   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
006ada   d004     BRA       0x6ae4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006adc   0e01     MOVLW     0x1                    USBConfigureEndpoint(ep, IN_TO_HOST);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ade   6ee6     MOVWF     0xe6,0x0                                                                                        
006ae0   ec50     CALL      0x74a0,0x0                                                                                      
006ae2   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the relevant UEPx register to actually enable the endpoint with     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //the specified options (ex: handshaking enabled, control transfers allowed, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //etc.)                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   p = (unsigned char*)(&U1EP0+(4*ep));                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ae4   0efe     MOVLW     0xfe                   p = (unsigned char*)(&U1EP0+ep);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ae6   50db     MOVF      0xdb,0x0,0x0                                                                                    
006ae8   6a47     CLRF      0x47,0x0                                                                                        
006aea   0f26     ADDLW     0x26                                                                                            
006aec   6e46     MOVWF     0x46,0x0                                                                                        
006aee   0e0f     MOVLW     0xf                                                                                             
006af0   ec4a     CALL      0x7494,0x0                                                                                      
006af2   f03a                                                                                                               
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af4   ecdc     CALL      0x73b8,0x0         *p = options;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006af6   f039                                                                                                               
006af8   0efd     MOVLW     0xfd                                                                                            
006afa   cfdb     MOVFF     0xfdb,0xfef                                                                                     
006afc   ffef                                                                                                               
006afe   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b00   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006b02   e202     BC        0x6b08                                                                                          
006b04   6ae1     CLRF      0xe1,0x0                                                                                        
006b06   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006b08   6ee1     MOVWF     0xe1,0x0                                                                                        
006b0a   efeb     GOTO      0x73d6                                                                                          
006b0c   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /*************************************************************************       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE USBTransferOnePacket(BYTE ep, BYTE dir, BYTE* data, BYTE len)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Transfers a single packet (one transaction) of data on the USB bus.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() function prepares a USB endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               so that it may send data to the host (an IN transaction), or                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               receive data from the host (an OUT transaction).  The                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBTransferOnePacket() function can be used both to receive	and              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               send data to the host.  This function is the primary API function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               provided by the USB stack firmware for sending or receiving application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               data over the USB port.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The USBTransferOnePacket() is intended for use with all application          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoints.  It is not used for sending or receiving applicaiton data         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               through endpoint 0 by using control transfers.  Separate API                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               functions, such as USBEP0Receive(), USBEP0SendRAMPtr(), and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBEP0SendROMPtr() are provided for this purpose.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The	USBTransferOnePacket() writes to the Buffer Descriptor Table (BDT)       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               entry associated with an endpoint buffer, and sets the UOWN bit, which       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               prepares the USB hardware to allow the transaction to complete.  The         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               application firmware can use the USBHandleBusy() macro to check the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               status of the transaction, to see if the data has been successfully          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               transmitted yet.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Typical Usage                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //make sure that the we are in the configured state                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBGetDeviceState() == CONFIGURED_STATE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //make sure that the last transaction isn't busy by checking the handle  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(!USBHandleBusy(USBInHandle))                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //Write the new data that we wish to send to the host to the INPacket[] array D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[0] = USEFUL_APPLICATION_VALUE1;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        INPacket[1] = USEFUL_APPLICATION_VALUE2;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //INPacket[2] = ... (fill in the rest of the packet data)               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Send the data contained in the INPacket[] array through endpoint "EP_NUM" D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBInHandle = USBTransferOnePacket(EP_NUM,IN_TO_HOST,(BYTE*)&INPacket[0],sizeof(INPacket)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Before calling USBTransferOnePacket(), the following should be true.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               1.  The USB stack has already been initialized (USBDeviceInit() was called). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               2.  A transaction is not already pending on the specified endpoint.  This    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   is done by checking the previous request using the USBHandleBusy()       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro (see the typical usage example).                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               3.  The host has already sent a set configuration request and the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enumeration process is complete.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This can be checked by verifying that the USBGetDeviceState()            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   macro returns "CONFIGURED_STATE", prior to calling                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBTransferOnePacket().                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            					                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE ep - The endpoint number that the data will be transmitted or           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	          received on                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE dir - The direction of the transfer                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                          This value is either OUT_FROM_HOST or IN_TO_HOST                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE* data - For IN transactions: pointer to the RAM buffer containing       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the data to be sent to the host.  For OUT transactions: pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            to the RAM buffer that the received data should get written to. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              BYTE len - Length of the data needing to be sent (for IN transactions).       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         For OUT transactions, the len parameter should normally be set     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                         to the endpoint size specified in the endpoint descriptor.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return Values:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USB_HANDLE - handle to the transfer.  The handle is a pointer to             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            the BDT entry associated with this transaction.  The            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            status of the transaction (ex: if it is complete or still       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            pending) can be checked using the USBHandleBusy() macro         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            and supplying the USB_HANDLE provided by                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            USBTransferOnePacket().                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               If calling the USBTransferOnePacket() function from within the USBCBInitEP() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               callback function, the set configuration is still being processed and the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               USBDeviceState may not be == CONFIGURED_STATE yet.  In this	special case,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the USBTransferOnePacket() may still be called, but make sure that the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               endpoint has been enabled and initialized by the USBEnableEndpoint()         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               function first.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b0e   ec8b     CALL      0x7516,0x0     USB_HANDLE USBTransferOnePacket(BYTE ep,BYTE dir,BYTE* data,BYTE len)            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b10   f03a                                                                                                               
007516   df5a     RCALL     0x73cc                                                                                          
007518   0e02     MOVLW     0x2                                                                                             
00751a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
00751c   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the direction is IN                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b12   0efd     MOVLW     0xfd               if(dir != 0u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b14   50db     MOVF      0xdb,0x0,0x0                                                                                    
006b16   e003     BZ        0x6b1e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //point to the IN BDT of the specified endpoint                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b18   ecd3     CALL      0x73a6,0x0             handle = pBDTEntryIn[ep];                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1a   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1c   d002     BRA       0x6b22             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //else point to the OUT BDT of the specified endpoint                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b1e   ec0a     CALL      0x7414,0x0             handle = pBDTEntryOut[ep];                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b20   f03a                                                                                                               
006b22   ec36     CALL      0x746c,0x0                                                                                      
006b24   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Error checking code.  Make sure the handle (pBDTEntryIn[ep] or             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //pBDTEntryOut[ep]) is initialized before using it.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b26   cfd9     MOVFF     0xfd9,0xfe9        if(handle == 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b28   ffe9                                                                                                               
006b2a   cfda     MOVFF     0xfda,0xfea                                                                                     
006b2c   ffea                                                                                                               
006b2e   50ee     MOVF      0xee,0x0,0x0                                                                                    
006b30   10ed     IORWF     0xed,0x0,0x0                                                                                    
006b32   e103     BNZ       0x6b3a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b34   6af3     CLRF      0xf3,0x0       	    return 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b36   6af4     CLRF      0xf4,0x0                                                                                        
006b38   d028     BRA       0x6b8a                                                                                          
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Toggle the DTS bit if required                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.Val ^= _DTSMASK;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(ep != 0)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.Val ^= _DTSMASK;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Set the data pointer, data length, and enable the endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b3a   ecdc     CALL      0x73b8,0x0         handle->ADR = ConvertToPhysicalAddress(data);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b3c   f039                                                                                                               
006b3e   ece6     CALL      0x75cc,0x0                                                                                      
006b40   f03a                                                                                                               
006b42   0efb     MOVLW     0xfb                                                                                            
006b44   cfdb     MOVFF     0xfdb,0xfee                                                                                     
006b46   ffee                                                                                                               
006b48   0efc     MOVLW     0xfc                                                                                            
006b4a   cfdb     MOVFF     0xfdb,0xfed                                                                                     
006b4c   ffed                                                                                                               
006b4e   ecdc     CALL      0x73b8,0x0         handle->CNT = len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b50   f039                                                                                                               
006b52   52ee     MOVF      0xee,0x1,0x0                                                                                    
006b54   0efa     MOVLW     0xfa                                                                                            
006b56   cfdb     MOVFF     0xfdb,0xfef                                                                                     
006b58   ffef                                                                                                               
006b5a   0e40     MOVLW     0x40               handle->STAT.Val &= _DTSMASK;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b5c   ecdc     CALL      0x75b8,0x0                                                                                      
006b5e   f03a                                                                                                               
006b60   0e88     MOVLW     0x88               handle->STAT.Val |= _USIE | (_DTSEN & _DTS_CHECKING_ENABLED);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b62   eceb     CALL      0x75d6,0x0                                                                                      
006b64   f03a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Point to the next buffer for ping pong purposes.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b66   0efd     MOVLW     0xfd               if(dir != OUT_FROM_HOST)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b68   50db     MOVF      0xdb,0x0,0x0                                                                                    
006b6a   e003     BZ        0x6b72                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an IN endpoint                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b6c   ecd3     CALL      0x73a6,0x0             USBAdvancePingPongBuffer(&pBDTEntryIn[ep]);                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b6e   f039                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b70   d002     BRA       0x6b76             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //toggle over the to the next buffer for an OUT endpoint                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b72   ec0a     CALL      0x7414,0x0             USBAdvancePingPongBuffer(&pBDTEntryOut[ep]);                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b74   f03a                                                                                                               
006b76   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006b78   74ef     BTG       0xef,0x2,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b7a   cfde     MOVFF     0xfde,0x46         return (USB_HANDLE)handle;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b7c   f046                                                                                                               
006b7e   cfdd     MOVFF     0xfdd,0x47                                                                                      
006b80   f047                                                                                                               
006b82   c046     MOVFF     0x46,0xff3                                                                                      
006b84   fff3                                                                                                               
006b86   c047     MOVFF     0x47,0xff4                                                                                      
006b88   fff4                                                                                                               
006b8a   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b8c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006b8e   e202     BC        0x6b94                                                                                          
006b90   6ae1     CLRF      0xe1,0x0                                                                                        
006b92   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006b94   6ee1     MOVWF     0xe1,0x0                                                                                        
006b96   efeb     GOTO      0x73d6                                                                                          
006b98   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBStallEndpoint(BYTE ep, BYTE dir)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    Configures the specified endpoint to send STALL to the host, the next   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    time the host tries to access the endpoint.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PreCondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE ep - The endpoint number that should be configured to send STALL.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE dir - The direction of the endpoint to STALL, either                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                              IN_TO_HOST or OUT_FROM_HOST.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9a   ec8b     CALL      0x7516,0x0     void USBStallEndpoint(BYTE ep, BYTE dir)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9c   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006b9e   0efe     MOVLW     0xfe               if(ep == 0u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba0   50db     MOVF      0xdb,0x0,0x0                                                                                    
006ba2   e103     BNZ       0x6baa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //For control endpoints (ex: EP0), we need to STALL both IN and OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //endpoints.  EP0 OUT must also be prepared to receive the next SETUP    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packet that will arrrive.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba4   eca2     CALL      0x7544,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba6   f03a                                                                                                               
007544   df2c     RCALL     0x739e                                                                                          
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007546   0e8c     MOVLW     0x8c                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007548   6eef     MOVWF     0xef,0x0                                                                                        
00754a   df3b     RCALL     0x73c2                 pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00754c   0e84     MOVLW     0x84                                                                                            
00754e   6eef     MOVWF     0xef,0x0                                                                                        
007550   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ba8   d009     BRA       0x6bbc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006baa   ec0f     CALL      0x741e,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,0)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bac   f03a                                                                                                               
006bae   ec79     CALL      0x74f2,0x0                                                                                      
006bb0   f03a                                                                                                               
0074f2   0d04     MULLW     0x4                                                                                             
0074f4   cff3     MOVFF     0xff3,0x46                                                                                      
0074f6   f046                                                                                                               
0074f8   cff4     MOVFF     0xff4,0x47                                                                                      
0074fa   f047                                                                                                               
0074fc   0e00     MOVLW     0x0                                                                                             
0074fe   2646     ADDWF     0x46,0x1,0x0                                                                                    
007500   0e04     MOVLW     0x4                                                                                             
007502   dfc8     RCALL     0x7494                                                                                          
007504   0e84     MOVLW     0x84                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007506   efeb     GOTO      0x75d6                                                                                          
007508   f03a                                                                                                               
0075d6   def0     RCALL     0x73b8                                                                                          
0075d8   50e8     MOVF      0xe8,0x0,0x0                                                                                    
0075da   12ef     IORWF     0xef,0x1,0x0                                                                                    
0075dc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the device is in FULL or ALL_BUT_EP0 ping pong modes                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //then stall that entry as well                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb2   ec0f     CALL      0x741e,0x0             p = (BDT_ENTRY*)(&BDT[EP(ep,dir,1)]);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bb4   f03a                                                                                                               
006bb6   0f01     ADDLW     0x1                                                                                             
006bb8   ec79     CALL      0x74f2,0x0                                                                                      
006bba   f03a                                                                                                               
007494   2247     ADDWFC    0x47,0x1,0x0                                                                                    
007496   c046     MOVFF     0x46,0xfde                                                                                      
007498   ffde                                                                                                               
00749a   c047     MOVFF     0x47,0xfdd                                                                                      
00749c   ffdd                                                                                                               
00749e   0012     RETURN    0x0                                                                                             
                                                   p->STAT.Val |= _BSTALL | _USIE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bbc   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bbe   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006bc0   e202     BC        0x6bc6                                                                                          
006bc2   6ae1     CLRF      0xe1,0x0                                                                                        
006bc4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006bc6   6ee1     MOVWF     0xe1,0x0                                                                                        
006bc8   efeb     GOTO      0x73d6                                                                                          
006bca   f039                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBCancelIO(BYTE endpoint)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function cancels the transfers pending on the specified endpoint.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function can only be used after a SETUP packet is received and      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   before that setup packet is handled.  This is the time period in which   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the EVENT_EP0_REQUEST is thrown, before the event handler function       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   returns to the stack.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   BYTE endpoint - the endpoint number you wish to cancel the transfers for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bcc   ece6     CALL      0x73cc,0x0     void USBCancelIO(BYTE endpoint)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bce   f039                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd0   a865     BTFSS     0x65,0x4,0x0       if(USBPacketDisable == 1u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd2   d016     BRA       0x6c00                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//The PKTDIS bit is currently set right now.  It is therefore "safe"        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//to mess with the BDT right now.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd4   ecb3     CALL      0x7566,0x0         	pBDTEntryIn[endpoint]->Val &= _DTSMASK;	//Makes UOWN = 0 (_UCPU mode).  Deactivates endpoint.  Only sends NAKs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bd6   f03a                                                                                                               
006bd8   0e40     MOVLW     0x40                                                                                            
006bda   16ee     ANDWF     0xee,0x1,0x0                                                                                    
006bdc   6aee     CLRF      0xee,0x0                                                                                        
006bde   6aee     CLRF      0xee,0x0                                                                                        
006be0   6aee     CLRF      0xee,0x0                                                                                        
006be2   ecb3     CALL      0x7566,0x0         	pBDTEntryIn[endpoint]->Val ^= _DTSMASK;	//Toggle the DTS bit.  This packet didn't get sent yet, and the next call to USBTransferOnePacket() will re-toggle the DTS bit back to the original (correct) value. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be4   f03a                                                                                                               
006be6   7cee     BTG       0xee,0x6,0x0                                                                                    
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	//Need to do additional handling if ping-pong buffering is being used       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if ((USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Point to the next buffer for ping pong purposes.  UOWN getting cleared D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //(either due to SIE clearing it after a transaction, or the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //clearing it) makes hardware ping pong pointer advance.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006be8   dbde     RCALL     0x73a6                 USBAdvancePingPongBuffer(&pBDTEntryIn[endpoint]);                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bea   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006bec   74ef     BTG       0xef,0x2,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bee   0e40     MOVLW     0x40               	pBDTEntryIn[endpoint]->STAT.Val &= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bf0   6e46     MOVWF     0x46,0x0                                                                                        
006bf2   ecb3     CALL      0x7566,0x0                                                                                      
006bf4   f03a                                                                                                               
006bf6   5046     MOVF      0x46,0x0,0x0                                                                                    
006bf8   16ef     ANDWF     0xef,0x1,0x0                                                                                    
006bfa   ecb3     CALL      0x7566,0x0         	pBDTEntryIn[endpoint]->STAT.Val ^= _DTSMASK;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006bfc   f03a                                                                                                               
006bfe   7cef     BTG       0xef,0x6,0x0                                                                                    
007566   df1f     RCALL     0x73a6                                                                                          
007568   ef23     GOTO      0x7446                                                                                          
00756a   f03a                                                                                                               
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c00   d3ea     BRA       0x73d6         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceDetach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to "soft detach" itself from     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB host.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function configures the USB module to perform a "soft detach"       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   operation, by disabling the D+ (or D-) ~1.5k pull up resistor, which     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   lets the host know the device is present and attached.  This will make   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the host think that the device has been unplugged.  This is potentially  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   useful, as it allows the USB device to force the host to re-enumerate    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the device (on the firmware has re-enabled the USB module/pull up, by    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calling USBDeviceAttach(), to "soft re-attach" to the host).             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  See remarks        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   section if USB_POLLING mode option is being used (usb_config.h option).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Additionally, this function should only be called from the main() loop   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   context.  Do not call this function from within an interrupt handler, as  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   this function may modify global interrupt enable bits and settings.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application firmware calls USBDeviceDetach(), it is strongly      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   recommended that the firmware wait at least >= 80ms before calling       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach().  If the firmeware performs a soft detach, and then    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   re-attaches too soon (ex: after a few micro seconds for instance), some  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   hosts may interpret this as an unexpected "glitch" rather than as a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   physical removal/re-attachment of the USB device.  In this case the host D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may simply ignore the event without re-enumerating the device.  To       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ensure that the host properly detects and processes the device soft      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detach/re-attach, it is recommended to make sure the device remains      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   detached long enough to mimic a real human controlled USB                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unplug/re-attach event (ex: after calling USBDeviceDetach(), do not      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   call USBDeviceAttach() for at least 80+ms, preferrably longer.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Neither the USBDeviceDetach() or USBDeviceAttach() functions are blocking D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   or take long to execute.  It is the application firmware's               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   responsibility for adding the 80+ms delay, when using these API          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   functions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Note: The Windows plug and play event handler processing is fairly       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   slow, especially in certain versions of Windows, and for certain USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device classes.  It has been observed that some device classes need to   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   provide even more USB detach dwell interval (before calling              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceAttach()), in order to work correctly after re-enumeration.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the USB device is a CDC class device, it is recommended to wait       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   at least 1.5 seconds or longer, before soft re-attaching to the host,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   to provide the plug and play event handler enough time to finish         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   processing the removal event, before the re-attach occurs.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the application is using the USB_POLLING mode option, then the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceDetach() and USBDeviceAttach() functions are not available.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In this mode, the USB stack relies on the "#define USE_USB_BUS_SENSE_IO"  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   and "#define USB_BUS_SENSE" options in the                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   HardwareProfile  [platform name].h file.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   When using the USB_POLLING mode option, and the                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   "#define USE_USB_BUS_SENSE_IO" definition has been commented out, then   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the USB stack assumes that it should always enable the USB module at     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pretty much all times.  Basically, anytime the application firmware      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   calls USBDeviceTasks(), the firmware will automatically enable the USB   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   module.  This mode would typically be selected if the application was    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   designed to be a purely bus powered device.  In this case, the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   application is powered from the +5V VBUS supply from the USB port, so    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   it is correct and sensible in this type of application to power up and   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   turn on the USB module, at anytime that the microcontroller is           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered (which implies the USB cable is attached and the host is also    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   powered).                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   In a self powered application, the USB stack is designed with the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   intention that the user will enable the "#define USE_USB_BUS_SENSE_IO"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option in the HardwareProfile  [platform name].h file.  When this     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   option is defined, then the USBDeviceTasks() function will automatically  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   check the I/O pin port value of the designated pin (based on the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #define USB_BUS_SENSE option in the HardwareProfile  [platform name].h  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   file), every time the application calls USBDeviceTasks().  If the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   USBDeviceTasks() function is executed and finds that the pin defined by  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   the #define USB_BUS_SENSE is in a logic low state, then it will          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   automatically disable the USB module and tri-state the D+ and D- pins.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If however the USBDeviceTasks() function is executed and finds the pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   defined by the #define USB_BUS_SENSE is in a logic high state, then it   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   will automatically enable the USB module, if it has not already been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   enabled.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceDetach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If the interrupt option is selected then the customer is required          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  to notify the stack when the device is attached or removed from the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if (USB_BUS_SENSE != 1)                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Disable module & detach from bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1CON = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    // Mask all USB interrupts                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    U1IE = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    //Move to the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    USBDeviceState = DETACHED_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable D+ Pullup                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Disable HNP                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDisableHnp();                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //Deactivate HNP                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        USBOTGDeactivateHnp();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //If ID Pin Changed State                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        if (USBIDIF && USBIDIE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        {                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                            //Re-detect & Initialize                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBOTGInitialize();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             //Clear ID Interrupt Flag                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        }                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #if defined __C30__ || defined __XC16__                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                    #endif                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //return so that we don't go through the rest of                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //the state machine                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                     return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If Session Is Started Then                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                              {                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If SRP Is Ready                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if (USBOTGSRPIsReady())                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRPReady                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPReady();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Clear SRP Timeout Flag                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Indicate Session Started                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Function:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   void USBDeviceAttach(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Summary:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Checks if VBUS is present, and that the USB module is not already        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   initalized, and if so, enables the USB module so as to signal device     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attachment to the USB host.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Description:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   This function indicates to the USB host that the USB device has been     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   attached to the bus.  This function needs to be called in order for the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   device to start to enumerate on the bus.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Precondition:                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  Also, should only  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   be called from the main() loop context.  Do not call USBDeviceAttach()   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   from within an interrupt handler, as the USBDeviceAttach() function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   may modify global interrupt enable bits and settings.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   For normal USB devices:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   Make sure that if the module was previously on, that it has been turned off  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   for a long time (ex: 100ms+) before calling this function to re-enable the module. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   If the device turns off the D+ (for full speed) or D- (for low speed) ~1.5k ohm D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pull up resistor, and then turns it back on very quickly, common hosts will sometimes  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   reject this event, since no human could ever unplug and reattach a USB device in a  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   microseconds (or nanoseconds) timescale.  The host could simply treat this as some kind  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   of glitch and ignore the event altogether.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Parameters:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Return Values:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   None                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Remarks:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		See also the USBDeviceDetach() API function documentation.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           ****************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBDeviceAttach(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if we are in the detached state                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if(USBDeviceState == DETACHED_STATE)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(USB_BUS_SENSE == 1)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	    //Initialize registers to known states.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1CON = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Mask all USB interrupts                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       U1IE = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Configure things like: pull ups, full/low-speed mode,              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //set the ping pong mode, and set internal transceiver               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       SetConfigurationOptions();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBEnableInterrupts();  //Modifies global interrupt settings         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Enable module & attach to bus                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //moved to the attached state                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeviceState = ATTACHED_STATE;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #ifdef  USB_SUPPORT_OTG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           U1OTGCON = USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowStatusStage(void);                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function prepares the proper endpoint 0 IN or endpoint 0 OUT     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (based on the controlTransferState) to allow the status stage packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of a control transfer to complete.  This function gets used          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       internally by the USB stack itself, but it may also be called from   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the application firmware, IF the application firmware called         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       the USBDeferStatusStage() function during the initial processing     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       of the control transfer request.  In this case, the application      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       must call the USBCtrlEPAllowStatusStage() once, after it has fully   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       completed processing and handling the data stage portion of the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       request.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       If the application firmware has no need for delaying control         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       transfers, and therefore never calls USBDeferStatusStage(), then the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       application firmware should not call USBCtrlEPAllowStatusStage().    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               None                                                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowStatusStage(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check and set two flags, prior to actually modifying any BDT entries.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //This double checking is necessary to make certain that                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //USBCtrlEPAllowStatusStage() can be called twice simultaneously (ex: once   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //in main loop context, while simultaneously getting an interrupt which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //tries to call USBCtrlEPAllowStatusStage() again, at the same time).        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c02   0105     MOVLB     0x5                if(USBStatusStageEnabledFlag1 == FALSE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c04   51ec     MOVF      0xec,0x0,0x1                                                                                    
006c06   e122     BNZ       0x6c4c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c08   0e01     MOVLW     0x1                    USBStatusStageEnabledFlag1 = TRUE;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c0a   6fec     MOVWF     0xec,0x1                                                                                        
006c0c   51ed     MOVF      0xed,0x0,0x1           if(USBStatusStageEnabledFlag2 == FALSE)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c0e   e11e     BNZ       0x6c4c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c10   0e01     MOVLW     0x1                        USBStatusStageEnabledFlag2 = TRUE;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c12   6fed     MOVWF     0xed,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //Determine which endpoints (EP0 IN or OUT needs arming for the status D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //stage), based on the type of control transfer currently pending.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c14   0e02     MOVLW     0x2                        if(controlTransferState == CTRL_TRF_RX)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c16   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006c18   e107     BNZ       0x6c28                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c1a   dbd3     RCALL     0x73c2                         pBDTEntryIn[0]->CNT = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c1c   52ee     MOVF      0xee,0x1,0x0                                                                                    
006c1e   6aef     CLRF      0xef,0x0                                                                                        
006c20   dbd0     RCALL     0x73c2                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c22   0ec8     MOVLW     0xc8                                                                                            
006c24   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c26   0012     RETURN    0x0                        else if(controlTransferState == CTRL_TRF_TX)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c28   05d0     DECF      0xd0,0x0,0x1                                                                                    
006c2a   e110     BNZ       0x6c4c                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c2c   6be3     CLRF      0xe3,0x1               		BothEP0OutUOWNsSet = FALSE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This buffer (when ping pong buffering is enabled on EP0 OUT) receives the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //next SETUP packet.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		#if((USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c2e   dbdf     RCALL     0x73ee                 		pBDTEntryEP0OutCurrent->CNT = USB_EP0_BUFF_SIZE;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c30   52ee     MOVF      0xee,0x1,0x0                                                                                    
006c32   0e40     MOVLW     0x40                                                                                            
006c34   6eef     MOVWF     0xef,0x0                                                                                        
006c36   dbdb     RCALL     0x73ee                 		pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c38   ec85     CALL      0x750a,0x0                                                                                      
006c3a   f03a                                                                                                               
006c3c   dbd8     RCALL     0x73ee                 		pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_BSTALL; //Prepare endpoint to accept a SETUP transaction D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c3e   0e84     MOVLW     0x84                                                                                            
006c40   6eef     MOVWF     0xef,0x0                                                                                        
006c42   0e01     MOVLW     0x1                    		BothEP0OutUOWNsSet = TRUE;	//Indicator flag used in USBCtrlTrfOutHandler() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c44   6fe3     MOVWF     0xe3,0x1                                                                                        
                                                   		#endif                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This EP0 OUT buffer receives the 0-byte OUT status stage packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c46   dbab     RCALL     0x739e                 		pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   		pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c48   0e80     MOVLW     0x80                   		pBDTEntryEP0OutNext->STAT.Val = _USIE;           // Note: DTSEN is 0   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4a   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************* D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Function: void USBCtrlEPAllowDataStage(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Summary: This function allows the data stage of either a host-to-device or     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       device-to-host control transfer (with data stage) to complete.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       This function is meant to be used in conjunction with either the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBDeferOUTDataStage() or USBDeferINDataStage().  If the firmware    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       does not call either USBDeferOUTDataStage() or USBDeferINDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       then the firmware does not need to manually call                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBCtrlEPAllowDataStage(), as the USB stack will call this function  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       instead.                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Conditions: A control transfer (with data stage) should already be pending,    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if the firmware calls this function.  Additionally, the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           should have called either USBDeferOUTDataStage() or              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           USBDeferINDataStage() at the start of the control transfer, if   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           the firmware will be calling this function manually.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Return:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           void USBCtrlEPAllowDataStage(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c4e   0105     MOVLB     0x5                USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c50   6bee     CLRF      0xee,0x1                                                                                        
006c52   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c54   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX) //(<setup><out><out>...<out><in>)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c56   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
006c58   e106     BNZ       0x6c66                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Prepare EP0 OUT to receive the first OUT data packet in the data stage sequence. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c5a   ece0     CALL      0x75c0,0x0             pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c5c   f03a                                                                                                               
006c5e   dbcc     RCALL     0x73f8                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c60   ec74     CALL      0x74e8,0x0             pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c62   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c64   d010     BRA       0x6c86             else    //else must be controlTransferState == CTRL_TRF_TX (<setup><in><in>...<in><out>) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Error check the data stage byte count.  Make sure the user specified   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //value was no greater than the number of bytes the host requested.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c66   51d4     MOVF      0xd4,0x0,0x1   		if(SetupPkt.wLength < inPipes[0].wCount.Val)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c68   0104     MOVLB     0x4                                                                                             
006c6a   5d36     SUBWF     0x36,0x0,0x1                                                                                    
006c6c   0105     MOVLB     0x5                                                                                             
006c6e   51d5     MOVF      0xd5,0x0,0x1                                                                                    
006c70   0104     MOVLB     0x4                                                                                             
006c72   5937     SUBWFB    0x37,0x0,0x1                                                                                    
006c74   e204     BC        0x6c7e                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c76   c436     MOVFF     0x436,0x5d4    			inPipes[0].wCount.Val = SetupPkt.wLength;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c78   f5d4                                                                                                               
006c7a   c437     MOVFF     0x437,0x5d5                                                                                     
006c7c   f5d5                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c7e   d861     RCALL     0x6d42         		USBCtrlTrfTxService();  //Copies one IN data packet worth of data from application buffer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		                        //to CtrlTrfData buffer.  Also keeps track of how many bytes remaining. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Cnt should have been initialized by responsible request owner (ex: by     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //using the USBEP0SendRAMPtr() or USBEP0SendROMPtr() API function).         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c80   dba0     RCALL     0x73c2         		pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(&CtrlTrfData);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c82   dbba     RCALL     0x73f8                                                                                          
006c84   db9e     RCALL     0x73c2         		pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c86   0ec8     MOVLW     0xc8                                                                                            
006c88   6eef     MOVWF     0xef,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c8a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** Internal Functions *********************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBConfigureEndpoint(BYTE EPNum, BYTE direction)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           BYTE EPNum - the endpoint to be configured                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  BYTE direction - the direction to be configured              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                   (either OUT_FROM_HOST or IN_TO_HOST)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function will configure the specified                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c8c   ec8b     CALL      0x7516,0x0     static void USBConfigureEndpoint(BYTE EPNum, BYTE direction)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c8e   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               volatile BDT_ENTRY* handle;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Compute a pointer to the even BDT entry corresponding to the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //EPNum and direction values passed to this function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c90   0e00     MOVLW     0x0                handle = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN]; //Get address of start of BDT D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c92   6ede     MOVWF     0xde,0x0                                                                                        
006c94   0e04     MOVLW     0x4                                                                                             
006c96   6edd     MOVWF     0xdd,0x0                                                                                        
006c98   dbc2     RCALL     0x741e             handle += EP(EPNum,direction,0u);     //Add in offset to the BDT of interest D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006c9a   0d04     MULLW     0x4                                                                                             
006c9c   cff4     MOVFF     0xff4,0x47                                                                                      
006c9e   f047                                                                                                               
006ca0   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
006ca2   ffe9                                                                                                               
006ca4   cfda     MOVFF     0xfda,0xfea                                                                                     
006ca6   ffea                                                                                                               
006ca8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006caa   26ee     ADDWF     0xee,0x1,0x0                                                                                    
006cac   5047     MOVF      0x47,0x0,0x0                                                                                    
006cae   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
00741e   0efd     MOVLW     0xfd                                                                                            
007420   50db     MOVF      0xdb,0x0,0x0                                                                                    
007422   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
007424   6e48     MOVWF     0x48,0x0                                                                                        
007426   0efe     MOVLW     0xfe                                                                                            
007428   50db     MOVF      0xdb,0x0,0x0                                                                                    
00742a   0d04     MULLW     0x4                                                                                             
00742c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00742e   2448     ADDWF     0x48,0x0,0x0                                                                                    
007430   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb0   db83     RCALL     0x73b8             handle->STAT.UOWN = 0;  //mostly redundant, since USBStdSetCfgHandler()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb2   9eef     BCF       0xef,0x7,0x0                                                                                    
                                               //already cleared the entire BDT table                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Make sure our pBDTEntryIn/Out[] pointer is initialized.  Needed later      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //for USBTransferOnePacket() API calls.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb4   0efd     MOVLW     0xfd               if(direction == OUT_FROM_HOST)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cb6   50db     MOVF      0xdb,0x0,0x0                                                                                    
006cb8   e102     BNZ       0x6cbe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cba   dbac     RCALL     0x7414                 pBDTEntryOut[EPNum] = handle;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007414   0efe     MOVLW     0xfe                                                                                            
007416   6aea     CLRF      0xea,0x0                                                                                        
007418   34db     RLCF      0xdb,0x0,0x0                                                                                    
00741a   efc4     GOTO      0x7588                                                                                          
00741c   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cbc   d001     BRA       0x6cc0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cbe   db73     RCALL     0x73a6                 pBDTEntryIn[EPNum] = handle;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cc0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006cc2   cfde     MOVFF     0xfde,0xfee                                                                                     
006cc4   ffee                                                                                                               
006cc6   cfdd     MOVFF     0xfdd,0xfed                                                                                     
006cc8   ffed                                                                                                               
0073a6   0efe     MOVLW     0xfe                                                                                            
0073a8   6aea     CLRF      0xea,0x0                                                                                        
0073aa   34db     RLCF      0xdb,0x0,0x0                                                                                    
0073ac   efbd     GOTO      0x757a                                                                                          
0073ae   f03a                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cca   db76     RCALL     0x73b8                 handle->STAT.DTS = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ccc   9cef     BCF       0xef,0x6,0x0                                                                                    
006cce   db74     RCALL     0x73b8                 (handle+1)->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cd0   0e04     MOVLW     0x4                                                                                             
006cd2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006cd4   0e00     MOVLW     0x0                                                                                             
006cd6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006cd8   8cef     BSF       0xef,0x6,0x0                                                                                    
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Set DTS to one because the first thing we will do                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //when transmitting is toggle the bit                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   handle->STAT.DTS = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(EPNum != 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       handle->STAT.DTS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       (handle+1)->STAT.DTS = 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cda   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cdc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006cde   e202     BC        0x6ce4                                                                                          
006ce0   6ae1     CLRF      0xe1,0x0                                                                                        
006ce2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006ce4   6ee1     MOVWF     0xe1,0x0                                                                                        
006ce6   d377     BRA       0x73d6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPServiceComplete(void)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine wrap up the remaining tasks in servicing        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a Setup Request. Its main task is to set the endpoint        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  controls appropriately for a given situation. See code       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  below.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  There are three main scenarios:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  a) There was no handler for the Request, in this case        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a STALL should be sent out.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  b) The host has requested a read control transfer,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     endpoints are required to be setup in a specific way.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  c) The host has requested a write control transfer, or       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     a control data stage is not required, endpoints are       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     required to be setup in a specific way.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Packet processing is resumed by clearing PKTDIS bit.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlEPServiceComplete(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * PKTDIS bit is set when a Setup Transaction is received.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Clear to resume packet processing.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ce8   9865     BCF       0x65,0x4,0x0       USBPacketDisable = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check the busy bits and the SetupPtk.DataDir variables to determine what type of D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//control transfer is currently in progress.  We need to know the type of control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//transfer that is currently pending, in order to know how to properly arm the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//EP0 IN and EP0 OUT endpoints.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cea   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cec   bfd3     BTFSC     0xd3,0x7,0x1                                                                                    
006cee   d00d     BRA       0x6d0a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf0   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf2   d009     BRA       0x6d06                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf4   0e02     MOVLW     0x2                        controlTransferState = CTRL_TRF_RX;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf6   6fd0     MOVWF     0xd0,0x1                                                                                        
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Control Write:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * <SETUP[0]><OUT[1]><OUT[0]>...<IN[1]> | <SETUP[0]>                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //1. Prepare OUT EP to receive data, unless a USB class request handler D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   function decided to defer the data stage (ex: because the intended D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   RAM buffer wasn't available yet) by calling USBDeferDataStage(). D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   If it did so, it is then responsible for calling USBCtrlEPAllowDataStage(), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //   once it is ready to begin receiving the data.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cf8   51ef     MOVF      0xef,0x0,0x1               if(USBDeferOUTDataStagePackets == FALSE)                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cfa   e101     BNZ       0x6cfe                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cfc   dfa8     RCALL     0x6c4e                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //2.  IN endpoint 0 status stage will be armed by USBCtrlEPAllowStatusStage()  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //after all of the OUT data has been received and consumed, or if a timeout occurs. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006cfe   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d00   6bed     CLRF      0xed,0x1                                                                                        
006d02   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d04   0012     RETURN    0x0                    else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * If no one knows how to service this request then stall.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * Must also prepare EP0 to receive the next SETUP transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d06   efa2     GOTO      0x7544                     pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d08   f03a                                                                                                               
                                                       pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else    // A module has claimed ownership of the control transfer session.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d0a   0104     MOVLB     0x4            		if(SetupPkt.DataDir == USB_SETUP_DEVICE_TO_HOST_BITFIELD)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d0c   af30     BTFSS     0x30,0x7,0x1                                                                                    
006d0e   d00d     BRA       0x6d2a                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d10   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_TX;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d12   0e01     MOVLW     0x1                                                                                             
006d14   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			/*                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * Control Read:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * <SETUP[0]><IN[1]><IN[0]>...<OUT[1]> | <SETUP[0]>                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 * 1. Prepare IN EP to transfer data to the host.  If however the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    wasn't ready yet (ex: because the firmware needs to go and read it from D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    some slow/currently unavailable resource, such as an external I2C EEPROM), D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    Then the class request handler reponsible should call the USBDeferDataStage() D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    macro.  In this case, the firmware may wait up to 500ms, before it is required D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    to transmit the first IN data packet.  Once the data is ready, and the firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    is ready to begin sending the data, it should then call the             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 *    USBCtrlEPAllowDataStage() function to start the data stage.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			 */                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d16   51ee     MOVF      0xee,0x0,0x1   			if(USBDeferINDataStagePackets == FALSE)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d18   e101     BNZ       0x6d1c                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1a   df99     RCALL     0x6c4e                         USBCtrlEPAllowDataStage();                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // 2. (Optionally) allow the status stage now, to prepare for early termination. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: If a class request handler decided to set USBDeferStatusStagePacket == TRUE, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    then it is responsible for eventually calling USBCtrlEPAllowStatusStage() once it D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    is ready.  If the class request handler does this, it needs to be careful to D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    be written so that it can handle the early termination scenario. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Ex: It should call USBCtrlEPAllowStatusStage() when any of the following occurs: D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    1.  The desired total number of bytes were sent to the host.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    2.  The number of bytes that the host originally requested (in the SETUP packet that  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        started the control transfer) has been reached.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    3.  Or, if a timeout occurs (ex: <50ms since the last successful EP0 IN transaction), regardless  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        of how many bytes have actually been sent.  This is necessary to prevent a deadlock situation D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        (where the control transfer can't complete, due to continuous NAK on status stage) if the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        host performs early termination.  If enabled, the USB_ENABLE_STATUS_STAGE_TIMEOUTS usb_config.h D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //        option can take care of this for you.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    Note: For this type of control transfer, there is normally no harm in simply arming the D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    status stage packet right now, even if the IN data is not ready yet.  This allows for D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    immediate early termination, without adding unecessary delay.  Therefore, it is generally not D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    recommended for the USB class handler firmware to call USBDeferStatusStage(), for this  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    type of control transfer.  If the USB class handler firmware needs more time to fetch the IN D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       //    data that needs to be sent to the host, it should instead use the USBDeferDataStage() function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1c   0105     MOVLB     0x5                        USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d1e   6bed     CLRF      0xed,0x1                                                                                        
006d20   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d22   51eb     MOVF      0xeb,0x0,0x1               if(USBDeferStatusStagePacket == FALSE)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d24   e10d     BNZ       0x6d40                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d26   ef01     GOTO      0x6c02                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d28   f036                                                                                                               
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		else   // (SetupPkt.DataDir == USB_SETUP_DIRECTION_HOST_TO_DEVICE)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//This situation occurs for special types of control transfers,               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//such as that which occurs when the host sends a SET_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//control transfer.  Ex:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//<SETUP[0]><IN[1]> | <SETUP[0]>                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Although the data direction is HOST_TO_DEVICE, there is no data stage       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//(hence: outPipes[0].info.bits.busy == 0).  There is however still           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//an IN status stage.                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d2a   0105     MOVLB     0x5            			controlTransferState = CTRL_TRF_RX;     //Since this is a HOST_TO_DEVICE control transfer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d2c   0e02     MOVLW     0x2                                                                                             
006d2e   6fd0     MOVWF     0xd0,0x1                                                                                        
                                           			                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//1. Prepare OUT EP to receive the next SETUP packet.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d30   db36     RCALL     0x739e         			pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d32   0e84     MOVLW     0x84           			pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d34   6eef     MOVWF     0xef,0x0                                                                                        
                                           				                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//2. Prepare for IN status stage of the control transfer                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d36   6bed     CLRF      0xed,0x1                   USBStatusStageEnabledFlag2 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d38   6bec     CLRF      0xec,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3a   51eb     MOVF      0xeb,0x0,0x1   			if(USBDeferStatusStagePacket == FALSE)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3c   e101     BNZ       0x6d40                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d3e   df61     RCALL     0x6c02                         USBCtrlEPAllowStatusStage();                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(ctrl_trf_session_owner == MUID_NULL)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d40   0012     RETURN    0x0            }//end USBCtrlEPServiceComplete                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfTxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pSrc, wCount, and usb_stat.ctrl_trf_mem are setup properly.  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for device to host control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(IN transactions).  This function takes care of managing a                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer over multiple USB transactions.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					This routine should be called from only two places.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  One from USBCtrlEPServiceComplete() and one from             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  USBCtrlTrfInHandler().                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d42   ecba     CALL      0x7574,0x0     static void USBCtrlTrfTxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d44   f03a                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToSend;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Figure out how many bytes of data to send in the next IN transaction.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Assume a full size packet, unless otherwise determined below.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d46   0e40     MOVLW     0x40               byteToSend = USB_EP0_BUFF_SIZE;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d48   6edf     MOVWF     0xdf,0x0                                                                                        
006d4a   0105     MOVLB     0x5                if(inPipes[0].wCount.Val < (BYTE)USB_EP0_BUFF_SIZE)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d4c   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006d4e   0e00     MOVLW     0x0                                                                                             
006d50   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006d52   e20a     BC        0x6d68                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d54   c5d4     MOVFF     0x5d4,0xfdf            byteToSend = inPipes[0].wCount.Val;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d56   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Keep track of whether or not we have sent a "short packet" yet.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //This is useful so that later on, we can configure EP0 IN to STALL,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after we have sent all of the intended data.  This makes sure the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //hardware STALLs if the host erroneously tries to send more IN token    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //packets, requesting more data than intended in the control transfer.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d58   51cf     MOVF      0xcf,0x0,0x1           if(shortPacketStatus == SHORT_PKT_NOT_USED)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d5a   e102     BNZ       0x6d60                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d5c   0e01     MOVLW     0x1                        shortPacketStatus = SHORT_PKT_PENDING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d5e   d003     BRA       0x6d66                 else if(shortPacketStatus == SHORT_PKT_PENDING)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d60   05cf     DECF      0xcf,0x0,0x1                                                                                    
006d62   e102     BNZ       0x6d68                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d64   0e02     MOVLW     0x2                        shortPacketStatus = SHORT_PKT_SENT;                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d66   6fcf     MOVWF     0xcf,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Keep track of how many bytes remain to be sent in the transfer, by         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //subtracting the number of bytes about to be sent from the total.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d68   50df     MOVF      0xdf,0x0,0x0       inPipes[0].wCount.Val = inPipes[0].wCount.Val - byteToSend;                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d6a   6a47     CLRF      0x47,0x0                                                                                        
006d6c   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006d6e   5dd4     SUBWF     0xd4,0x0,0x1                                                                                    
006d70   6fd4     MOVWF     0xd4,0x1                                                                                        
006d72   5047     MOVF      0x47,0x0,0x0                                                                                    
006d74   59d5     SUBWFB    0xd5,0x0,0x1                                                                                    
006d76   6fd5     MOVWF     0xd5,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Next, load the number of bytes to send to BC7..0 in buffer descriptor.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Note: Control endpoints may never have a max packet size of > 64 bytes.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Therefore, the BC8 and BC9 bits should always be maintained clear.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d78   db24     RCALL     0x73c2             pBDTEntryIn[0]->CNT = byteToSend;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d7a   52ee     MOVF      0xee,0x1,0x0                                                                                    
006d7c   cfdf     MOVFF     0xfdf,0xfef                                                                                     
006d7e   ffef                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Now copy the data from the source location, to the CtrlTrfData[] buffer,   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //which we will send to the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d80   0e38     MOVLW     0x38               pDst = (USB_VOLATILE BYTE*)CtrlTrfData;                // Set destination pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d82   6fdd     MOVWF     0xdd,0x1                                                                                        
006d84   0e04     MOVLW     0x4                                                                                             
006d86   6fde     MOVWF     0xde,0x1                                                                                        
006d88   b1d3     BTFSC     0xd3,0x0,0x1       if(inPipes[0].info.bits.ctrl_trf_mem == USB_EP0_ROM)   // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d8a   d00d     BRA       0x6da6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d8c   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d8e   e017     BZ        0x6dbe                                                                                          
006da4   d7f3     BRA       0x6d8c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d90   c5d1     MOVFF     0x5d1,0xff6                *pDst++ = *inPipes[0].pSrc.bRom++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006d92   fff6                                                                                                               
006d94   c5d2     MOVFF     0x5d2,0xff7                                                                                     
006d96   fff7                                                                                                               
006d98   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006d9a   0e00     MOVLW     0x0                                                                                             
006d9c   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006d9e   0008     TBLRD                                                                                                     
006da0   50f5     MOVF      0xf5,0x0,0x0                                                                                    
006da2   db57     RCALL     0x7452                                                                                          
007452   6ee6     MOVWF     0xe6,0x0                                                                                        
007454   c5dd     MOVFF     0x5dd,0xfe9                                                                                     
007456   ffe9                                                                                                               
007458   c5de     MOVFF     0x5de,0xfea                                                                                     
00745a   ffea                                                                                                               
00745c   2bdd     INCF      0xdd,0x1,0x1                                                                                    
00745e   0e00     MOVLW     0x0                                                                                             
007460   23de     ADDWFC    0xde,0x1,0x1                                                                                    
007462   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007464   50e7     MOVF      0xe7,0x0,0x0                                                                                    
007466   6eef     MOVWF     0xef,0x0                                                                                        
007468   06df     DECF      0xdf,0x1,0x0               byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00746a   0012     RETURN    0x0                                                                                             
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else  // RAM                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da6   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006da8   e00a     BZ        0x6dbe                                                                                          
006dbc   d7f4     BRA       0x6da6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006daa   c5d1     MOVFF     0x5d1,0xfe9                *pDst++ = *inPipes[0].pSrc.bRam++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dac   ffe9                                                                                                               
006dae   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006db0   ffea                                                                                                               
006db2   2bd1     INCF      0xd1,0x1,0x1                                                                                    
006db4   0e00     MOVLW     0x0                                                                                             
006db6   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
006db8   50ef     MOVF      0xef,0x0,0x0                                                                                    
006dba   db4b     RCALL     0x7452                                                                                          
                                                       byteToSend--;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end while(byte_to_send.Val)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if(usb_stat.ctrl_trf_mem == _ROM)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dbe   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlTrfTxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc0   d30a     BRA       0x73d6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfRxService(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    pDst and wCount are setup properly.                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  pSrc is always &CtrlTrfData                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb_stat.ctrl_trf_mem is always USB_EP0_RAM.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  wCount should be set to 0 at the start of each control       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is used for host to device control transfers    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					(uses OUT transactions).  This function receives the data that arrives    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					on EP0 OUT, and copies it into the appropriate outPipes[0].pDst.bRam      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					buffer.  Once the host has sent all the data it was intending             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					to send, this function will call the appropriate outPipes[0].pFunc()      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					handler (unless it is NULL), so that it can be used by the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *					intended target firmware.                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc2   dba9     RCALL     0x7516         static void USBCtrlTrfRxService(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE byteToRead;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Load byteToRead with the number of bytes the host just sent us in the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //last OUT transaction.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc4   db14     RCALL     0x73ee             byteToRead = pBDTEntryEP0OutCurrent->CNT;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dc6   52ee     MOVF      0xee,0x1,0x0                                                                                    
006dc8   cfef     MOVFF     0xfef,0xfdf                                                                                     
006dca   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Update the "outPipes[0].wCount.Val", which keeps track of the total number D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //of remaining bytes expected to be received from the host, in the control   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer.  First check to see if the host sent us more bytes than the      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //application firmware was expecting to receive.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dcc   cfdf     MOVFF     0xfdf,0x46         if(byteToRead > outPipes[0].wCount.Val)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dce   f046                                                                                                               
006dd0   5046     MOVF      0x46,0x0,0x0                                                                                    
006dd2   0105     MOVLB     0x5                                                                                             
006dd4   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006dd6   0e00     MOVLW     0x0                                                                                             
006dd8   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006dda   e202     BC        0x6de0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ddc   c5d9     MOVFF     0x5d9,0xfdf            byteToRead = outPipes[0].wCount.Val;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006dde   ffdf                                                                                                               
                                               }	                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Reduce the number of remaining bytes by the number we just received.       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006de0   50df     MOVF      0xdf,0x0,0x0   	outPipes[0].wCount.Val = outPipes[0].wCount.Val - byteToRead;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006de2   6e46     MOVWF     0x46,0x0                                                                                        
006de4   6a47     CLRF      0x47,0x0                                                                                        
006de6   50e8     MOVF      0xe8,0x0,0x0                                                                                    
006de8   5dd9     SUBWF     0xd9,0x0,0x1                                                                                    
006dea   6fd9     MOVWF     0xd9,0x1                                                                                        
006dec   5047     MOVF      0x47,0x0,0x0                                                                                    
006dee   59da     SUBWFB    0xda,0x0,0x1                                                                                    
006df0   6fda     MOVWF     0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Copy the OUT DATAx packet bytes that we just received from the host,       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //into the user application buffer space.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df2   0e01     MOVLW     0x1                for(i=0;i<byteToRead;i++)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006df4   6adb     CLRF      0xdb,0x0                                                                                        
006df6   50df     MOVF      0xdf,0x0,0x0                                                                                    
006df8   6ef3     MOVWF     0xf3,0x0                                                                                        
006dfa   0e01     MOVLW     0x1                                                                                             
006dfc   cfdb     MOVFF     0xfdb,0xff4                                                                                     
006dfe   fff4                                                                                                               
006e00   50f3     MOVF      0xf3,0x0,0x0                                                                                    
006e02   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
006e04   e216     BC        0x6e32                                                                                          
006e2c   0e01     MOVLW     0x1                                                                                             
006e2e   2adb     INCF      0xdb,0x1,0x0                                                                                    
006e30   d7e2     BRA       0x6df6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e06   0e01     MOVLW     0x1                    *outPipes[0].pDst.bRam++ = CtrlTrfData[i];                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e08   50db     MOVF      0xdb,0x0,0x0                                                                                    
006e0a   6aea     CLRF      0xea,0x0                                                                                        
006e0c   0f38     ADDLW     0x38                                                                                            
006e0e   6ee9     MOVWF     0xe9,0x0                                                                                        
006e10   0e04     MOVLW     0x4                                                                                             
006e12   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006e14   50ef     MOVF      0xef,0x0,0x0                                                                                    
006e16   6ee6     MOVWF     0xe6,0x0                                                                                        
006e18   c5d6     MOVFF     0x5d6,0xfe9                                                                                     
006e1a   ffe9                                                                                                               
006e1c   c5d7     MOVFF     0x5d7,0xfea                                                                                     
006e1e   ffea                                                                                                               
006e20   2bd6     INCF      0xd6,0x1,0x1                                                                                    
006e22   0e00     MOVLW     0x0                                                                                             
006e24   23d7     ADDWFC    0xd7,0x1,0x1                                                                                    
006e26   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006e28   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006e2a   6eef     MOVWF     0xef,0x0                                                                                        
                                               }//end while(byteToRead.Val)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If there is more data to receive, prepare EP0 OUT so that it can receive   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the next packet in the sequence.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e32   0e00     MOVLW     0x0                if(outPipes[0].wCount.Val > 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e34   80d8     BSF       0xd8,0x0,0x0                                                                                    
006e36   55d9     SUBFWB    0xd9,0x0,0x1                                                                                    
006e38   0e00     MOVLW     0x0                                                                                             
006e3a   55da     SUBFWB    0xda,0x0,0x1                                                                                    
006e3c   e20d     BC        0x6e58                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e3e   dbc0     RCALL     0x75c0                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0075c0   df93     RCALL     0x74e8                                                                                          
0075c2   52ee     MOVF      0xee,0x1,0x0                                                                                    
0075c4   0e40     MOVLW     0x40                                                                                            
0075c6   6eef     MOVWF     0xef,0x0                                                                                        
006e40   dadb     RCALL     0x73f8                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0075c8   ef74     GOTO      0x74e8                                                                                          
0075ca   f03a                                                                                                               
006e42   dad5     RCALL     0x73ee                 if(pBDTEntryEP0OutCurrent->STAT.DTS == 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e44   50ef     MOVF      0xef,0x0,0x0                                                                                    
006e46   0b40     ANDLW     0x40                                                                                            
006e48   e103     BNZ       0x6e50                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4a   db4e     RCALL     0x74e8                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4c   0ec8     MOVLW     0xc8                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e4e   d002     BRA       0x6e54                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e50   db4b     RCALL     0x74e8                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e52   0e88     MOVLW     0x88                                                                                            
006e54   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e56   d012     BRA       0x6e7c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //We have received all OUT packets that we were expecting to                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //receive for the control transfer.  Prepare EP0 OUT to receive             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the next SETUP transaction that may arrive.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e58   daa2     RCALL     0x739e                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Configure EP0 OUT to receive the next SETUP transaction for any future D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfers.  However, set BSTALL in case the host tries to send D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more data than it claims it was going to send.                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5a   0e84     MOVLW     0x84                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5c   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//All data bytes for the host to device control write (OUT) have now been      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//received successfully.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Go ahead and call the user specified callback function, to use/consume       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//the control transfer data (ex: if the "void (*function)" parameter           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//was non-NULL when USBEP0Receive() was called).                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e5e   51db     MOVF      0xdb,0x0,0x1           if(outPipes[0].pFunc != NULL)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e60   11dc     IORWF     0xdc,0x0,0x1                                                                                    
006e62   e007     BZ        0x6e72                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__XC8)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Special pragmas to suppress an expected/harmless warning       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //message when building with the XC8 compiler                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning push                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning disable 1088                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #pragma warning pop                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e64   d005     BRA       0x6e70                         outPipes[0].pFunc();    //Call the user's callback function      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e66   c5dc     MOVFF     0x5dc,0xffa                                                                                     
006e68   fffa                                                                                                               
006e6a   0105     MOVLB     0x5                                                                                             
006e6c   51db     MOVF      0xdb,0x0,0x1                                                                                    
006e6e   6ef9     MOVWF     0xf9,0x0                                                                                        
006e70   dffa     RCALL     0x6e66                                                                                          
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e72   0105     MOVLB     0x5                    outPipes[0].info.bits.busy = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e74   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Ready to arm status stage IN transaction now, if the application       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //firmware has completed processing the request.  If it is still busy    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //and needs more time to finish handling the request, then the user      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //callback (the one called by the outPipes[0].pFunc();) should set the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBDeferStatusStagePacket to TRUE (by calling USBDeferStatusStage()).  In  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //this case, it is the application's firmware responsibility to call     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the USBCtrlEPAllowStatusStage() function, once it is fully done handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Note: The application firmware must process the request and call       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //USBCtrlEPAllowStatusStage() in a semi-timely fashion.  "Semi-timely"   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //means either 50ms, 500ms, or 5 seconds, depending on the type of       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  See the USB 2.0 specification section 9.2.6 for     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //more details.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e76   51eb     MOVF      0xeb,0x0,0x1           if(USBDeferStatusStagePacket == FALSE)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e78   e101     BNZ       0x6e7c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e7a   dec3     RCALL     0x6c02                     USBCtrlEPAllowStatusStage();                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e7c   0e02     MOVLW     0x2            }//end USBCtrlTrfRxService                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e7e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006e80   e202     BC        0x6e86                                                                                          
006e82   6ae1     CLRF      0xe1,0x0                                                                                        
006e84   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006e86   6ee1     MOVWF     0xe1,0x0                                                                                        
006e88   d2a6     BRA       0x73d6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdSetCfgHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine first disables all endpoints by                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  clearing UEP registers. It then configures                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  (initializes) endpoints by calling the callback              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  function USBCBInitEP().                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8a   db74     RCALL     0x7574         static void USBStdSetCfgHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // This will generate a zero length packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8c   0105     MOVLB     0x5                inPipes[0].info.bits.busy = 1;                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e8e   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the endpoint control registers                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e90   db50     RCALL     0x7532             DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Clear all of the BDT entries                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e92   0e30     MOVLW     0x30               memset((void*)&BDT[0], 0x00, sizeof(BDT));                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006e94   6ee6     MOVWF     0xe6,0x0                                                                                        
006e96   6ae6     CLRF      0xe6,0x0                                                                                        
006e98   6ae6     CLRF      0xe6,0x0                                                                                        
006e9a   0e00     MOVLW     0x0                                                                                             
006e9c   6ee6     MOVWF     0xe6,0x0                                                                                        
006e9e   0e04     MOVLW     0x4                                                                                             
006ea0   dab1     RCALL     0x7404                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea2   8c65     BSF       0x65,0x6,0x0       USBPingPongBufferReset = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Re-Initialize all ping pong software state bits to 0 (which corresponds to    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//the EVEN buffer being the next one that will be used), since we are also      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//doing a hardware ping pong pointer reset above.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea4   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ea6   0e03     MOVLW     0x3                                                                                             
006ea8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006eaa   e202     BC        0x6eb0                                                                                          
006eae   d7fb     BRA       0x6ea6                                                                                          
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eac   dac2     RCALL     0x7432         		ep_data_in[i].Val = 0u;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   ep_data_out[i].Val = 0u;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //clear the alternate interface settings                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb0   0e01     MOVLW     0x1                memset((void*)&USBAlternateInterface,0x00,USB_MAX_NUM_INT);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eb2   6ee6     MOVWF     0xe6,0x0                                                                                        
006eb4   6ae6     CLRF      0xe6,0x0                                                                                        
006eb6   6ae6     CLRF      0xe6,0x0                                                                                        
006eb8   0ebe     MOVLW     0xbe                                                                                            
006eba   6ee6     MOVWF     0xe6,0x0                                                                                        
006ebc   0e05     MOVLW     0x5                                                                                             
006ebe   daa2     RCALL     0x7404                                                                                          
007404   6ee6     MOVWF     0xe6,0x0                                                                                        
007406   ec8d     CALL      0x911a,0x0                                                                                      
007408   f048                                                                                                               
00740a   6e46     MOVWF     0x46,0x0                                                                                        
00740c   0e05     MOVLW     0x5                                                                                             
00740e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007410   5046     MOVF      0x46,0x0,0x0                                                                                    
007412   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec0   9c65     BCF       0x65,0x6,0x0       USBPingPongBufferReset = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec2   0105     MOVLB     0x5                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ec4   0e08     MOVLW     0x8                                                                                             
006ec6   6fc9     MOVWF     0xc9,0x1                                                                                        
006ec8   0e04     MOVLW     0x4                                                                                             
006eca   6fca     MOVWF     0xca,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Set the next out to the current out packet                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ecc   0e00     MOVLW     0x0                pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN];            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ece   6fbf     MOVWF     0xbf,0x1                                                                                        
006ed0   0e04     MOVLW     0x4                                                                                             
006ed2   6fc0     MOVWF     0xc0,0x1                                                                                        
006ed4   c5bf     MOVFF     0x5bf,0x5c1        pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ed6   f5c1                                                                                                               
006ed8   6fc2     MOVWF     0xc2,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //set the current configuration                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006eda   c432     MOVFF     0x432,0x5bd        USBActiveConfiguration = SetupPkt.bConfigurationValue;                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006edc   f5bd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //if the configuration value == 0                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ede   51bd     MOVF      0xbd,0x0,0x1       if(USBActiveConfiguration == 0u)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee0   e102     BNZ       0x6ee6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Go back to the addressed state                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee2   0e10     MOVLW     0x10                   USBDeviceState = ADDRESS_STATE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee4   d00b     BRA       0x6efc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //initialize the required endpoints                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee6   0e01     MOVLW     0x1                    USB_SET_CONFIGURATION_HANDLER(EVENT_CONFIGURED,(void*)&USBActiveConfiguration,1); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ee8   6ee6     MOVWF     0xe6,0x0                                                                                        
006eea   6ae6     CLRF      0xe6,0x0                                                                                        
006eec   0ebd     MOVLW     0xbd                                                                                            
006eee   6ee6     MOVWF     0xe6,0x0                                                                                        
006ef0   0e05     MOVLW     0x5                                                                                             
006ef2   6ee6     MOVWF     0xe6,0x0                                                                                        
006ef4   0e01     MOVLW     0x1                                                                                             
006ef6   da5c     RCALL     0x73b0                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Otherwise go to the configured state.  Update the state variable last, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //after performing all of the set configuration related initialization   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //tasks.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ef8   0105     MOVLB     0x5                    USBDeviceState = CONFIGURED_STATE;		                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efa   0e20     MOVLW     0x20                                                                                            
006efc   6fbc     MOVWF     0xbc,0x1                                                                                        
                                               }//end if(SetupPkt.bConfigurationValue == 0)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006efe   52e5     MOVF      0xe5,0x1,0x0   }//end USBStdSetCfgHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f00   d26a     BRA       0x73d6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetDscHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_DESCRIPTOR             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  request.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStdGetDscHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f02   0e80     MOVLW     0x80               if(SetupPkt.bmRequestType == 0x80)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f04   0104     MOVLB     0x4                                                                                             
006f06   5d30     SUBWF     0x30,0x0,0x1                                                                                    
006f08   e14e     BNZ       0x6fa6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f0a   0105     MOVLB     0x5                    inPipes[0].info.Val = USB_EP0_ROM | USB_EP0_BUSY | USB_EP0_INCLUDE_ZERO; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f0c   0ec0     MOVLW     0xc0                                                                                            
006f0e   6fd3     MOVWF     0xd3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f10   0104     MOVLB     0x4                    switch(SetupPkt.bDescriptorType)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f12   5133     MOVF      0x33,0x0,0x1                                                                                    
006f14   0a03     XORLW     0x3                                                                                             
006f16   e025     BZ        0x6f62                                                                                          
006f18   0a01     XORLW     0x1                                                                                             
006f1a   e009     BZ        0x6f2e                                                                                          
006f1c   0a03     XORLW     0x3                                                                                             
006f1e   e141     BNZ       0x6fa2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_DEVICE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&device_dsc;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f20   0105     MOVLB     0x5                                inPipes[0].pSrc.bRom = (ROM BYTE*)USB_USER_DEVICE_DESCRIPTOR; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f22   0e7a     MOVLW     0x7a                                                                                            
006f24   6fd1     MOVWF     0xd1,0x1                                                                                        
006f26   0e90     MOVLW     0x90                                                                                            
006f28   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f2a   0e12     MOVLW     0x12                           inPipes[0].wCount.Val = sizeof(device_dsc);                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f2c   d034     BRA       0x6f96                         break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_CONFIGURATION:                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = *(USB_CD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #else                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f2e   5132     MOVF      0x32,0x0,0x1                       inPipes[0].pSrc.bRom = *(USB_USER_CONFIG_DESCRIPTOR+SetupPkt.bDscIndex); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f30   6ef6     MOVWF     0xf6,0x0                                                                                        
006f32   6af7     CLRF      0xf7,0x0                                                                                        
006f34   90d8     BCF       0xd8,0x0,0x0                                                                                    
006f36   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006f38   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006f3a   0ecf     MOVLW     0xcf                                                                                            
006f3c   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
006f3e   0e90     MOVLW     0x90                                                                                            
006f40   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
006f42   0009     TBLRDPOSTINC                                                                                              
006f44   cff5     MOVFF     0xff5,0x5d1                                                                                     
006f46   f5d1                                                                                                               
006f48   000a     TBLRDPOSTDEC                                                                                              
006f4a   cff5     MOVFF     0xff5,0x5d2                                                                                     
006f4c   f5d2                                                                                                               
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //This must be loaded using byte addressing.  The source pointer D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  may not be word aligned for the 16 or 32 bit machines resulting D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  in an address error on the dereference.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f4e   0e02     MOVLW     0x2                            inPipes[0].wCount.byte.LB = *(inPipes[0].pSrc.bRom+2);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f50   0105     MOVLB     0x5                                                                                             
006f52   dabc     RCALL     0x74cc                                                                                          
006f54   cff5     MOVFF     0xff5,0x5d4                                                                                     
006f56   f5d4                                                                                                               
0074cc   6af7     CLRF      0xf7,0x0                                                                                        
0074ce   25d1     ADDWF     0xd1,0x0,0x1                                                                                    
0074d0   6ef6     MOVWF     0xf6,0x0                                                                                        
0074d2   51d2     MOVF      0xd2,0x0,0x1                                                                                    
0074d4   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
0074d6   0008     TBLRD                                                                                                     
0074d8   0012     RETURN    0x0                                                                                             
006f58   0e03     MOVLW     0x3                            inPipes[0].wCount.byte.HB = *(inPipes[0].pSrc.bRom+3);           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f5a   dab8     RCALL     0x74cc                                                                                          
006f5c   cff5     MOVFF     0xff5,0x5d5                                                                                     
006f5e   f5d5                                                                                                               
006f60   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       case USB_DESCRIPTOR_STRING:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //USB_NUM_STRING_DESCRIPTORS was introduced as optional in release v2.3.  In v2.4 and D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  later it is now manditory.  This should be defined in usb_config.h and should D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  indicate the number of string descriptors.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f62   0e04     MOVLW     0x4                            if(SetupPkt.bDscIndex<USB_NUM_STRING_DESCRIPTORS)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f64   5d32     SUBWF     0x32,0x0,0x1                                                                                    
006f66   e21a     BC        0x6f9c                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set memory type to RAM                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f68   0105     MOVLB     0x5                                inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f6a   81d3     BSF       0xd3,0x0,0x1                                                                                    
                                                               //Get a pointer to the String descriptor requested           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f6c   0104     MOVLB     0x4                                inPipes[0].pSrc.bRam = *(USB_SD_Ptr+SetupPkt.bDscIndex);     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f6e   5132     MOVF      0x32,0x0,0x1                                                                                    
006f70   6ee9     MOVWF     0xe9,0x0                                                                                        
006f72   6aea     CLRF      0xea,0x0                                                                                        
006f74   90d8     BCF       0xd8,0x0,0x0                                                                                    
006f76   36e9     RLCF      0xe9,0x1,0x0                                                                                    
006f78   36ea     RLCF      0xea,0x1,0x0                                                                                    
006f7a   0ef6     MOVLW     0xf6                                                                                            
006f7c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006f7e   0e02     MOVLW     0x2                                                                                             
006f80   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006f82   cfee     MOVFF     0xfee,0x5d1                                                                                     
006f84   f5d1                                                                                                               
006f86   cfed     MOVFF     0xfed,0x5d2                                                                                     
006f88   f5d2                                                                                                               
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8a   c5d1     MOVFF     0x5d1,0xfe9                        inPipes[0].wCount.Val = *inPipes[0].pSrc.bRam;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f8c   ffe9                                                                                                               
006f8e   c5d2     MOVFF     0x5d2,0xfea                                                                                     
006f90   ffea                                                                                                               
006f92   50ef     MOVF      0xef,0x0,0x0                                                                                    
006f94   0105     MOVLB     0x5                                                                                             
006f96   6fd4     MOVWF     0xd4,0x1                                                                                        
006f98   6bd5     CLRF      0xd5,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #if defined(IMPLEMENT_MICROSOFT_OS_DESCRIPTOR)                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else if(SetupPkt.bDscIndex == MICROSOFT_OS_DESCRIPTOR_INDEX)     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Get a pointer to the special MS OS string descriptor requested D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&MSOSDescriptor;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               // Set data count                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               inPipes[0].wCount.Val = *inPipes[0].pSrc.bRom;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           #endif                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9a   0012     RETURN    0x0                            else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9c   0105     MOVLB     0x5                                inPipes[0].info.Val = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006f9e   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa0   0012     RETURN    0x0                            break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       default:                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa2   0105     MOVLB     0x5                            inPipes[0].info.Val = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa4   6bd3     CLRF      0xd3,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end switch                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa6   0012     RETURN    0x0            }//end USBStdGetDscHandler                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdGetStatusHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard GET_STATUS request         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fa8   dab6     RCALL     0x7516         static void USBStdGetStatusHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006faa   0104     MOVLB     0x4                CtrlTrfData[0] = 0;                 // Initialize content                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fac   6b38     CLRF      0x38,0x1                                                                                        
006fae   6b39     CLRF      0x39,0x1           CtrlTrfData[1] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb0   5130     MOVF      0x30,0x0,0x1       switch(SetupPkt.Recipient)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fb2   0b1f     ANDLW     0x1f                                                                                            
006fb4   0a02     XORLW     0x2                                                                                             
006fb6   e011     BZ        0x6fda                                                                                          
006fb8   0a03     XORLW     0x3                                                                                             
006fba   e00c     BZ        0x6fd4                                                                                          
006fbc   0a01     XORLW     0x1                                                                                             
006fbe   e11e     BNZ       0x6ffc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_DEVICE_BITFIELD:                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc0   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc2   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Self-Powered Status [0] Bus-Powered [1] Self-Powered   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        *      bit1: RemoteWakeup        [0] Disabled    [1] Enabled        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       if(self_power == 1) // self_power is defined in HardwareProfile.h    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc4   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x01;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc6   8138     BSF       0x38,0x0,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fc8   0105     MOVLB     0x5                        if(RemoteWakeup == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fca   05df     DECF      0xdf,0x0,0x1                                                                                    
006fcc   e117     BNZ       0x6ffc                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fce   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x02;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd0   8338     BSF       0x38,0x1,0x1                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd2   d014     BRA       0x6ffc                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_INTERFACE_BITFIELD:                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd4   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;     // No data to update              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fd6   8fd3     BSF       0xd3,0x7,0x1                                                                                    
006fd8   d011     BRA       0x6ffc                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD:                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fda   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fdc   8fd3     BSF       0xd3,0x7,0x1                                                                                    
                                                       /*                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        * [0]: bit0: Halt Status [0] Not Halted [1] Halted                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                        */                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           BDT_ENTRY *p;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fde   0104     MOVLB     0x4                            if(SetupPkt.EPDir == 0u)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe0   bf34     BTFSC     0x34,0x7,0x1                                                                                    
006fe2   d002     BRA       0x6fe8                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe4   dab6     RCALL     0x7552                             p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe6   d001     BRA       0x6fea                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fe8   dab9     RCALL     0x755c                             p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fea   da40     RCALL     0x746c                                                                                          
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fec   dabf     RCALL     0x756c                         if((p->STAT.UOWN == 1u) && (p->STAT.BSTALL == 1u))               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006fee   e006     BZ        0x6ffc                                                                                          
006ff0   d9e3     RCALL     0x73b8                                                                                          
006ff2   50ef     MOVF      0xef,0x0,0x0                                                                                    
006ff4   0b04     ANDLW     0x4                                                                                             
006ff6   e002     BZ        0x6ffc                                                                                          
006ff8   0e01     MOVLW     0x1                                CtrlTrfData[0]=0x01;    // Set bit0                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffa   6f38     MOVWF     0x38,0x1                                                                                        
                                                           break;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffc   0105     MOVLB     0x5                if(inPipes[0].info.bits.busy == 1u)                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
006ffe   afd3     BTFSS     0xd3,0x7,0x1                                                                                    
007000   d007     BRA       0x7010                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007002   0e38     MOVLW     0x38                   inPipes[0].pSrc.bRam = (BYTE*)&CtrlTrfData;            // Set Source     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007004   6fd1     MOVWF     0xd1,0x1                                                                                        
007006   0e04     MOVLW     0x4                                                                                             
007008   6fd2     MOVWF     0xd2,0x1                                                                                        
00700a   81d3     BSF       0xd3,0x0,0x1           inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700c   0e02     MOVLW     0x2                    inPipes[0].wCount.v[0] = 2;                         // Set data count    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00700e   6fd4     MOVWF     0xd4,0x1                                                                                        
                                               }//end if(...)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007010   0e02     MOVLW     0x2            }//end USBStdGetStatusHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007012   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007014   e202     BC        0x701a                                                                                          
007016   6ae1     CLRF      0xe1,0x0                                                                                        
007018   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00701a   6ee1     MOVWF     0xe1,0x0                                                                                        
00701c   d1dc     BRA       0x73d6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStallHandler(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles the event of a STALL                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  occuring on the bus                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBStallHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Does not really have to do anything here,                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * even for the control endpoint.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * All BDs of Endpoint 0 are owned by SIE right now,                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * but once a Setup Transaction is received, the ownership                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_OUT will be returned to CPU.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * When the Setup Transaction is serviced, the ownership                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * for EP0_IN will then be forced back to CPU by firmware.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /* v2b fix */                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00701e   010f     MOVLB     0xf                if(U1EP0bits.EPSTALL == 1u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007020   a126     BTFSS     0x26,0x0,0x1                                                                                    
007022   d00c     BRA       0x703c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   // UOWN - if 0, owned by CPU, if 1, owned by SIE                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007024   d9e4     RCALL     0x73ee                 if((pBDTEntryEP0OutCurrent->STAT.Val == _USIE) && (pBDTEntryIn[0]->STAT.Val == (_USIE|_BSTALL))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007026   50ef     MOVF      0xef,0x0,0x0                                                                                    
007028   0880     SUBLW     0x80                                                                                            
00702a   e107     BNZ       0x703a                                                                                          
00702c   d9ca     RCALL     0x73c2                                                                                          
00702e   50ef     MOVF      0xef,0x0,0x0                                                                                    
007030   0884     SUBLW     0x84                                                                                            
007032   e103     BNZ       0x703a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // Set ep0Bo to stall also                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007034   d9dc     RCALL     0x73ee                     pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007036   0e8c     MOVLW     0x8c                                                                                            
007038   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }//end if                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00703a   9126     BCF       0x26,0x0,0x1           U1EP0bits.EPSTALL = 0;               // Clear stall status               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00703c   9a62     BCF       0x62,0x5,0x0       USBClearInterruptFlag(USBStallIFReg,USBStallIFBitNum);                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00703e   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBSuspend(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This function handles if the host tries to                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  suspend the device                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBSuspend(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * NOTE: Do not clear UIRbits.ACTVIF here!                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * Reason:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * ACTVIF is only generated once an IDLEIF has been generated.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * This is a 1:1 ratio interrupt generation.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * For every IDLEIF, there will be only one ACTVIF regardless of             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * the number of subsequent bus transitions.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If the ACTIF is cleared here, a problem could occur when:                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * [       IDLE       ][bus activity ->                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * <--- 3 ms ----->     ^                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                ^     ACTVIF=1                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                IDLEIF=1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *  #           #           #           #   (#=Program polling flags)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          ^                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          This polling loop will see both                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          IDLEIF=1 and ACTVIF=1.                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          However, the program services IDLEIF first       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          because ACTIVIE=0.                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          If this routine clears the only ACTIVIF,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          then it can never get out of the suspend         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                *                          mode.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007040   010f     MOVLB     0xf                USBActivityIE = 1;                     // Enable bus activity interrupt      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007042   8536     BSF       0x36,0x2,0x1                                                                                    
007044   9862     BCF       0x62,0x4,0x0       USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007046   8265     BSF       0x65,0x1,0x0           U1CONbits.SUSPND = 1;                   // Put USB module in power conserve D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                           // mode, SIE clock inactive      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007048   0105     MOVLB     0x5                USBBusIsSuspended = TRUE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00704a   0e01     MOVLW     0x1                                                                                             
00704c   6fe0     MOVWF     0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * At this point the PIC can go into sleep,idle, or                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * switch to a slower clock, etc.  This should be done in the                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * USBCBSuspend() if necessary.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00704e   da14     RCALL     0x7478             USB_SUSPEND_HANDLER(EVENT_SUSPEND,0,0);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007050   0e75     MOVLW     0x75                                                                                            
007052   efd8     GOTO      0x73b0                                                                                          
007054   f039                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBWakeFromSuspend(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBWakeFromSuspend(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007056   0105     MOVLB     0x5                USBBusIsSuspended = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007058   6be0     CLRF      0xe0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * If using clock switching, the place to restore the original               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                * microcontroller core clock frequency is in the USBCBWakeFromSuspend() callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00705a   da0e     RCALL     0x7478             USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00705c   0e74     MOVLW     0x74                                                                                            
00705e   d9a8     RCALL     0x73b0                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX) || defined(_PIC14E)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //To avoid improperly clocking the USB module, make sure the oscillator  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //settings are consistant with USB operation before clearing the SUSPND bit. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Make sure the correct oscillator settings are selected in the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //"USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0)" handler.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007060   9265     BCF       0x65,0x1,0x0           U1CONbits.SUSPND = 0;   // Bring USB module out of power conserve        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                           // mode.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007062   010f     MOVLB     0xf                USBActivityIE = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007064   9536     BCF       0x36,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               /********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               Bug Fix: Feb 26, 2007 v2.1                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               *********************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               The ACTVIF bit cannot be cleared immediately after the USB module wakes      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               up from Suspend or while the USB module is suspended. A few clock cycles     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               are required to synchronize the internal hardware state machine before       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the ACTIVIF bit can be cleared by firmware. Clearing the ACTVIF bit          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               before the internal hardware is synchronized may not have an effect on       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the value of ACTVIF. Additonally, if the USB module uses the clock from      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               the 96 MHz PLL source, then after clearing the SUSPND bit, the USB           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               module may not be immediately operational while waiting for the 96 MHz       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               PLL to lock.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               ********************************************************************/        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               // UIRbits.ACTVIF = 0;                      // Removed                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__18CXX)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007066   a462     BTFSS     0x62,0x2,0x0       while(USBActivityIF)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007068   d002     BRA       0x706e                                                                                          
00706c   d7fc     BRA       0x7066                                                                                          
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00706a   9462     BCF       0x62,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }  // Added                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00706e   0012     RETURN    0x0            }//end USBWakeFromSuspend                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlEPService(void)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    USTAT is loaded with a valid endpoint address.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        USBCtrlEPService checks for three transaction                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  types that it knows how to service and services              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  them:                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. EP0 SETUP                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. EP0 OUT                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. EP0 IN                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  It ignores all other types (i.e. EP1, EP2, etc.)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007070   da81     RCALL     0x7574         static void USBCtrlEPService(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //If we get to here, that means a successful transaction has just occurred   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //on EP0.  This means "progress" has occurred in the currently pending       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //control transfer, so we should re-initialize our timeout counter.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007072   0105     MOVLB     0x5                    USBStatusStageTimeoutCounter = USB_STATUS_STAGE_TIMEOUT;                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007074   0e2d     MOVLW     0x2d                                                                                            
007076   6fea     MOVWF     0xea,0x1                                                                                        
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	//Check if the last transaction was on EP0 OUT endpoint (of any kind, to either the even or odd buffer if ping pong buffers used) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007078   0efd     MOVLW     0xfd               if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_OUT_EVEN)                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00707a   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
00707c   e139     BNZ       0x70f0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Point to the EP0 OUT buffer of the buffer that arrived                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if defined (_PIC14E) || defined(__18CXX)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00707e   0e7e     MOVLW     0x7e                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>1]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007080   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
007082   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
007084   0b7f     ANDLW     0x7f                                                                                            
007086   0d04     MULLW     0x4                                                                                             
007088   cff3     MOVFF     0xff3,0x5bf                                                                                     
00708a   f5bf                                                                                                               
00708c   cff4     MOVFF     0xff4,0x5c0                                                                                     
00708e   f5c0                                                                                                               
007090   0e00     MOVLW     0x0                                                                                             
007092   27bf     ADDWF     0xbf,0x1,0x1                                                                                    
007094   0e04     MOVLW     0x4                                                                                             
007096   23c0     ADDWFC    0xc0,0x1,0x1                                                                                    
                                                   #elif defined(__C30__) || defined(__C32__) || defined __XC16__           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>2]; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #else                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #error "unimplemented"                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Set the next out to the current out packet                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007098   c5bf     MOVFF     0x5bf,0x5c1            pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00709a   f5c1                                                                                                               
00709c   c5c0     MOVFF     0x5c0,0x5c2                                                                                     
00709e   f5c2                                                                                                               
                                           		//Toggle it to the next ping pong buffer (if applicable)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070a0   75c1     BTG       0xc1,0x2,0x1           ((BYTE_VAL*)&pBDTEntryEP0OutNext)->Val ^= USB_NEXT_EP0_OUT_PING_PONG;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//If the current EP0 OUT buffer has a SETUP packet                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070a2   d9a5     RCALL     0x73ee                 if(pBDTEntryEP0OutCurrent->STAT.PID == PID_SETUP)                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070a4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0070a6   0b3c     ANDLW     0x3c                                                                                            
0070a8   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0070aa   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0070ac   080d     SUBLW     0xd                                                                                             
0070ae   e11e     BNZ       0x70ec                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       unsigned char setup_cnt;                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //The SETUP transaction data may have gone into the the CtrlTrfData     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //buffer, or elsewhere, depending upon how the BDT was prepared         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //before the transaction.  Therefore, we should copy the data to the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	        //SetupPkt buffer so it can be processed correctly by USBCtrlTrfSetupHandler().		     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b0   6adf     CLRF      0xdf,0x0                   for(setup_cnt = 0; setup_cnt < 8u; setup_cnt++) //SETUP data packets always contain exactly 8 bytes. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b2   0e08     MOVLW     0x8                                                                                             
0070b4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0070b6   e216     BC        0x70e4                                                                                          
0070e0   2adf     INCF      0xdf,0x1,0x0                                                                                    
0070e2   d7e7     BRA       0x70b2                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070b8   d99a     RCALL     0x73ee                         *(BYTE*)((BYTE*)&SetupPkt + setup_cnt) = *(BYTE*)ConvertToVirtualAddress(pBDTEntryEP0OutCurrent->ADR); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ba   0e02     MOVLW     0x2                                                                                             
0070bc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0070be   0e00     MOVLW     0x0                                                                                             
0070c0   d9c2     RCALL     0x7446                                                                                          
0070c2   50ef     MOVF      0xef,0x0,0x0                                                                                    
0070c4   6ee6     MOVWF     0xe6,0x0                                                                                        
0070c6   50df     MOVF      0xdf,0x0,0x0                                                                                    
0070c8   6aea     CLRF      0xea,0x0                                                                                        
0070ca   0f30     ADDLW     0x30                                                                                            
0070cc   6ee9     MOVWF     0xe9,0x0                                                                                        
0070ce   0e04     MOVLW     0x4                                                                                             
0070d0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0070d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0070d4   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0070d6   6eef     MOVWF     0xef,0x0                                                                                        
007446   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007448   50ee     MOVF      0xee,0x0,0x0                                                                                    
00744a   cfef     MOVFF     0xfef,0xfea                                                                                     
00744c   ffea                                                                                                               
00744e   6ee9     MOVWF     0xe9,0x0                                                                                        
007450   0012     RETURN    0x0                                                                                             
0070d8   d98a     RCALL     0x73ee                         pBDTEntryEP0OutCurrent->ADR++;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070da   da78     RCALL     0x75cc                                                                                          
0070dc   2aee     INCF      0xee,0x1,0x0                                                                                    
0070de   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070e4   d984     RCALL     0x73ee                     pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070e6   da11     RCALL     0x750a                                                                                          
0073ee   c5bf     MOVFF     0x5bf,0xfe9                                                                                     
0073f0   ffe9                                                                                                               
0073f2   c5c0     MOVFF     0x5c0,0xfea                                                                                     
0073f4   ffea                                                                                                               
0073f6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the control transfer (parse the 8-byte SETUP command and figure out what to do) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070e8   d80a     RCALL     0x70fe                     USBCtrlTrfSetupHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ea   d007     BRA       0x70fa                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Handle the DATA transfer                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ec   d823     RCALL     0x7134                     USBCtrlTrfOutHandler();                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070ee   d005     BRA       0x70fa             else if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_IN)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f0   0efd     MOVLW     0xfd                                                                                            
0070f2   15e1     ANDWF     0xe1,0x0,0x1                                                                                    
0070f4   0804     SUBLW     0x4                                                                                             
0070f6   e101     BNZ       0x70fa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Otherwise the transmission was and EP0 IN                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//  so take care of the IN transfer                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070f8   d82c     RCALL     0x7152                 USBCtrlTrfInHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070fa   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlEPService                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070fc   d16c     BRA       0x73d6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfSetupHandler(void)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    SetupPkt buffer is loaded with valid USB Setup Data          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine is a task dispatcher and has 3 stages.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. It initializes the control transfer state machine.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. It calls on each of the module that may know how to       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     service the Setup Request from the host.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Module Example: USBD, HID, CDC, MSD, ...                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     A callback function, USBCBCheckOtherReq(),                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     is required to call other module handlers.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. Once each of the modules has had a chance to check if     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     it is responsible for servicing the request, stage 3      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     then checks direction of the transfer to determine how    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     to prepare EP0 for the control transfer.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                     Refer to USBCtrlEPServiceComplete() for more details.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Microchip USB Firmware has three different states for        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  the control transfer state machine:                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  1. WAIT_SETUP                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  2. CTRL_TRF_TX (device sends data to host through IN transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  3. CTRL_TRF_RX (device receives data from host through OUT transactions) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Refer to firmware manual to find out how one state           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  is transitioned to another.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  A Control Transfer is composed of many USB transactions.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  When transferring data over multiple transactions,           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  it is important to keep track of data source, data           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  destination, and data count. These three parameters are      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  stored in pSrc,pDst, and wCount. A flag is used to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  note if the data source is from ROM or RAM.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfSetupHandler(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //1. Re-initialize state tracking variables related to control transfers.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0070fe   0105     MOVLB     0x5                shortPacketStatus = SHORT_PKT_NOT_USED;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007100   6bcf     CLRF      0xcf,0x1                                                                                        
007102   6beb     CLRF      0xeb,0x1           USBDeferStatusStagePacket = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007104   6bee     CLRF      0xee,0x1           USBDeferINDataStagePackets = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007106   6bef     CLRF      0xef,0x1           USBDeferOUTDataStagePackets = FALSE;                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007108   6be3     CLRF      0xe3,0x1           BothEP0OutUOWNsSet = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00710a   6bd0     CLRF      0xd0,0x1           controlTransferState = WAIT_SETUP;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Abandon any previous control transfers that might have been using EP0.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Ordinarily, nothing actually needs abandoning, since the previous control  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //transfer would have completed successfully prior to the host sending the next D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //SETUP packet.  However, in a timeout error case, or after an EP0 STALL event, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //one or more UOWN bits might still be set.  If so, we should clear the UOWN bits, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //so the EP0 IN/OUT endpoints are in a known inactive state, ready for re-arming D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //by the class request handler that will be called next.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00710c   d95a     RCALL     0x73c2             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00710e   9eef     BCF       0xef,0x7,0x0                                                                                    
007110   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007112   d957     RCALL     0x73c2             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007114   9eef     BCF       0xef,0x7,0x0                                                                                    
007116   75c9     BTG       0xc9,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007118   d9e7     RCALL     0x74e8             pBDTEntryEP0OutNext->STAT.Val &= ~(_USIE);                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00711a   9eef     BCF       0xef,0x7,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00711c   6bd3     CLRF      0xd3,0x1           inPipes[0].info.Val = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00711e   6bd4     CLRF      0xd4,0x1           inPipes[0].wCount.Val = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007120   6bd5     CLRF      0xd5,0x1                                                                                        
007122   6bd8     CLRF      0xd8,0x1           outPipes[0].info.Val = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007124   6bd9     CLRF      0xd9,0x1           outPipes[0].wCount.Val = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007126   6bda     CLRF      0xda,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //2. Now find out what was in the SETUP packet, and begin handling the request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007128   d851     RCALL     0x71cc             USBCheckStdRequest();                                               //Check for standard USB "Chapter 9" requests. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712a   d9a6     RCALL     0x7478             USB_NONSTANDARD_EP0_REQUEST_HANDLER(EVENT_EP0_REQUEST,0,0); //Check for USB device class specific requests D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00712c   0e03     MOVLW     0x3                                                                                             
00712e   d940     RCALL     0x73b0                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //-------------------------------------------------------------------------- D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //3. Re-arm EP0 IN and EP0 OUT endpoints, based on the control transfer in   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   progress.  If one of the above handlers (in step 2) knew how to process D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   the request, it will have set one of the inPipes[0].info.bits.busy or   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   outPipes[0].info.bits.busy flags = 1.  This lets the                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   USBCtrlEPServiceComplete() function know how and which endpoints to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   arm.  If both info.bits.busy flags are = 0, then no one knew how to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   process the request.  In this case, the default behavior will be to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //   perform protocol STALL on EP0.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //--------------------------------------------------------------------------  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007130   ef74     GOTO      0x6ce8             USBCtrlEPServiceComplete();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007132   f036                                                                                                               
                                           }//end USBCtrlTrfSetupHandler                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfOutHandler(void)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an OUT transaction according to         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            Note that if the the control transfer was from               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  host to device, the session owner should be notified         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  at the end of each OUT transaction to service the            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  received data.                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCtrlTrfOutHandler(void)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007134   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007136   0105     MOVLB     0x5                                                                                             
007138   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
00713a   e102     BNZ       0x7140                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00713c   efe1     GOTO      0x6dc2                 USBCtrlTrfRxService();	//Copies the newly received data into the appropriate buffer and configures EP0 OUT for next transaction. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00713e   f036                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               else //In this case the last OUT transaction must have been a status stage of a CTRL_TRF_TX (<setup><in><in>...<OUT>  <-- this last OUT just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If the status stage is complete, this means we are done with the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //control transfer.  Go back to the idle "WAIT_SETUP" state.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007140   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //Prepare EP0 OUT for the next SETUP transaction, however, it may have      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //already been prepared if ping-pong buffering was enabled on EP0 OUT,      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //and the last control transfer was of direction: device to host, see       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //USBCtrlEPServiceComplete().  If it was already prepared, do not want      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	    //to do anything to the BDT.                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007142   51e3     MOVF      0xe3,0x0,0x1   		if(BothEP0OutUOWNsSet == FALSE)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007144   e104     BNZ       0x714e                                                                                          
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007146   d92b     RCALL     0x739e         	        pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00739e   d910     RCALL     0x75c0                                                                                          
0074e8   c5c1     MOVFF     0x5c1,0xfe9                                                                                     
0074ea   ffe9                                                                                                               
0074ec   c5c2     MOVFF     0x5c2,0xfea                                                                                     
0074ee   ffea                                                                                                               
0074f0   0012     RETURN    0x0                                                                                             
0073a0   d8b4     RCALL     0x750a         	        pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00750a   d860     RCALL     0x75cc                                                                                          
00750c   0e30     MOVLW     0x30                                                                                            
00750e   6eee     MOVWF     0xee,0x0                                                                                        
007510   0e04     MOVLW     0x4                                                                                             
007512   6eed     MOVWF     0xed,0x0                                                                                        
007514   0012     RETURN    0x0                                                                                             
0075cc   0e02     MOVLW     0x2                                                                                             
0075ce   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0075d0   0e00     MOVLW     0x0                                                                                             
0075d2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0075d4   0012     RETURN    0x0                                                                                             
007148   0e8c     MOVLW     0x8c           	        pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED)|_BSTALL;			 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00714a   6eef     MOVWF     0xef,0x0                                                                                        
0073a2   ef74     GOTO      0x74e8                                                                                          
0073a4   f03a                                                                                                               
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00714c   0012     RETURN    0x0            		else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		{                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00714e   6be3     CLRF      0xe3,0x1       			BothEP0OutUOWNsSet = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		}                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007150   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCtrlTrfInHandler(void)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles an IN transaction according to          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  which control transfer state is currently active.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            A Set Address Request must not change the acutal address     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  of the device until the completion of the control            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  transfer. The end of the control transfer for Set Address    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Request is an IN transaction. Therefore it is necessary      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  to service this unique situation when the condition is       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  right. Macro mUSBCheckAdrPendingState is defined in          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  usb9.h and its function is to specifically service this      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  event.                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007152   da10     RCALL     0x7574         static void USBCtrlTrfInHandler(void)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073cc   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0073ce   ffe6                                                                                                               
0073d0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0073d2   ffd9                                                                                                               
0073d4   0012     RETURN    0x0                                                                                             
007574   df2b     RCALL     0x73cc                                                                                          
007576   52e6     MOVF      0xe6,0x1,0x0                                                                                    
007578   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BYTE lastDTS;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007154   d936     RCALL     0x73c2             lastDTS = pBDTEntryIn[0]->STAT.DTS;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007156   50ef     MOVF      0xef,0x0,0x0                                                                                    
007158   0b40     ANDLW     0x40                                                                                            
00715a   e001     BZ        0x715e                                                                                          
00715c   0e01     MOVLW     0x1                                                                                             
00715e   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //switch to the next ping pong buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007160   0105     MOVLB     0x5                ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007162   75c9     BTG       0xc9,0x2,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Must check if in ADR_PENDING_STATE.  If so, we need to update the address  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //now, since the IN status stage of the (set address) control transfer has   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //evidently completed successfully.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007164   0e08     MOVLW     0x8                if(USBDeviceState == ADR_PENDING_STATE)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007166   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
007168   e10b     BNZ       0x7180                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00716a   c432     MOVFF     0x432,0xf38            U1ADDR = SetupPkt.bDevADR.Val;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00716c   ff38                                                                                                               
00716e   010f     MOVLB     0xf                    if(U1ADDR != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007170   5138     MOVF      0x38,0x0,0x1                                                                                    
007172   e003     BZ        0x717a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007174   0105     MOVLB     0x5                        USBDeviceState=ADDRESS_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007176   0e10     MOVLW     0x10                                                                                            
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007178   d002     BRA       0x717e                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717a   0105     MOVLB     0x5                        USBDeviceState=DEFAULT_STATE;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00717c   0e04     MOVLW     0x4                                                                                             
00717e   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007180   05d0     DECF      0xd0,0x0,0x1       if(controlTransferState == CTRL_TRF_TX)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007182   e113     BNZ       0x71aa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007184   d91e     RCALL     0x73c2                 pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(CtrlTrfData);             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007186   d938     RCALL     0x73f8                                                                                          
0073f8   d8e9     RCALL     0x75cc                                                                                          
0073fa   0e38     MOVLW     0x38                                                                                            
0073fc   6eee     MOVWF     0xee,0x0                                                                                        
0073fe   0e04     MOVLW     0x4                                                                                             
007400   6eed     MOVWF     0xed,0x0                                                                                        
007402   0012     RETURN    0x0                                                                                             
007188   dddc     RCALL     0x6d42                 USBCtrlTrfTxService();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Check if we have already sent a short packet.  If so, configure        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //the endpoint to STALL in response to any further IN tokens (in the     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //case that the host erroneously tries to receive more data than it      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //should).                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00718a   0e02     MOVLW     0x2                    if(shortPacketStatus == SHORT_PKT_SENT)                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00718c   0105     MOVLB     0x5                                                                                             
00718e   5dcf     SUBWF     0xcf,0x0,0x1                                                                                    
007190   e103     BNZ       0x7198                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // If a short packet has been sent, don't want to send any more,     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       // stall next time if host is still trying to read.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007192   d917     RCALL     0x73c2                     pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007194   0e84     MOVLW     0x84                                                                                            
0073c2   c5c9     MOVFF     0x5c9,0xfe9                                                                                     
0073c4   ffe9                                                                                                               
0073c6   c5ca     MOVFF     0x5ca,0xfea                                                                                     
0073c8   ffea                                                                                                               
0073ca   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007196   d007     BRA       0x71a6                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007198   50df     MOVF      0xdf,0x0,0x0               if(lastDTS == 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00719a   e103     BNZ       0x71a2                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00719c   d912     RCALL     0x73c2                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00719e   0ec8     MOVLW     0xc8                                                                                            
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071a0   d002     BRA       0x71a6                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071a2   d90f     RCALL     0x73c2                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT0|(_DTSEN & _DTS_CHECKING_ENABLED); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071a4   0e88     MOVLW     0x88                                                                                            
0071a6   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }//end if(...)else                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071a8   d00f     BRA       0x71c8         	else // must have been a CTRL_TRF_RX status stage IN packet (<setup><out><out>...<IN>  <-- this last IN just occurred as the status stage) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	{                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //if someone is still expecting data from the control transfer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  then make sure to terminate that request and let them know that      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  they are done                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071aa   afd8     BTFSS     0xd8,0x7,0x1           if(outPipes[0].info.bits.busy == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ac   d00c     BRA       0x71c6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ae   51db     MOVF      0xdb,0x0,0x1               if(outPipes[0].pFunc != NULL)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b0   11dc     IORWF     0xdc,0x0,0x1                                                                                    
0071b2   e007     BZ        0x71c2                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b4   d005     BRA       0x71c0                         outPipes[0].pFunc();                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071b6   c5dc     MOVFF     0x5dc,0xffa                                                                                     
0071b8   fffa                                                                                                               
0071ba   0105     MOVLB     0x5                                                                                             
0071bc   51db     MOVF      0xdb,0x0,0x1                                                                                    
0071be   6ef9     MOVWF     0xf9,0x0                                                                                        
0071c0   dffa     RCALL     0x71b6                                                                                          
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c2   0105     MOVLB     0x5                        outPipes[0].info.bits.busy = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c4   9fd8     BCF       0xd8,0x7,0x1                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c6   6bd0     CLRF      0xd0,0x1               controlTransferState = WAIT_SETUP;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Don't need to arm EP0 OUT here.  It was already armed by the last <out> that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //got processed by the USBCtrlTrfRxService() handler.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           	}	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071c8   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ca   d105     BRA       0x73d6                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBCheckStdRequest(void)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine checks the setup data packet to see             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  if it knows how to handle it                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           static void USBCheckStdRequest(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071cc   0104     MOVLB     0x4                if(SetupPkt.RequestType != USB_SETUP_TYPE_STANDARD_BITFIELD) return;         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071ce   5130     MOVF      0x30,0x0,0x1                                                                                    
0071d0   0b60     ANDLW     0x60                                                                                            
0071d2   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0071d4   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0071d6   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0071d8   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0071da   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0071dc   0900     IORLW     0x0                                                                                             
0071de   e001     BZ        0x71e2                                                                                          
0071e0   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e2   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0071e4   0a0c     XORLW     0xc                                                                                             
0071e6   e045     BZ        0x7272                                                                                          
0071e8   0a0b     XORLW     0xb                                                                                             
0071ea   e03f     BZ        0x726a                                                                                          
0071ec   0a0c     XORLW     0xc                                                                                             
0071ee   e031     BZ        0x7252                                                                                          
0071f0   0a01     XORLW     0x1                                                                                             
0071f2   e022     BZ        0x7238                                                                                          
0071f4   0a0b     XORLW     0xb                                                                                             
0071f6   e01e     BZ        0x7234                                                                                          
0071f8   0a02     XORLW     0x2                                                                                             
0071fa   e01c     BZ        0x7234                                                                                          
0071fc   0a03     XORLW     0x3                                                                                             
0071fe   e018     BZ        0x7230                                                                                          
007200   0a08     XORLW     0x8                                                                                             
007202   e010     BZ        0x7224                                                                                          
007204   0a01     XORLW     0x1                                                                                             
007206   e00c     BZ        0x7220                                                                                          
007208   0a0f     XORLW     0xf                                                                                             
00720a   e008     BZ        0x721c                                                                                          
00720c   0a03     XORLW     0x3                                                                                             
00720e   e001     BZ        0x7212                                                                                          
007210   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_ADDRESS:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007212   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;            // This will generate a zero length packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007214   8fd3     BSF       0xd3,0x7,0x1                                                                                    
007216   0e08     MOVLW     0x8                        USBDeviceState = ADR_PENDING_STATE;       // Update state only       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007218   6fbc     MOVWF     0xbc,0x1                                                                                        
                                                       /* See USBCtrlTrfInHandler() for the next step */                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00721a   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00721c   ef81     GOTO      0x6f02                     USBStdGetDscHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00721e   f037                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007220   ef45     GOTO      0x6e8a                     USBStdSetCfgHandler();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007222   f037                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_CONFIGURATION:                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007224   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&USBActiveConfiguration;         // Set Source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007226   0ebd     MOVLW     0xbd                                                                                            
007228   6fd1     MOVWF     0xd1,0x1                                                                                        
00722a   0e05     MOVLW     0x5                                                                                             
00722c   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00722e   d00c     BRA       0x7248                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_STATUS:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007230   efd4     GOTO      0x6fa8                     USBStdGetStatusHandler();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007232   f037                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_CLEAR_FEATURE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_FEATURE:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007234   ef3a     GOTO      0x7274                     USBStdFeatureReqHandler();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007236   f039                                                                                                               
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_GET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007238   5134     MOVF      0x34,0x0,0x1               inPipes[0].pSrc.bRam = (BYTE*)&USBAlternateInterface[SetupPkt.bIntfID];  // Set source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00723a   0105     MOVLB     0x5                                                                                             
00723c   6fd1     MOVWF     0xd1,0x1                                                                                        
00723e   6bd2     CLRF      0xd2,0x1                                                                                        
007240   0ebe     MOVLW     0xbe                                                                                            
007242   27d1     ADDWF     0xd1,0x1,0x1                                                                                    
007244   0e05     MOVLW     0x5                                                                                             
007246   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
007248   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00724a   0e01     MOVLW     0x1                        inPipes[0].wCount.v[0] = 1;                         // Set data count D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00724c   6fd4     MOVWF     0xd4,0x1                                                                                        
00724e   8fd3     BSF       0xd3,0x7,0x1               inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007250   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_INTERFACE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007252   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007254   8fd3     BSF       0xd3,0x7,0x1                                                                                    
007256   0104     MOVLB     0x4                        USBAlternateInterface[SetupPkt.bIntfID] = SetupPkt.bAltID;           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007258   5134     MOVF      0x34,0x0,0x1                                                                                    
00725a   6aea     CLRF      0xea,0x0                                                                                        
00725c   0fbe     ADDLW     0xbe                                                                                            
00725e   6ee9     MOVWF     0xe9,0x0                                                                                        
007260   0e05     MOVLW     0x5                                                                                             
007262   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007264   c432     MOVFF     0x432,0xfef                                                                                     
007266   ffef                                                                                                               
007268   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SET_DESCRIPTOR:                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00726a   d906     RCALL     0x7478                     USB_SET_DESCRIPTOR_HANDLER(EVENT_SET_DESCRIPTOR,0,0);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00726c   0e02     MOVLW     0x2                                                                                             
00726e   efd8     GOTO      0x73b0                                                                                          
007270   f039                                                                                                               
007478   0e00     MOVLW     0x0                                                                                             
00747a   6ee6     MOVWF     0xe6,0x0                                                                                        
00747c   6ae6     CLRF      0xe6,0x0                                                                                        
00747e   6ee6     MOVWF     0xe6,0x0                                                                                        
007480   6ae6     CLRF      0xe6,0x0                                                                                        
007482   0012     RETURN    0x0                                                                                             
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   case USB_REQUEST_SYNCH_FRAME:                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end switch                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007272   0012     RETURN    0x0            }//end USBCheckStdRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Function:        void USBStdFeatureReqHandler(void)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Output:          Can alter BDT entries.  Can also modify USB stack            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  Maintained variables.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Overview:        This routine handles the standard SET & CLEAR                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  FEATURES requests                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            * Note:            This is a private function, intended for internal            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  use by the USB stack, when processing SET/CLEAR              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *                  feature requests.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007274   d8ab     RCALL     0x73cc         static void USBStdFeatureReqHandler(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007276   0e05     MOVLW     0x5                                                                                             
007278   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               BDT_ENTRY *p;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               EP_STATUS current_ep_data;                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #if defined(__C32__)                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   DWORD* pUEP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   unsigned char* pUEP;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #ifdef	USB_SUPPORT_OTG                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check for USB On-The-Go (OTG) specific requests                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_B_HNP_ENABLE)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableHnp();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableHnp();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_HNP_SUPPORT)&&                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableSupportHnp();                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableSupportHnp();                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_ALT_HNP_SUPPORT)&&                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGEnableAltHnp();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       USBOTGDisableAltHnp();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               #endif   //#ifdef USB_SUPPORT_OTG                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR feature (remote wakeup) request. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00727a   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_DEVICE_REMOTE_WAKEUP)&&                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00727c   0532     DECF      0x32,0x0,0x1                                                                                    
00727e   e110     BNZ       0x72a0                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007280   5130     MOVF      0x30,0x0,0x1                                                                                    
007282   0b1f     ANDLW     0x1f                                                                                            
007284   0900     IORLW     0x0                                                                                             
007286   e10c     BNZ       0x72a0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007288   0105     MOVLB     0x5                    inPipes[0].info.bits.busy = 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00728a   8fd3     BSF       0xd3,0x7,0x1                                                                                    
00728c   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00728e   0104     MOVLB     0x4                                                                                             
007290   5d31     SUBWF     0x31,0x0,0x1                                                                                    
007292   e104     BNZ       0x729c                                                                                          
007294   0105     MOVLB     0x5                        RemoteWakeup = TRUE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007296   0e01     MOVLW     0x1                                                                                             
007298   6fdf     MOVWF     0xdf,0x1                                                                                        
00729a   d002     BRA       0x72a0                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00729c   0105     MOVLB     0x5                        RemoteWakeup = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00729e   6bdf     CLRF      0xdf,0x1                                                                                        
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               //Check if the host sent a valid SET or CLEAR endpoint halt request.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072a0   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_ENDPOINT_HALT)&&                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072a2   5132     MOVF      0x32,0x0,0x1                                                                                    
0072a4   e001     BZ        0x72a8                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD)&&           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072a6   d074     BRA       0x7390                                                                                          
0072a8   5130     MOVF      0x30,0x0,0x1                                                                                    
0072aa   0b1f     ANDLW     0x1f                                                                                            
0072ac   0802     SUBLW     0x2                                                                                             
0072ae   e170     BNZ       0x7390                                                                                          
0072b0   5134     MOVF      0x34,0x0,0x1          (SetupPkt.EPNum != 0u) && (SetupPkt.EPNum <= USB_MAX_EP_NUMBER)&&         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072b2   0b0f     ANDLW     0xf                                                                                             
0072b4   0900     IORLW     0x0                                                                                             
0072b6   e06c     BZ        0x7390                                                                                          
0072b8   5134     MOVF      0x34,0x0,0x1                                                                                    
0072ba   0b0f     ANDLW     0xf                                                                                             
0072bc   0802     SUBLW     0x2                                                                                             
0072be   e368     BNC       0x7390                                                                                          
0072c0   0e20     MOVLW     0x20                  (USBDeviceState == CONFIGURED_STATE))                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072c2   0105     MOVLB     0x5                                                                                             
0072c4   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
0072c6   e164     BNZ       0x7390                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//The request was valid.  Take control of the control transfer and             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//perform the host requested action.                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072c8   8fd3     BSF       0xd3,0x7,0x1   		inPipes[0].info.bits.busy = 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Fetch a pointer to the BDT that the host wants to SET/CLEAR halt on.   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072ca   0104     MOVLB     0x4                    if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072cc   bf34     BTFSC     0x34,0x7,0x1                                                                                    
0072ce   d004     BRA       0x72d8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072d0   d940     RCALL     0x7552                     p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072d2   d8cc     RCALL     0x746c                                                                                          
0072d4   d8d7     RCALL     0x7484                     current_ep_data.Val = ep_data_out[SetupPkt.EPNum].Val;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072d6   d003     BRA       0x72de                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072d8   d941     RCALL     0x755c                     p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072da   d8c8     RCALL     0x746c                                                                                          
00746c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00746e   cfee     MOVFF     0xfee,0xfde                                                                                     
007470   ffde                                                                                                               
007472   cfed     MOVFF     0xfed,0xfdd                                                                                     
007474   ffdd                                                                                                               
007476   0012     RETURN    0x0                                                                                             
0072dc   d8d7     RCALL     0x748c                     current_ep_data.Val = ep_data_in[SetupPkt.EPNum].Val;                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072de   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0072e0   0e02     MOVLW     0x2                                                                                             
0072e2   cfef     MOVFF     0xfef,0xfdb                                                                                     
0072e4   ffdb                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //If ping pong buffering is enabled on the requested endpoint, need      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //to point to the one that is the active BDT entry which the SIE will    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //use for the next attempted transaction on that EP number.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072e6   d8f9     RCALL     0x74da                     if(current_ep_data.bits.ping_pong_state == 0u) //Check if even       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072e8   0b01     ANDLW     0x1                                                                                             
0072ea   e103     BNZ       0x72f2                                                                                          
0074da   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0074dc   0f02     ADDLW     0x2                                                                                             
0074de   6ee9     MOVWF     0xe9,0x0                                                                                        
0074e0   cfda     MOVFF     0xfda,0xfea                                                                                     
0074e2   ffea                                                                                                               
0074e4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0074e6   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072ec   0e00     MOVLW     0x0                            USBHALPingPongSetToEven(&p);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072ee   94df     BCF       0xdf,0x2,0x0                                                                                    
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072f0   d001     BRA       0x72f4                     else //else must have been odd                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072f2   84df     BSF       0xdf,0x2,0x0                   USBHALPingPongSetToOdd(&p);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //Update the BDT pointers with the new, next entry based on the feature  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   //  request                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072f4   bf34     BTFSC     0x34,0x7,0x1           if(SetupPkt.EPDir == OUT_FROM_HOST)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072f6   d002     BRA       0x72fc                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072f8   d92c     RCALL     0x7552                     pBDTEntryOut[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073de   5134     MOVF      0x34,0x0,0x1                                                                                    
0073e0   0b0f     ANDLW     0xf                                                                                             
0073e2   6ee9     MOVWF     0xe9,0x0                                                                                        
0073e4   6aea     CLRF      0xea,0x0                                                                                        
0073e6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0073e8   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0073ea   36ea     RLCF      0xea,0x1,0x0                                                                                    
0073ec   0012     RETURN    0x0                                                                                             
007552   df45     RCALL     0x73de                                                                                          
007554   0ec3     MOVLW     0xc3                                                                                            
007556   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007558   0e05     MOVLW     0x5                                                                                             
00755a   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072fa   d001     BRA       0x72fe                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072fc   d92f     RCALL     0x755c                     pBDTEntryIn[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0072fe   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007300   cfde     MOVFF     0xfde,0xfee                                                                                     
007302   ffee                                                                                                               
007304   cfdd     MOVFF     0xfdd,0xfed                                                                                     
007306   ffed                                                                                                               
00755c   df40     RCALL     0x73de                                                                                          
00755e   0ec9     MOVLW     0xc9                                                                                            
007560   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007562   0e05     MOVLW     0x5                                                                                             
007564   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           		//Check if it was a SET_FEATURE endpoint halt request                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007308   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00730a   5d31     SUBWF     0x31,0x0,0x1                                                                                    
00730c   e10c     BNZ       0x7326                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00730e   d92e     RCALL     0x756c                     if(p->STAT.UOWN == 1u)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007310   e007     BZ        0x7320                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Mark that we are terminating this transfer and that the user   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //  needs to be notified later                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007312   bf34     BTFSC     0x34,0x7,0x1                   if(SetupPkt.EPDir == OUT_FROM_HOST)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007314   d002     BRA       0x731a                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007316   d8b6     RCALL     0x7484                             ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 1;    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007318   d001     BRA       0x731c                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00731a   d8b8     RCALL     0x748c                             ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 1;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00731c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00731e   82ef     BSF       0xef,0x1,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Then STALL the endpoint                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007320   0e84     MOVLW     0x84                       p->STAT.Val |= _USIE|_BSTALL;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007322   d959     RCALL     0x75d6                                                                                          
                                                   }//if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007324   d035     BRA       0x7390                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Else the request must have been a CLEAR_FEATURE endpoint halt.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle over the to the non-active BDT                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007326   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007328   d921     RCALL     0x756c                         if(p->STAT.UOWN == 1u)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00732a   e006     BZ        0x7338                                                                                          
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and set DTS state so it will be correct the next time D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //the application firmware uses USBTransferOnePacket() on the EP. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00732c   d845     RCALL     0x73b8                             p->STAT.Val &= (~_USIE);    //Clear UOWN bit                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00732e   9eef     BCF       0xef,0x7,0x0                                                                                    
007330   d843     RCALL     0x73b8                             p->STAT.Val |= _DAT1;       //Set DTS to DATA1               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007332   8cef     BSF       0xef,0x6,0x0                                                                                    
007334   d8f4     RCALL     0x751e                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00751e   0e02     MOVLW     0x2                                                                                             
007520   6ee6     MOVWF     0xe6,0x0                                                                                        
007522   6ae6     CLRF      0xe6,0x0                                                                                        
007524   cfde     MOVFF     0xfde,0xfe6                                                                                     
007526   ffe6                                                                                                               
007528   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
00752a   ffe6                                                                                                               
00752c   0e05     MOVLW     0x5                                                                                             
00752e   efd8     GOTO      0x73b0                                                                                          
007530   f039                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007336   d002     BRA       0x733c                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //UOWN already clear, but still need to set DTS to DATA1      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007338   d83f     RCALL     0x73b8         					p->STAT.Val |= _DAT1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00733a   8cef     BSF       0xef,0x6,0x0                                                                                    
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //toggle back to the active BDT (the one the SIE is currently looking at D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //and will use for the next successful transaction to take place on the EP D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00733c   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we are currently terminating, or have previously terminated D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //a transaction on the given endpoint.  If so, need to clear UOWN, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //set DTS to the proper state, and call the application callback D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00733e   d8cd     RCALL     0x74da                         if((current_ep_data.bits.transfer_terminated != 0u) || (p->STAT.UOWN == 1u)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007340   0b02     ANDLW     0x2                                                                                             
007342   e102     BNZ       0x7348                                                                                          
007344   d913     RCALL     0x756c                                                                                          
007346   e00d     BZ        0x7362                                                                                          
00756c   df25     RCALL     0x73b8                                                                                          
00756e   50ef     MOVF      0xef,0x0,0x0                                                                                    
007570   0b80     ANDLW     0x80                                                                                            
007572   0012     RETURN    0x0                                                                                             
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007348   0104     MOVLB     0x4                                if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00734a   bf34     BTFSC     0x34,0x7,0x1                                                                                    
00734c   d002     BRA       0x7352                                                                                          
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00734e   d89a     RCALL     0x7484                                 ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007484   5134     MOVF      0x34,0x0,0x1                                                                                    
007486   0b0f     ANDLW     0xf                                                                                             
007488   efd2     GOTO      0x75a4                                                                                          
00748a   f03a                                                                                                               
0075a4   6aea     CLRF      0xea,0x0                                                                                        
0075a6   0fe7     ADDLW     0xe7                                                                                            
0075a8   6ee9     MOVWF     0xe9,0x0                                                                                        
0075aa   0e05     MOVLW     0x5                                                                                             
0075ac   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007350   d001     BRA       0x7354                             else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007352   d89c     RCALL     0x748c                                 ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007354   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
007356   92ef     BCF       0xef,0x1,0x0                                                                                    
00748c   5134     MOVF      0x34,0x0,0x1                                                                                    
00748e   0b0f     ANDLW     0xf                                                                                             
007490   efd7     GOTO      0x75ae                                                                                          
007492   f03a                                                                                                               
0075ae   6aea     CLRF      0xea,0x0                                                                                        
0075b0   0fe4     ADDLW     0xe4                                                                                            
0075b2   6ee9     MOVWF     0xe9,0x0                                                                                        
0075b4   0e05     MOVLW     0x5                                                                                             
0075b6   0012     RETURN    0x0                                                                                             
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007358   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00735a   6e46     MOVWF     0x46,0x0                                                                                        
00735c   d92d     RCALL     0x75b8                                                                                          
                                                               //Call the application event handler callback function, so it can  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           					//decide if the endpoint should get re-armed again or not.                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
00735e   d8df     RCALL     0x751e                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
0073b0   6ee6     MOVWF     0xe6,0x0                                                                                        
0073b2   6ae6     CLRF      0xe6,0x0                                                                                        
0073b4   efcb     GOTO      0x7596                                                                                          
0073b6   f03a                                                                                                               
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007360   d002     BRA       0x7366                         else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007362   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007364   d929     RCALL     0x75b8                                                                                          
0073b8   cfde     MOVFF     0xfde,0xfe9                                                                                     
0073ba   ffe9                                                                                                               
0073bc   cfdd     MOVFF     0xfdd,0xfea                                                                                     
0073be   ffea                                                                                                               
0073c0   0012     RETURN    0x0                                                                                             
0075b8   deff     RCALL     0x73b8                                                                                          
0075ba   50e8     MOVF      0xe8,0x0,0x0                                                                                    
0075bc   16ef     ANDWF     0xef,0x1,0x0                                                                                    
0075be   0012     RETURN    0x0                                                                                             
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else //else we must not be using ping-pong buffering on the requested endpoint D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //Check if we need to call the user transfer terminated event callback function. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //We should call the callback, if the endpoint was previously terminated, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //or the endpoint is currently armed, and the host is performing clear D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           //endpoint halt, even though the endpoint wasn't stalled.        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           if((current_ep_data.bits.transfer_terminated != 0) || (p->STAT.UOWN == 1)) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //We are going to call the user transfer terminated callback. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear the flag so we know we took care of it and don't need D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //to call it again later.                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               if(SetupPkt.EPDir == OUT_FROM_HOST)                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               else                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               {                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                   ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               }                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Let the application firmware know a transaction just       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //got terminated by the host, and that it is now free to     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //re-arm the endpoint or do other tasks if desired.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                               p->STAT.Val |= _DAT1;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #endif //end of #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Get a pointer to the appropriate UEPn register                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #if defined(__C32__)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP = (DWORD*)(&U1EP0);                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                           pUEP += (SetupPkt.EPNum*4);                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                       #else                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007366   0104     MOVLB     0x4                            pUEP = (unsigned char*)(&U1EP0+SetupPkt.EPNum);                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007368   5134     MOVF      0x34,0x0,0x1                                                                                    
00736a   0b0f     ANDLW     0xf                                                                                             
00736c   6a47     CLRF      0x47,0x0                                                                                        
00736e   0f26     ADDLW     0x26                                                                                            
007370   6e46     MOVWF     0x46,0x0                                                                                        
007372   0e0f     MOVLW     0xf                                                                                             
007374   2247     ADDWFC    0x47,0x1,0x0                                                                                    
007376   0e03     MOVLW     0x3                                                                                             
007378   c046     MOVFF     0x46,0xfdb                                                                                      
00737a   ffdb                                                                                                               
00737c   0e04     MOVLW     0x4                                                                                             
00737e   c047     MOVFF     0x47,0xfdb                                                                                      
007380   ffdb                                                                                                               
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           			//Clear the STALL bit in the UEP register                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007382   0e03     MOVLW     0x3                        *pUEP &= ~UEP_STALL;                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007384   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
007386   ffe9                                                                                                               
007388   0e04     MOVLW     0x4                                                                                             
00738a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00738c   ffea                                                                                                               
00738e   90ef     BCF       0xef,0x0,0x0                                                                                    
                                                   }//end if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                               }//end if (lots of checks for set/clear endpoint halt)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007390   0e05     MOVLW     0x5            }//end USBStdFeatureReqHandler                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
007392   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007394   e202     BC        0x739a                                                                                          
007396   6ae1     CLRF      0xe1,0x0                                                                                        
007398   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00739a   6ee1     MOVWF     0xe1,0x0                                                                                        
00739c   d01c     BRA       0x73d6                                                                                          
0073d6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0073d8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0073da   ffd9                                                                                                               
0073dc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /** EOF USBDevice.c *****************************************************/       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\usb_device.c
                                           /******************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             File Information:                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               FileName:       usb_function_cdc.c                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Dependencies:   See INCLUDES section                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Processor:      PIC18 or PIC24 USB Microcontrollers                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Hardware:       The code is natively intended to be used on the following    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               hardware platforms: PICDEM(TM) FS USB Demo Board,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               PIC18F87J50 FS USB Plug-In Module, or                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               Explorer 16 + PIC24 USB PIM.  The firmware may be            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               modified for use on other USB platforms by editing the       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               HardwareProfile.h file.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Complier:   Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Company:        Microchip Technology, Inc.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Software License Agreement:                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The software supplied herewith by Microchip Technology Incorporated          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               (the "Company") for its PIC(R) Microcontroller is intended and               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               supplied to you, the Company's customer, for use solely and                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               exclusively on Microchip PIC Microcontroller products. The                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               software is owned by the Company and/or its supplier, and is                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               protected under applicable copyright laws. All rights are reserved.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Any use in violation of the foregoing restrictions may subject the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               user to criminal sanctions under applicable laws, as well as to              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               civil liability for the breach of the terms and conditions of this           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               license.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB CDC Function Driver File                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file contains all of functions, macros, definitions, variables,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               datatypes, etc. that are required for usage with the CDC function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               driver. This file should be included in projects that use the CDC            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \function driver.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Device Driver" directory.                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               When including this file in a new project, this file can either be           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               referenced from the directory in which it was installed or copied            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               directly into the user application folder. If the first method is            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               chosen to keep the file located in the folder in which it is installed       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               then include paths need to be added so that the library and the              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application both know where to reference each others files. If the           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               application folder is located in the same folder as the Microchip            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               folder (like the current demo folders), then the following include           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               paths need to be added to the application's project:                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               ..\\Include                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               .                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               If a different directory structure is used, modify the paths as              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               required. An example using absolute paths instead of relative paths          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               would be the following:                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               C:\\Microchip Solutions\\My Demo Application                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            Change History:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Rev    Description                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ----   -----------                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.3    Decricated the mUSBUSARTIsTxTrfReady() macro.  It is                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    replaced by the USBUSARTIsTxTrfReady() function.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6    Minor definition changes                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.6a   No Changes                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.7    Fixed error in the part support list of the variables section           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    where the address of the CDC variables are defined.  The                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    PIC18F2553 was incorrectly named PIC18F2453 and the PIC18F4558          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    was incorrectly named PIC18F4458.                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    http://www.microchip.com/forums/fb.aspx?m=487397                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.8    Minor change to CDCInitEP() to enhance ruggedness in                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    multithreaded usage scenarios.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             2.9b   Updated to implement optional support for DTS reporting.                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "USB/usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #ifdef USB_USE_CDC                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //The cdc_data_rx[] and cdc_data_tx[] arrays and associated variables are used  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //as USB packet buffers in this firmware.  Therefore, they must be located in D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //a USB module accessible portion of microcontroller RAM.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(__18F14K50) || defined(__18F13K50) || defined(__18LF14K50) || defined(__18LF13K50)  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata usbram2                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F2455) || defined(__18F2550) || defined(__18F4455) || defined(__18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F2458) || defined(__18F2553) || defined(__18F4458) || defined(__18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18LF24K50) || defined(__18F24K50) || defined(__18LF25K50)\  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(__18F25K50) || defined(__18LF45K50) || defined(__18F45K50)    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x500                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(__18F4450) || defined(__18F2450)                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata USB_VARIABLES=0x480                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #pragma udata                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__XC8)                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(_18F14K50) || defined(_18F13K50) || defined(_18LF14K50) || defined(_18LF13K50) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x260                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif  defined(_18F2455)   || defined(_18F2550)   || defined(_18F4455)  || defined(_18F4550)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F2458)   || defined(_18F2453)   || defined(_18F4558)  || defined(_18F4553)\ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18LF24K50) || defined(_18F24K50)  || defined(_18LF25K50)\    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   || defined(_18F25K50)  || defined(_18LF45K50) || defined(_18F45K50)      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x500                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_18F4450) || defined(_18F2450)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x480                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS (IN_DATA_BUFFER_ADDRESS + CDC_DATA_IN_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS (OUT_DATA_BUFFER_ADDRESS + CDC_DATA_OUT_EP_SIZE) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #elif defined(_16F1459) || defined(_16LF1459) || defined(_16F1454) || defined(_16LF1454) || defined(_16F1455) || defined(_16LF1455) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS 0x2140                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS 0x2190                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS 0x20A0                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS (LINE_CODING_ADDRESS + LINE_CODING_LENGTH)        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG  @IN_DATA_BUFFER_ADDRESS              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG @OUT_DATA_BUFFER_ADDRESS             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG     @LINE_CODING_ADDRESS                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG          @NOTICE_ADDRESS                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define IN_DATA_BUFFER_ADDRESS_TAG                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define OUT_DATA_BUFFER_ADDRESS_TAG                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define LINE_CODING_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #define NOTICE_ADDRESS_TAG                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #endif                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define IN_DATA_BUFFER_ADDRESS_TAG                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define OUT_DATA_BUFFER_ADDRESS_TAG                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define LINE_CODING_ADDRESS_TAG                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define NOTICE_ADDRESS_TAG                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_tx[CDC_DATA_IN_EP_SIZE] IN_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR unsigned char cdc_data_rx[CDC_DATA_OUT_EP_SIZE] OUT_DATA_BUFFER_ADDRESS_TAG; D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           LINE_CODING line_coding LINE_CODING_ADDRESS_TAG;    // Buffer to store line coding information D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           volatile FAR CDC_NOTICE cdc_notice NOTICE_ADDRESS_TAG;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               SERIAL_STATE_NOTIFICATION SerialStatePacket;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #pragma udata                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_rx_len;            // total rx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_trf_state;         // States are defined cdc.h                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCSrc;            // Dedicated source pointer                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           POINTER pCDCDst;            // Dedicated destination pointer                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_tx_len;            // total tx length                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE cdc_mem_type;          // _ROM, _RAM                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataOutHandle;                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           USB_HANDLE CDCDataInHandle;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CONTROL_SIGNAL_BITMAP control_signal_bitmap;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           DWORD BaudRateGen;			// BRG value calculated from baudrate                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE SerialStateBitmap;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BM_SERIAL_STATE OldSerialStateBitmap;                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_HANDLE CDCNotificationInHandle;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             SEND_ENCAPSULATED_COMMAND and GET_ENCAPSULATED_RESPONSE are required           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             requests according to the CDC specification.                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             However, it is not really being used here, therefore a dummy buffer is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             used for conformance.                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            **************************************************************************/     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #define dummy_length    0x08                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           BYTE_VAL dummy_encapsulated_cmd_response[dummy_length];                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SET_LINE_CODING_HANDLER)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           CTRL_TRF_RETURN USB_CDC_SET_LINE_CODING_HANDLER(CTRL_TRF_PARAMS);                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCDCSetLineCoding(void);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           //#pragma code                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** C L A S S  S P E C I F I C  R E Q ****************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		void USBCheckCDCRequest(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This routine checks the most recently received SETUP data packet to           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		see if the request is specific to the CDC class.  If the request was          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		a CDC specific request, this function will take care of handling the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		request and responding appropriately.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            	PreCondition:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		This function should only be called after a control transfer SETUP            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            		packet has arrived from the host.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Parameters:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Return Values:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		None                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Remarks:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		This function does not change status or do anything if the SETUP packet        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		did not contain a CDC class specific request.		                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             *****************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void USBCheckCDCRequest(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request recipient is not an interface then return                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008262   0104     MOVLB     0x4                if(SetupPkt.Recipient != USB_SETUP_RECIPIENT_INTERFACE_BITFIELD) return;     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008264   5130     MOVF      0x30,0x0,0x1                                                                                    
008266   0b1f     ANDLW     0x1f                                                                                            
008268   0801     SUBLW     0x1                                                                                             
00826a   e001     BZ        0x826e                                                                                          
00826c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If request type is not class-specific then return                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00826e   5130     MOVF      0x30,0x0,0x1       if(SetupPkt.RequestType != USB_SETUP_TYPE_CLASS_BITFIELD) return;            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008270   0b60     ANDLW     0x60                                                                                            
008272   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
008274   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
008276   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
008278   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00827a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00827c   0801     SUBLW     0x1                                                                                             
00827e   e001     BZ        0x8282                                                                                          
008280   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Interface ID must match interface numbers associated with                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * CDC class, else return                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008282   5134     MOVF      0x34,0x0,0x1       if((SetupPkt.bIntfID != CDC_COMM_INTF_ID)&&                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008284   e003     BZ        0x828c                (SetupPkt.bIntfID != CDC_DATA_INTF_ID)) return;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008286   0534     DECF      0x34,0x0,0x1                                                                                    
008288   e001     BZ        0x828c                                                                                          
00828a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00828c   5131     MOVF      0x31,0x0,0x1       switch(SetupPkt.bRequest)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00828e   0a22     XORLW     0x22                                                                                            
008290   e031     BZ        0x82f4                                                                                          
008292   0a03     XORLW     0x3                                                                                             
008294   e024     BZ        0x82de                                                                                          
008296   0a01     XORLW     0x1                                                                                             
008298   e015     BZ        0x82c4                                                                                          
00829a   0a21     XORLW     0x21                                                                                            
00829c   e00d     BZ        0x82b8                                                                                          
00829e   0a01     XORLW     0x1                                                                                             
0082a0   e001     BZ        0x82a4                                                                                          
0082a2   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** These commands are required ******//                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_ENCAPSULATED_COMMAND:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    //send the packet                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082a4   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082a6   0eb4     MOVLW     0xb4                                                                                            
0082a8   6fd1     MOVWF     0xd1,0x1                                                                                        
0082aa   0e05     MOVLW     0x5                                                                                             
0082ac   6fd2     MOVWF     0xd2,0x1                                                                                        
0082ae   0e08     MOVLW     0x8                        inPipes[0].wCount.Val = dummy_length;                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082b0   6fd4     MOVWF     0xd4,0x1                                                                                        
0082b2   6bd5     CLRF      0xd5,0x1                                                                                        
0082b4   81d3     BSF       0xd3,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082b6   d021     BRA       0x82fa                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_ENCAPSULATED_RESPONSE:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       // Populate dummy_encapsulated_cmd_response first.                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082b8   0105     MOVLB     0x5                        inPipes[0].pSrc.bRam = (BYTE*)&dummy_encapsulated_cmd_response;      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082ba   0eb4     MOVLW     0xb4                                                                                            
0082bc   6fd1     MOVWF     0xd1,0x1                                                                                        
0082be   0e05     MOVLW     0x5                                                                                             
0082c0   6fd2     MOVWF     0xd2,0x1                                                                                        
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082c2   d01b     BRA       0x82fa                     break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //****** End of required commands ******//                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D1) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082c4   c436     MOVFF     0x436,0x5d9                outPipes[0].wCount.Val = SetupPkt.wLength;                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082c6   f5d9                                                                                                               
0082c8   c437     MOVFF     0x437,0x5da                                                                                     
0082ca   f5da                                                                                                               
0082cc   0105     MOVLB     0x5                        outPipes[0].pDst.bRam = (BYTE*)LINE_CODING_TARGET;                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082ce   0e94     MOVLW     0x94                                                                                            
0082d0   6fd6     MOVWF     0xd6,0x1                                                                                        
0082d2   0e05     MOVLW     0x5                                                                                             
0082d4   6fd7     MOVWF     0xd7,0x1                                                                                        
0082d6   6bdb     CLRF      0xdb,0x1                   outPipes[0].pFunc = LINE_CODING_PFUNC;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082d8   6bdc     CLRF      0xdc,0x1                                                                                        
0082da   8fd8     BSF       0xd8,0x7,0x1               outPipes[0].info.bits.busy = 1;                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082dc   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case GET_LINE_CODING:                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082de   0105     MOVLB     0x5                        USBEP0SendRAMPtr(                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082e0   0e94     MOVLW     0x94                                                                                            
0082e2   6fd1     MOVWF     0xd1,0x1                                                                                        
0082e4   0e05     MOVLW     0x5                                                                                             
0082e6   6fd2     MOVWF     0xd2,0x1                                                                                        
0082e8   0e07     MOVLW     0x7                                                                                             
0082ea   6fd4     MOVWF     0xd4,0x1                                                                                        
0082ec   6bd5     CLRF      0xd5,0x1                                                                                        
0082ee   0ec1     MOVLW     0xc1                                                                                            
0082f0   6fd3     MOVWF     0xd3,0x1                                                                                        
0082f2   0012     RETURN    0x0                            (BYTE*)&line_coding,                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           LINE_CODING_LENGTH,                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           USB_EP0_INCLUDE_ZERO);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082f4   c432     MOVFF     0x432,0x5af                break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082f6   f5af                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SET_CONTROL_LINE_STATE:                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       control_signal_bitmap._byte = (BYTE)SetupPkt.W_Value.v[0];           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //One way to control the RTS pin is to allow the USB host to decide the value D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //that should be output on the RTS pin.  Although RTS and CTS pin functions D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //are technically intended for UART hardware based flow control, some legacy D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //UART devices use the RTS pin like a "general purpose" output pin   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //from the PC host.  In this usage model, the RTS pin is not related D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //to flow control for RX/TX.                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //In this scenario, the USB host would want to be able to control the RTS D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //pin, and the below line of code should be uncommented.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //However, if the intention is to implement true RTS/CTS flow control D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //for the RX/TX pair, then this application firmware should override D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //the USB host's setting for RTS, and instead generate a real RTS signal, D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //based on the amount of remaining buffer space available for the    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //actual hardware UART of this microcontroller.  In this case, the   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //below code should be left commented out, but instead RTS should be  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //controlled in the application firmware reponsible for operating the  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //hardware UART of this microcontroller.                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //---------                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //CONFIGURE_RTS(control_signal_bitmap.CARRIER_CONTROL);              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //------------------------------------------------------------------             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           if(control_signal_bitmap.DTE_PRESENT == 1)                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = USB_CDC_DTR_ACTIVE_LEVEL;                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           else                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           {                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                               UART_DTR = (USB_CDC_DTR_ACTIVE_LEVEL ^ 1);                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           }                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       #endif                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082f8   0105     MOVLB     0x5                        inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082fa   8fd3     BSF       0xd3,0x7,0x1                                                                                    
0082fc   0012     RETURN    0x0                        break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #if defined(USB_CDC_SUPPORT_ABSTRACT_CONTROL_MANAGEMENT_CAPABILITIES_D2) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case SEND_BREAK:                        // Optional                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       inPipes[0].info.bits.busy = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			if (SetupPkt.wValue == 0xFFFF)  //0xFFFF means send break indefinitely until a new SEND_BREAK command is received D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_Tx = 0;       // Prepare to drive TX low (for break signalling)         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 0;   // Make sure TX pin configured as an output               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_ENABLE = 0;   // Turn off USART (to relinquish TX pin control)          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else if (SetupPkt.wValue == 0x0000) //0x0000 means stop sending indefinite break  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               			UART_ENABLE = 1;   // turn on USART                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           				UART_TRISTx = 1;   // Make TX pin an input                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			else                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			{                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Send break signalling on the pin for (SetupPkt.wValue) milliseconds D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UART_SEND_BREAK();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           			}                                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   #endif                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end switch(SetupPkt.bRequest)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//end USBCheckCDCRequest                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** U S E R  A P I ***********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCInitEP(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function should      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               be called after the SET_CONFIGURATION command (ex: within the context of     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the USBCBInitEP() function).                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function initializes the CDC function driver. This function sets        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the default line coding (baud rate, bit parity, number of data bits,         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               and format). This function also enables the endpoints and prepares for       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the first transfer from the host.                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function should be called after the SET_CONFIGURATION command.          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This is most simply done by calling this function from the                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBCBInitEP() function.                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void USBCBInitEP(void)                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       CDCInitEP();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCInitEP(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                              	//Abstract line coding information                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0082fe   0105     MOVLB     0x5               	line_coding.dwDTERate.Val = 19200;      // baud rate                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008300   6b94     CLRF      0x94,0x1                                                                                        
008302   0e4b     MOVLW     0x4b                                                                                            
008304   6f95     MOVWF     0x95,0x1                                                                                        
008306   6b96     CLRF      0x96,0x1                                                                                        
008308   6b97     CLRF      0x97,0x1                                                                                        
00830a   6b98     CLRF      0x98,0x1          	line_coding.bCharFormat = 0x00;             // 1 stop bit                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00830c   6b99     CLRF      0x99,0x1          	line_coding.bParityType = 0x00;             // None                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00830e   0e08     MOVLW     0x8               	line_coding.bDataBits = 0x08;               // 5,6,7,8, or 16                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008310   6f9a     MOVWF     0x9a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008312   6ba3     CLRF      0xa3,0x1           cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Do not have to init Cnt of IN pipes here.                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Reason:  Number of BYTEs to send to the host                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          varies from one transaction to                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          another. Cnt should equal the exact                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          number of BYTEs to transmit for                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          a given IN transaction.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          This number of BYTEs will only                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          be known right before the data is                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *          sent.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008314   0e1a     MOVLW     0x1a               USBEnableEndpoint(CDC_COMM_EP,USB_IN_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008316   6ee6     MOVWF     0xe6,0x0                                                                                        
008318   0e01     MOVLW     0x1                                                                                             
00831a   6ee6     MOVWF     0xe6,0x0                                                                                        
00831c   ec63     CALL      0x6ac6,0x0                                                                                      
00831e   f035                                                                                                               
008320   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008322   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008324   0e1e     MOVLW     0x1e               USBEnableEndpoint(CDC_DATA_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008326   6ee6     MOVWF     0xe6,0x0                                                                                        
008328   0e02     MOVLW     0x2                                                                                             
00832a   6ee6     MOVWF     0xe6,0x0                                                                                        
00832c   ec63     CALL      0x6ac6,0x0                                                                                      
00832e   f035                                                                                                               
008330   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008332   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008334   d91c     RCALL     0x856e             CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008336   0105     MOVLB     0x5                CDCDataInHandle = NULL;                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008338   6bad     CLRF      0xad,0x1                                                                                        
00833a   6bae     CLRF      0xae,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	CDCNotificationInHandle = NULL;                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   mInitDTSPin();  //Configure DTS as a digital input                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	SerialStateBitmap.byte = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                 	OldSerialStateBitmap.byte = !SerialStateBitmap.byte;    //To force firmware to send an initial serial state packet to the host. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Prepare a SerialState notification element packet (contains info like DSR state) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bmRequestType = 0xA1; //Always 0xA1 for this type of packet. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.bNotification = SERIAL_STATE;                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wValue = 0x0000;  //Always 0x0000 for this type of packet D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wIndex = CDC_COMM_INTF_ID;  //Interface number         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = 0x00;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.Reserved = 0x00;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.wLength = 0x02;   //Always 2 bytes for this type of packet     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationHandler();                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_DTR_SIGNALING)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitDTRPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	                                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#if defined(USB_CDC_SUPPORT_HARDWARE_FLOW_CONTROL)                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitRTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	    mInitCTSPin();                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             	#endif                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00833c   6ba4     CLRF      0xa4,0x1           cdc_trf_state = CDC_TX_READY;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00833e   0012     RETURN    0x0            }//end CDCInitEP                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function: void CDCNotificationHandler(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary: Checks for changes in DSR status and reports them to the USB host.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description: Checks for changes in DSR pin state and reports any changes       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          to the USB host.                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions: CDCInitEP() must have been called previously, prior to calling     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                         CDCNotificationHandler() for the first time.                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is only implemented and needed when the                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB_CDC_SUPPORT_DSR_REPORTING option has been enabled.  If the function is   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               enabled, it should be called periodically to sample the DSR pin and feed     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the information to the USB host.  This can be done by calling                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler() by itself, or, by calling CDCTxService() which      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               also calls CDCNotificationHandler() internally, when appropriate.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #if defined(USB_CDC_SUPPORT_DSR_REPORTING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           void CDCNotificationHandler(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //Check the DTS I/O pin and if a state change is detected, notify the        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //USB host by sending a serial state notification element packet.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if(UART_DTS == USB_CDC_DSR_ACTIVE_LEVEL) //UART_DTS must be defined to be an I/O pin in the hardware profile to use the DTS feature (ex: "PORTXbits.RXY") D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 1;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStateBitmap.bits.DSR = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //If the state has changed, and the endpoint is available, send a packet to  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               //notify the hUSB host of the change.                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               if((SerialStateBitmap.byte != OldSerialStateBitmap.byte) && (!USBHandleBusy(CDCNotificationInHandle))) D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Copy the updated value into the USB packet buffer to send.             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   SerialStatePacket.SerialState.byte = SerialStateBitmap.byte;             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //We don't need to write to the other bytes in the SerialStatePacket USB D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //buffer, since they don't change and will always be the same as our     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //initialized value.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Send the packet over USB to the host.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   CDCNotificationInHandle = USBTransferOnePacket(CDC_COMM_EP, IN_TO_HOST, (BYTE*)&SerialStatePacket, sizeof(SERIAL_STATE_NOTIFICATION)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   //Save the old value, so we can detect changes later.                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   OldSerialStateBitmap.byte = SerialStateBitmap.byte;                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           }//void CDCNotificationHandler(void)                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               #define CDCNotificationHandler() {}                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack, which may have an effect on the CDC       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint(s).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Handles events from the USB stack.  This function should be called when      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               there is a USB event that needs to be processed by the CDC driver.           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               event - the type of event that occured                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pdata - pointer to the data that caused the event                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               size - the size of the data that is pointed to by pdata                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008340   d941     RCALL     0x85c4         BOOL USBCDCEventHandler(USB_EVENT event, void *pdata, WORD size)                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008342   d965     RCALL     0x860e             switch( (INT)event )                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008344   0e05     MOVLW     0x5                                                                                             
008346   183a     XORWF     0x3a,0x0,0x0                                                                                    
008348   e101     BNZ       0x834c                                                                                          
00834a   503b     MOVF      0x3b,0x0,0x0                                                                                    
00834c   e002     BZ        0x8352                                                                                          
00860e   0efd     MOVLW     0xfd                                                                                            
008610   cfdb     MOVFF     0xfdb,0x3a                                                                                      
008612   f03a                                                                                                               
008614   0efe     MOVLW     0xfe                                                                                            
008616   cfdb     MOVFF     0xfdb,0x3b                                                                                      
008618   f03b                                                                                                               
00861a   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   case EVENT_TRANSFER_TERMINATED:                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008352   d948     RCALL     0x85e4                     if(pdata == CDCDataOutHandle)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008354   0105     MOVLB     0x5                                                                                             
008356   51ab     MOVF      0xab,0x0,0x1                                                                                    
008358   1846     XORWF     0x46,0x0,0x0                                                                                    
00835a   e104     BNZ       0x8364                                                                                          
00835c   51ac     MOVF      0xac,0x0,0x1                                                                                    
00835e   1847     XORWF     0x47,0x0,0x0                                                                                    
008360   e101     BNZ       0x8364                                                                                          
0085e4   0efb     MOVLW     0xfb                                                                                            
0085e6   cfdb     MOVFF     0xfdb,0x46                                                                                      
0085e8   f046                                                                                                               
0085ea   0efc     MOVLW     0xfc                                                                                            
0085ec   cfdb     MOVFF     0xfdb,0x47                                                                                      
0085ee   f047                                                                                                               
0085f0   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008362   d905     RCALL     0x856e                         CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx));   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008364   d93f     RCALL     0x85e4                     if(pdata == CDCDataInHandle)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008366   0105     MOVLB     0x5                                                                                             
008368   51ad     MOVF      0xad,0x0,0x1                                                                                    
00836a   1846     XORWF     0x46,0x0,0x0                                                                                    
00836c   e105     BNZ       0x8378                                                                                          
00836e   51ae     MOVF      0xae,0x0,0x1                                                                                    
008370   1847     XORWF     0x47,0x0,0x0                                                                                    
008372   e102     BNZ       0x8378                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //flush all of the data in the CDC buffer                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008374   6ba4     CLRF      0xa4,0x1                       cdc_trf_state = CDC_TX_READY;                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008376   6ba9     CLRF      0xa9,0x1                       cdc_tx_len = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       break;                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00834e   0e00     MOVLW     0x0                        return FALSE;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008350   d014     BRA       0x837a                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008378   0e01     MOVLW     0x1                return TRUE;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00837a   d129     BRA       0x85ce         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /********************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE getsUSBUSART(char *buffer, BYTE len)                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               getsUSBUSART copies a string of BYTEs received through USB CDC Bulk OUT      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint to a user's specified location. It is a non-blocking function.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               It does not wait for data if there is no data available. Instead it          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               returns '0' to notify the caller that there is no data available.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE numBytes;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   BYTE buffer[64]                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   numBytes = getsUSBUSART(buffer,sizeof(buffer)); //until the buffer is free. D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(numBytes \> 0)                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //we received numBytes bytes of data and they are copied into        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  the "buffer" variable.  We can do something with the data        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       //  here.                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Value of input argument 'len' should be smaller than the maximum             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               endpoint size responsible for receiving bulk data from USB host for CDC      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               class. Input argument 'buffer' should point to a buffer area that is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               bigger or equal to the size specified by 'len'.                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               buffer -  Pointer to where received BYTEs are to be stored                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               len -     The number of BYTEs expected.                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **********************************************************************************/ D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00837c   d923     RCALL     0x85c4         BYTE getsUSBUSART(char *buffer, BYTE len)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00837e   0105     MOVLB     0x5                cdc_rx_len = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008380   6ba3     CLRF      0xa3,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008382   51ab     MOVF      0xab,0x0,0x1       if(!USBHandleBusy(CDCDataOutHandle))                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008384   11ac     IORWF     0xac,0x0,0x1                                                                                    
008386   e102     BNZ       0x838c                                                                                          
008388   0e00     MOVLW     0x0                                                                                             
00838a   d005     BRA       0x8396                                                                                          
00838c   d932     RCALL     0x85f2                                                                                          
00838e   50ef     MOVF      0xef,0x0,0x0                                                                                    
008390   0b80     ANDLW     0x80                                                                                            
008392   e001     BZ        0x8396                                                                                          
008394   0e01     MOVLW     0x1                                                                                             
008396   0900     IORLW     0x0                                                                                             
008398   e12d     BNZ       0x83f4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Adjust the expected number of BYTEs to equal                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * the actual number of BYTEs received.                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00839a   0efc     MOVLW     0xfc                   if(len > USBHandleGetLength(CDCDataOutHandle))                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00839c   cfdb     MOVFF     0xfdb,0x46                                                                                      
00839e   f046                                                                                                               
0083a0   d928     RCALL     0x85f2                                                                                          
0083a2   52ee     MOVF      0xee,0x1,0x0                                                                                    
0083a4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0083a6   80d8     BSF       0xd8,0x0,0x0                                                                                    
0083a8   5446     SUBFWB    0x46,0x0,0x0                                                                                    
0083aa   e205     BC        0x83b6                                                                                          
0083ac   d922     RCALL     0x85f2                     len = USBHandleGetLength(CDCDataOutHandle);                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083ae   52ee     MOVF      0xee,0x1,0x0                                                                                    
0083b0   0efc     MOVLW     0xfc                                                                                            
0083b2   cfef     MOVFF     0xfef,0xfdb                                                                                     
0083b4   ffdb                                                                                                               
0085f2   c5ab     MOVFF     0x5ab,0xfe9                                                                                     
0085f4   ffe9                                                                                                               
0085f6   c5ac     MOVFF     0x5ac,0xfea                                                                                     
0085f8   ffea                                                                                                               
0085fa   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Copy data from dual-ram buffer to user's buffer                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083b6   6ba3     CLRF      0xa3,0x1               for(cdc_rx_len = 0; cdc_rx_len < len; cdc_rx_len++)                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083b8   0efc     MOVLW     0xfc                                                                                            
0083ba   50db     MOVF      0xdb,0x0,0x0                                                                                    
0083bc   5da3     SUBWF     0xa3,0x0,0x1                                                                                    
0083be   e219     BC        0x83f2                                                                                          
0083ee   2ba3     INCF      0xa3,0x1,0x1                                                                                    
0083f0   d7e3     BRA       0x83b8                                                                                          
0083c0   51a3     MOVF      0xa3,0x0,0x1               buffer[cdc_rx_len] = cdc_data_rx[cdc_rx_len];                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083c2   6aea     CLRF      0xea,0x0                                                                                        
0083c4   0f54     ADDLW     0x54                                                                                            
0083c6   6ee9     MOVWF     0xe9,0x0                                                                                        
0083c8   0e05     MOVLW     0x5                                                                                             
0083ca   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0083cc   50ef     MOVF      0xef,0x0,0x0                                                                                    
0083ce   6ee6     MOVWF     0xe6,0x0                                                                                        
0083d0   51a3     MOVF      0xa3,0x0,0x1                                                                                    
0083d2   6ee7     MOVWF     0xe7,0x0                                                                                        
0083d4   0efd     MOVLW     0xfd                                                                                            
0083d6   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0083d8   ffe9                                                                                                               
0083da   0efe     MOVLW     0xfe                                                                                            
0083dc   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0083de   ffea                                                                                                               
0083e0   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0083e2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0083e4   0e00     MOVLW     0x0                                                                                             
0083e6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0083e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0083ea   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0083ec   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Prepare dual-ram buffer for next OUT transaction                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083f2   d8bd     RCALL     0x856e                 CDCDataOutHandle = USBRxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_rx,sizeof(cdc_data_rx)); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00856e   0e40     MOVLW     0x40                                                                                            
008570   6ee6     MOVWF     0xe6,0x0                                                                                        
008572   0e54     MOVLW     0x54                                                                                            
008574   6ee6     MOVWF     0xe6,0x0                                                                                        
008576   0e05     MOVLW     0x5                                                                                             
008578   6ee6     MOVWF     0xe6,0x0                                                                                        
00857a   6ae6     CLRF      0xe6,0x0                                                                                        
00857c   d83f     RCALL     0x85fc                                                                                          
00857e   cff3     MOVFF     0xff3,0x5ab                                                                                     
008580   f5ab                                                                                                               
008582   cff4     MOVFF     0xff4,0x5ac                                                                                     
008584   f5ac                                                                                                               
008586   0012     RETURN    0x0                                                                                             
0085fc   0e02     MOVLW     0x2                                                                                             
0085fe   6ee6     MOVWF     0xe6,0x0                                                                                        
008600   ec87     CALL      0x6b0e,0x0                                                                                      
008602   f035                                                                                                               
008604   6e46     MOVWF     0x46,0x0                                                                                        
008606   0e05     MOVLW     0x5                                                                                             
008608   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
00860a   5046     MOVF      0x46,0x0,0x0                                                                                    
00860c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083f4   0105     MOVLB     0x5                return cdc_rx_len;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083f6   51a3     MOVF      0xa3,0x0,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083f8   d0ea     BRA       0x85ce         }//end getsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	void putUSBUSART(char *data, BYTE length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putUSBUSART writes an array of data to the USB. Use this version, is         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               capable of transfering 0x00 (what is typically a NULL character in any of    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the string transfer functions).                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = {0x00, 0x01, 0x02, 0x03, 0x04};                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putUSBUSART(data,5);                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data - pointer to a RAM array of data to be transfered to the host     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE length - the number of bytes to be transfered (must be less than 255).  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083fa   d8e4     RCALL     0x85c4         void putUSBUSART(char *data, BYTE  length)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putUSBUSART(pData, Length);                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083fc   0105     MOVLB     0x5                if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0083fe   51a4     MOVF      0xa4,0x0,0x1                                                                                    
008400   e107     BNZ       0x8410                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008402   d8e9     RCALL     0x85d6                 mUSBUSARTTxRam((BYTE*)data, length);     // See cdc.h                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008404   0efc     MOVLW     0xfc                                                                                            
008406   cfdb     MOVFF     0xfdb,0x5a9                                                                                     
008408   f5a9                                                                                                               
00840a   0e01     MOVLW     0x1                                                                                             
00840c   6faa     MOVWF     0xaa,0x1                                                                                        
00840e   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008410   d0de     BRA       0x85ce         }//end putUSBUSART                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           	Function:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		void putsUSBUSART(char *data)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putsUSBUSART writes a string of data to the USB including the null           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'puts', to transfer data from a RAM buffer.     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       char data[] = "Hello World";                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putsUSBUSART(data);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *data -  null\-terminated string of constant data. If a                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           		                                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008412   d904     RCALL     0x861c         void putsUSBUSART(char *data)                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00861c   dfd3     RCALL     0x85c4                                                                                          
00861e   0e03     MOVLW     0x3                                                                                             
008620   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               char *pData;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()==1            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData, Length);                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(!USBUSARTIsTxTrfReady())                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008414   e117     BNZ       0x8444             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008622   0105     MOVLB     0x5                                                                                             
008624   51a4     MOVF      0xa4,0x0,0x1                                                                                    
008626   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008416   d8c0     RCALL     0x8598             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008598   6adf     CLRF      0xdf,0x0                                                                                        
00859a   d839     RCALL     0x860e             pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00859c   52de     MOVF      0xde,0x1,0x0                                                                                    
00859e   c03a     MOVFF     0x3a,0xfde                                                                                      
0085a0   ffde                                                                                                               
0085a2   c03b     MOVFF     0x3b,0xfdd                                                                                      
0085a4   ffdd                                                                                                               
0085a6   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0085a8   0012     RETURN    0x0                                                                                             
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008418   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00841a   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00841c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00841e   e00b     BZ        0x8436                                                                                          
008420   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008422   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
008424   ffe9                                                                                                               
008426   2adb     INCF      0xdb,0x1,0x0                                                                                    
008428   0e02     MOVLW     0x2                                                                                             
00842a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00842c   ffea                                                                                                               
00842e   e301     BNC       0x8432                                                                                          
008430   2adb     INCF      0xdb,0x1,0x0                                                                                    
008432   50ef     MOVF      0xef,0x0,0x0                                                                                    
008434   e1f1     BNZ       0x8418                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRam to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008436   d8cf     RCALL     0x85d6             mUSBUSARTTxRam((BYTE*)data, len);     // See cdc.h                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008438   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
00843a   f5a9                                                                                                               
00843c   0105     MOVLB     0x5                                                                                             
00843e   0e01     MOVLW     0x1                                                                                             
008440   6faa     MOVWF     0xaa,0x1                                                                                        
008442   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008444   0e03     MOVLW     0x3            }//end putsUSBUSART                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008446   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
008448   e202     BC        0x844e                                                                                          
00844a   6ae1     CLRF      0xe1,0x0                                                                                        
00844c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00844e   6ee1     MOVWF     0xe1,0x0                                                                                        
008450   d0be     BRA       0x85ce                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /**************************************************************************      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void putrsUSBUSART(const ROM char *data)                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               putrsUSBUSART writes a string of data to the USB including the null          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               character. Use this version, 'putrs', to transfer data literals and          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data located in program memory.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   if(USBUSARTIsTxTrfReady())                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       putrsUSBUSART("Hello World");                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               The transfer mechanism for device-to-host(put) is more flexible than         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               host-to-device(get). It can handle a string of data larger than the          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               maximum size of bulk IN endpoint. A state machine is used to transfer a      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               \long string of data over multiple USB transactions. CDCTxService()          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               must be called periodically to keep sending blocks of data to the host.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUSARTIsTxTrfReady() must return TRUE. This indicates that the last        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               transfer is complete and is ready to receive a new block of data. The        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               string of characters pointed to by 'data' must equal to or smaller than      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               255 BYTEs.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Input:                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *data -  null\-terminated string of constant data. If a       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       null character is not found, 255 BYTEs of data       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                       will be transferred to the host.                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             **************************************************************************/    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008452   d8e4     RCALL     0x861c         void putrsUSBUSART(const ROM char *data)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE len;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               const ROM char *pData;                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * before calling this function.                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to make sure it does not override any pending transactions.               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Currently it just quits the routine without reporting any errors back     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * to the user.                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Bottomline: User MUST make sure that USBUSARTIsTxTrfReady()               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *             before calling this function!                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Example:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * if(USBUSARTIsTxTrfReady())                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * while(cdc_trf_state != CDC_TX_READY)                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *     putsUSBUSART(pData);                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                *                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The whole firmware framework is written based on cooperative              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Use a state machine instead.                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008454   e118     BNZ       0x8486             if(cdc_trf_state != CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * While loop counts the number of BYTEs to send including the               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * null character.                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008456   d8a0     RCALL     0x8598             len = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               pData = data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               do                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008458   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00845a   0eff     MOVLW     0xff                   if(len == 255u) break;       // Break loop once max len is reached.      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00845c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00845e   e00c     BZ        0x8478                                                                                          
008460   0e01     MOVLW     0x1                }while(*pData++);                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008462   cfdb     MOVFF     0xfdb,0xff6                                                                                     
008464   fff6                                                                                                               
008466   2adb     INCF      0xdb,0x1,0x0                                                                                    
008468   0e02     MOVLW     0x2                                                                                             
00846a   cfdb     MOVFF     0xfdb,0xff7                                                                                     
00846c   fff7                                                                                                               
00846e   e301     BNC       0x8472                                                                                          
008470   2adb     INCF      0xdb,0x1,0x0                                                                                    
008472   0008     TBLRD                                                                                                     
008474   50f5     MOVF      0xf5,0x0,0x0                                                                                    
008476   e1f0     BNZ       0x8458                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Second piece of information (length of data to send) is ready.            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Call mUSBUSARTTxRom to setup the transfer.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * which should be called once per Main Program loop.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008478   d8ae     RCALL     0x85d6             mUSBUSARTTxRom((ROM BYTE*)data,len); // See cdc.h                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00847a   cfdf     MOVFF     0xfdf,0x5a9                                                                                     
00847c   f5a9                                                                                                               
00847e   0105     MOVLB     0x5                                                                                             
008480   6baa     CLRF      0xaa,0x1                                                                                        
008482   0e01     MOVLW     0x1                                                                                             
008484   6fa4     MOVWF     0xa4,0x1                                                                                        
0085d6   0efd     MOVLW     0xfd                                                                                            
0085d8   cfdb     MOVFF     0xfdb,0x5a5                                                                                     
0085da   f5a5                                                                                                               
0085dc   0efe     MOVLW     0xfe                                                                                            
0085de   cfdb     MOVFF     0xfdb,0x5a6                                                                                     
0085e0   f5a6                                                                                                               
0085e2   0012     RETURN    0x0                                                                                             
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008486   0e03     MOVLW     0x3            }//end putrsUSBUSART                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008488   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00848a   e202     BC        0x8490                                                                                          
00848c   6ae1     CLRF      0xe1,0x0                                                                                        
00848e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008490   6ee1     MOVWF     0xe1,0x0                                                                                        
008492   d09d     BRA       0x85ce                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /************************************************************************        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Function:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   void CDCTxService(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Summary:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state.                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Description:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService handles device-to-host transaction(s). This function            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               should be called once per Main Program loop after the device reaches         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               the configured state (after the CDCIniEP() function has already executed).   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               This function is needed, in order to advance the internal software state     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               machine that takes care of sending multiple transactions worth of IN USB     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               data to the host, associated with CDC serial data.  Failure to call          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCTxService() perioidcally will prevent data from being sent to the         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USB host, over the CDC serial data interface.                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               Typical Usage:                                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               <code>                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               void main(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBDeviceInit();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   while(1)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       USBDeviceTasks();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       if((USBGetDeviceState() \< CONFIGURED_STATE) ||                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                          (USBIsDeviceSuspended() == TRUE))                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Either the device is not configured or we are suspended        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //  so we don't want to do execute any application code          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           continue;   //go back to the top of the while loop               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Keep trying to send data to the PC as required                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           CDCTxService();                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           //Run application code.                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           UserApplication();                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               </code>                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Conditions:                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCIniEP() function should have already executed/the device should be        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               in the CONFIGURED_STATE.                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             Remarks:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               None                                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                             ************************************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008494   d897     RCALL     0x85c4         void CDCTxService(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008496   0e02     MOVLW     0x2                                                                                             
008498   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0085c4   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0085c6   ffe6                                                                                                               
0085c8   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0085ca   ffd9                                                                                                               
0085cc   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE byte_to_send;                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               BYTE i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBMaskInterrupts();                                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               CDCNotificationHandler();                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00849a   0105     MOVLB     0x5                if(USBHandleBusy(CDCDataInHandle))                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00849c   51ad     MOVF      0xad,0x0,0x1                                                                                    
00849e   11ae     IORWF     0xae,0x0,0x1                                                                                    
0084a0   e102     BNZ       0x84a6                                                                                          
0084a2   0e00     MOVLW     0x0                                                                                             
0084a4   d008     BRA       0x84b6                                                                                          
0084a6   c5ad     MOVFF     0x5ad,0xfe9                                                                                     
0084a8   ffe9                                                                                                               
0084aa   c5ae     MOVFF     0x5ae,0xfea                                                                                     
0084ac   ffea                                                                                                               
0084ae   50ef     MOVF      0xef,0x0,0x0                                                                                    
0084b0   0b80     ANDLW     0x80                                                                                            
0084b2   e001     BZ        0x84b6                                                                                          
0084b4   0e01     MOVLW     0x1                                                                                             
0084b6   0900     IORLW     0x0                                                                                             
0084b8   e153     BNZ       0x8560                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * Completing stage is necessary while [ mCDCUSartTxIsBusy()==1 ].           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * By having this stage, user can always check cdc_trf_state,                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * and not having to call mCDCUsartTxIsBusy() directly.                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084ba   0e03     MOVLW     0x3                if(cdc_trf_state == CDC_TX_COMPLETING)                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084bc   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
0084be   e101     BNZ       0x84c2                                                                                          
0084c0   6ba4     CLRF      0xa4,0x1               cdc_trf_state = CDC_TX_READY;                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_READY state, nothing to do, just return.                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084c2   51a4     MOVF      0xa4,0x0,0x1       if(cdc_trf_state == CDC_TX_READY)                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084c4   e04d     BZ        0x8560                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   USBUnmaskInterrupts();                                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               /*                                                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                * If CDC_TX_BUSY_ZLP state, send zero length packet                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                */                                                                          D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084c6   0e02     MOVLW     0x2                if(cdc_trf_state == CDC_TX_BUSY_ZLP)                                         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084c8   5da4     SUBWF     0xa4,0x0,0x1                                                                                    
0084ca   e109     BNZ       0x84de                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084cc   6ae6     CLRF      0xe6,0x0               CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,NULL,0);                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084ce   0e00     MOVLW     0x0                                                                                             
0084d0   6ee6     MOVWF     0xe6,0x0                                                                                        
0084d2   6ae6     CLRF      0xe6,0x0                                                                                        
0084d4   d859     RCALL     0x8588                                                                                          
008588   0e01     MOVLW     0x1                                                                                             
00858a   6ee6     MOVWF     0xe6,0x0                                                                                        
00858c   d837     RCALL     0x85fc                                                                                          
00858e   cff3     MOVFF     0xff3,0x5ad                                                                                     
008590   f5ad                                                                                                               
008592   cff4     MOVFF     0xff4,0x5ae                                                                                     
008594   f5ae                                                                                                               
008596   0012     RETURN    0x0                                                                                             
                                                   //CDC_DATA_BD_IN.CNT = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084d6   0105     MOVLB     0x5                    cdc_trf_state = CDC_TX_COMPLETING;                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084d8   0e03     MOVLW     0x3                                                                                             
0084da   6fa4     MOVWF     0xa4,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084dc   d041     BRA       0x8560             else if(cdc_trf_state == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084de   05a4     DECF      0xa4,0x0,0x1                                                                                    
0084e0   e13f     BNZ       0x8560                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * First, have to figure out how many byte of data to send.              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084e2   0e40     MOVLW     0x40               	if(cdc_tx_len > sizeof(cdc_data_tx))                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084e4   6e46     MOVWF     0x46,0x0                                                                                        
0084e6   6a47     CLRF      0x47,0x0                                                                                        
0084e8   51a9     MOVF      0xa9,0x0,0x1                                                                                    
0084ea   5c46     SUBWF     0x46,0x0,0x0                                                                                    
0084ec   0e00     MOVLW     0x0                                                                                             
0084ee   5847     SUBWFB    0x47,0x0,0x0                                                                                    
0084f0   e203     BC        0x84f8                                                                                          
0084f2   0e40     MOVLW     0x40               	    byte_to_send = sizeof(cdc_data_tx);                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084f4   6edf     MOVWF     0xdf,0x0                                                                                        
0084f6   d002     BRA       0x84fc             	else                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084f8   c5a9     MOVFF     0x5a9,0xfdf        	    byte_to_send = cdc_tx_len;                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084fa   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Subtract the number of bytes just about to be sent from the total.    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084fc   50df     MOVF      0xdf,0x0,0x0       	cdc_tx_len = cdc_tx_len - byte_to_send;                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0084fe   5da9     SUBWF     0xa9,0x0,0x1                                                                                    
008500   6fa9     MOVWF     0xa9,0x1                                                                                        
                                               	                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008502   0e14     MOVLW     0x14                   pCDCDst.bRam = (BYTE*)&cdc_data_tx; // Set destination pointer           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008504   6fa7     MOVWF     0xa7,0x1                                                                                        
008506   0e05     MOVLW     0x5                                                                                             
008508   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00850a   0e01     MOVLW     0x1                    i = byte_to_send;                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00850c   cfdf     MOVFF     0xfdf,0xfdb                                                                                     
00850e   ffdb                                                                                                               
008510   51aa     MOVF      0xaa,0x0,0x1           if(cdc_mem_type == USB_EP0_ROM)            // Determine type of memory source D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008512   e10b     BNZ       0x852a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008514   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008516   50db     MOVF      0xdb,0x0,0x0                                                                                    
008518   e012     BZ        0x853e                                                                                          
008528   d7f5     BRA       0x8514                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00851a   c5a5     MOVFF     0x5a5,0xff6                    *pCDCDst.bRam = *pCDCSrc.bRom;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00851c   fff6                                                                                                               
00851e   c5a6     MOVFF     0x5a6,0xff7                                                                                     
008520   fff7                                                                                                               
008522   0008     TBLRD                                                                                                     
008524   50f5     MOVF      0xf5,0x0,0x0                                                                                    
008526   d841     RCALL     0x85aa                                                                                          
0085aa   c5a7     MOVFF     0x5a7,0xfe9                                                                                     
0085ac   ffe9                                                                                                               
0085ae   c5a8     MOVFF     0x5a8,0xfea                                                                                     
0085b0   ffea                                                                                                               
0085b2   6eef     MOVWF     0xef,0x0                                                                                        
0085b4   2ba7     INCF      0xa7,0x1,0x1                   pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0085b6   0e00     MOVLW     0x0                                                                                             
0085b8   23a8     ADDWFC    0xa8,0x1,0x1                                                                                    
0085ba   2ba5     INCF      0xa5,0x1,0x1                   pCDCSrc.bRom++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0085bc   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
0085be   0e01     MOVLW     0x1                            i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
0085c0   06db     DECF      0xdb,0x1,0x0                                                                                    
0085c2   0012     RETURN    0x0                                                                                             
                                                       }//end while(byte_to_send)                                           D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   else // _RAM                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00852a   0e01     MOVLW     0x1                        while(i)                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00852c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00852e   e007     BZ        0x853e                                                                                          
00853c   d7f6     BRA       0x852a                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008530   c5a5     MOVFF     0x5a5,0xfe9                    *pCDCDst.bRam = *pCDCSrc.bRam;                                   D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008532   ffe9                                                                                                               
008534   c5a6     MOVFF     0x5a6,0xfea                                                                                     
008536   ffea                                                                                                               
008538   50ef     MOVF      0xef,0x0,0x0                                                                                    
00853a   d837     RCALL     0x85aa                                                                                          
                                                           pCDCDst.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           pCDCSrc.bRam++;                                                  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                           i--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                       }//end while(byte_to_send._word)                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   }//end if(cdc_mem_type...)                                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                   /*                                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * Lastly, determine if a zero length packet state is necessary.         D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    * See explanation in USB Specification 2.0: Section 5.8.3               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                    */                                                                      D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00853e   0105     MOVLB     0x5                    if(cdc_tx_len == 0u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008540   51a9     MOVF      0xa9,0x0,0x1                                                                                    
008542   e107     BNZ       0x8552                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008544   0e40     MOVLW     0x40                       if(byte_to_send == CDC_DATA_IN_EP_SIZE)                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008546   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
008548   e102     BNZ       0x854e                                                                                          
00854a   0e02     MOVLW     0x2                            cdc_trf_state = CDC_TX_BUSY_ZLP;                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00854c   d001     BRA       0x8550                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
00854e   0e03     MOVLW     0x3                            cdc_trf_state = CDC_TX_COMPLETING;                               D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008550   6fa4     MOVWF     0xa4,0x1                                                                                        
                                                   }//end if(cdc_tx_len...)                                                 D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008552   cfdf     MOVFF     0xfdf,0xfe6            CDCDataInHandle = USBTxOnePacket(CDC_DATA_EP,(BYTE*)&cdc_data_tx,byte_to_send); D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008554   ffe6                                                                                                               
008556   0e14     MOVLW     0x14                                                                                            
008558   6ee6     MOVWF     0xe6,0x0                                                                                        
00855a   0e05     MOVLW     0x5                                                                                             
00855c   6ee6     MOVWF     0xe6,0x0                                                                                        
00855e   d814     RCALL     0x8588                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               }//end if(cdc_tx_sate == CDC_TX_BUSY)                                        D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                               USBUnmaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008560   0e02     MOVLW     0x2            }//end CDCTxService                                                              D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
008562   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
008564   e202     BC        0x856a                                                                                          
008566   6ae1     CLRF      0xe1,0x0                                                                                        
008568   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00856a   6ee1     MOVWF     0xe1,0x0                                                                                        
00856c   d030     BRA       0x85ce                                                                                          
0085ce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0085d0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0085d2   ffd9                                                                                                               
0085d4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           #endif //USB_USE_CDC                                                             D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /** EOF cdc.c ****************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\Microchip\USB\CDC Device Driver\usb_function_cdc.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * FileName:        ebb.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Versions:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8 -                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.1 5/19/10 - Only change is to recompile with Microchip USB Stack v2.7     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.8.2 5/31/10 - Only change is to change name in USB enumeration string to Ei D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Bot Board - using new PID for SchmalzHaus                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9   6/11/10 - Added two commands:                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SQ - Solenoid Query - returns 0 or 1 for down and up         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ST - Solenoid Toggle - toggles state of the servo/solenoid   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.2 6/15/10 - Added commands:                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,11 sets pen up speed                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,12 sets pen down speed                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SL - sets the current layer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QL - queries the current layer                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - sets move (node) count                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QN - Query node count                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QB - Query Button command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.3 6/16/10 - Replaced SN with CL (Clear Node) command                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.4 6/22/10 - Node Count now incremented on pauses (SM with zero step size) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  as well                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.5 7/2/10 - Node count no longer incremented at all except for NI command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NI - Node count Increment                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  ND - Node count Decrement                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SN - Set Node count (with 8 byte variable)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  BL - With latest bootloader, will jump to Boot Load mode     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1.9.6 7/3/10 - Removed extra vectors below 0x1000 for easier merging of HEX   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      files                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - use c018i_HID_BL.o now                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.0 9/9/10 - Add in                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  QC - Query Current - reads voltage of current adjustment pot D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: This is NOT done the 'right way'. Instead, we set      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      up the pin for analog input at boot, then when the QC    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      comes in, we activate the ADC and take one reading and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      then shut it down. Eventually, we should re-write the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      'UBW' ADC routines to work with the much more flexible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ADC in the 46J50 part and then just use that generic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      code for reading the value of the pot.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,13,{0,1} - enables/disables RB0 as another PRG button for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pause detection                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.1 9/13/10 - Bug fix - on v1.1 EBB hardware, need to disable RB0 alt pause D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      button. Switched it to RB2 on v1.1 hardware              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.0.2 10/3/10 - Bug fix - QC command not returning proper results - added     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      cast and now works OK                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.0 10/21/10- Added in                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE - Set Engraver - turns engraver (on RB3) on or off, or    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      set to PWM power level                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Added code in init to pre-charge RC7 (USB_SENSE_IO) high   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      before running rest of code                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      to get around wrong resistor value on hardware.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1 11/21/10- Removed Microchip USB stack v2.7, replaced it with v2.8 from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  MAL 2010_10_19.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Also using generic Microchip folder now rather than re-named D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      one (simpler to update).                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated code in main.c (and others) to match updates from    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      latest MAL CDC example.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1cTest1 01/17/11 - Added third parameter to SP command to use any PortB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      pin for servo output.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  For this version only - used PortB2 as standard servo output D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.1d 02/11/11 - Reverted back to RB1 for servo output                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                 - Updated check_and_send_TX_data() to allow unlimited data to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      go out without overrunning the output buffer, same as    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      UBW 1.4.7.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.2 11/04/11 - Fixed PI command to return just a 0 or a 1                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated to USB stack 2.9a                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Created MPLAB X project for this firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,<state> to enable/disable solenoid output on RB4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command and solenoid command interaction - D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      we now turn off solenoid output on RB4 if user uses S2   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to use RB4 for RC servo output.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with S2 command where a duration of 0 would not    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      shut off the PWM channel                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug in S2 command where <rate> variable was not being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used correctly                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Switched default number of S2 channels to 8 (from 7 before)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.3 12/12/11 - RB3 now defaults to digital I/O on boot, can still use SE    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      command to do PWM later if you want                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Compiled with latest UBW stack - 2.9b from MAL 2011-10-18    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.4 12/14/11 - RB3 now defaults to OFF, rather than ON, at boot.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.1.5 12/15/11 - Fixed problem with pen servo (RB1) being inverted on boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.0 11/07/12 - Fixed problem with SP command not working properly with      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      ports other than RB1 because we don't properly use S2    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands for SP up/down within ISR. Tested on all PortB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.1 09/19/13 - Expanded internal delay counter to 32 bits so we can have    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      delays longer than 2.1s. Now up to 64K ms.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed bug with all <duration> parameters, SP, TP             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      commands. Now in ms, defaults to 500ms, and actually     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      works up to 64Kms.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Fixed uninitialized data bug with command FIFO. We were seeing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      very long random delays first time SM,<delay>,0,0 was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      used.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - SP command was executing servo move at end of <duration>. It D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                      now starts servo move and <duration> delay at same time. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated USB stack to Microchip MAL USB v2.9j                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.2 10/15/13 - Fixed bug with SE command that was preventing anything other D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  than 50% duty cycle from working.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,2,{0,1,2} to control PIC and drivers connection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  0 = PIC controls built in drivers                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  1 = PIC controls external step/dir/en drives                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  2 = external step/dir/en controls built-in drivers           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Also updated the pins that are used for driving external     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step/dir/en drives. (See documentation)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated SC,1,{0,1,2} documentation to match code and removed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SC,14 which is not needed.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated logic for EM command to use state of SC,2,{0,1,2}    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  properly.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Added SC,14,{0,1} to switch between default of 1/25Khz units D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for SP and TP command <duration> parameters, and 1ms units   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.3 01/11/14 - Rewrote analog system so we don't have problems with QC      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands anymore. New command AC.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.4 04/26/14 - Fixed bug where 0 for duration in SM would cause problems    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Found bug where the <servo_min> and <servo_max> values were  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  reversed in the SP command. This has now been fixed so that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SP commands will operate the same as 2.0.1 version.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Set initial  'position' of main servo to be 1mS to mimic     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  behavior of v2.0.1 firmware.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Updated license to BSD 3-clause                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Changed SP and TP commands so that if no <duration> parameter D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  is used, it does not default to 500mS delay, but rather 0mS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  This should now work exactly as 2.0.1 when no parameter is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                - Tested 2.2.4 against 2.0.1 with Saleae Logic analyzer. Looked D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  at several Inkscape plots. Confirmed that timing of steppers D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and servo are the same. Confirmed that all RB0 through RB7   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  outputs are the same between the two versions.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.5 04/29/14 - Added 'long' arguments to SM for <move_duration> and <axis1> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  and <axis2>. All can be 3 bytes now. Also added checks in    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command to make sure that arguments don't result in a     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  step speed that's too low (<0.76Hz).                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.6 01/01/15 - Added 'QM' command - Query Motor, tells PC what is moving.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.7 08/13/15 - Added 'ES' command, which will immediately abort any SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  but leave the motors energized. (E-stop) It returns "1" if   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  it aborted a move in progress, "0" otherwise. It will also   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  delete any pending SM command in the FIFO.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.8 08/14/15 - Corrected error checking in SM command to accurately reflect D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  too fast and too slow requests. (>25K or <1.31 steps per     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  second). Also added type cast that now allows for full range D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  of step values to work properly.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.2.9 08/18/15 - Added extra values to output of ES command to indicate how   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  many steps were aborted.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.3.0 08/28/15 - Added new XM command as per issue #29 for driving mixed-axis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  geometry machines.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.0 03/14/16 - Added new AM command for using accelerated                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  stepper motion. Includes going to 32 bit accumulators in ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  to achieve necessary resolution, which includes changes to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SM command as well. Also added "CU,2,0" to turn of SM command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  parameter checking for speed.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  NOTE: AM command may not be quite 'right' yet. Although it   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  has passed simple tests, it could not be made to reliably    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  work from the Inkscape plugin, so it is not currently being  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  used. It may have to change in future versions of this       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  firmware.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.1 08/08/16 - Added new form of SE command, with optional parameter that   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  puts SE in motion queue. (issue #51)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed issue #52 (bug in parameter check in parse_SM_packet()) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.2 08/10/16 - Fixed bug in SE command that would set engraver to 50% if    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  SE,1,0 was used. Also added engraver power to FIFO structure D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  for when third SE parameter is 1.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.3 11/07/16 - Added QS (Query Step position) and CS (Clear Step position)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.4 11/16/16 - Added extra value to QM command to show status of FIFO       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.5 01/07/17 - Fixed math error in SM/XM commands (see issue #71)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.4.6 01/08/17 - Added special case code for moves less than 30ms long (this  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  special case just un-does the change for issue #71 for these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  short moves)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.0 01/09/17 - Added LM (low level move) command to allow PC to do all math D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.1 01/18/17 - Fixed LM command to take negative and positive Accel         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed 25KHz ISR to be much closer to 25KHz                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.2 07/07/17 - Fixed issue #78 : detected and reject 0,0 for LM command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed some uninitialized variables                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  LM Accel parameter went to 32 bits signed from 16 bit signed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.3 07/09/17 - Fixed bug in LM command that would corrupt currently running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    moves with new data.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.4 01/06/18 - Added ST (Set Tag), QT (Query Tag) commands.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added RB (ReBoot) command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added any name set with ST command to end of USB Device Name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed problem with reading bit 7 of any I/O port (issue #82) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.5 07/06/18 - Enhanced ST command by writing to both Device name and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    serial number USB fields.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.5.6 07/11/18 - Added RC Servo power control functionality on pin RA3        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    Includes new QR and SR commands. See issue #103 for more   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.0 09/08/18 - Added direct servo power toggle command SR                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Set servo default timeout to 15 minutes, pen up at boot,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo power off at boot                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Changed default pen up/down positions                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.1 01/07/19 - Added "QG" general query command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.2 01/11/19 - Added "HM" Home Motor command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.3 05/24/19 - Changed default RC servo power down time from 15min to 60s   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.4 11/05/19 - Fixed bug #124 (Math error in SM command for edge case       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    input parameters)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.5 11/29/19 - Changed SR command behavior so it only enables servo power   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    after SP command, not also after stepper movement          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.6.6 05/26/20 - Fixed a bug with the PC/PG command which caused some changes D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    not to take effect for up to 64K more milliseconds.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //       11/10/20 - Fixed bug where S2 command wouldn't turn power on to RB1     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    servo output if it had been turned off.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.7.0 11/19/20 - No longer allow Rate to go negative (like from LM command)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    inside ISR                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Removed AM command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional parameter <Clear> to all stepper motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    commands to allow explicit zeroing of accumulators         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Renamed internal parameters for some commands (LT/LM) for    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    clarity. Also queue structure members got renamed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added optional absolute position values to HM command        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Added LT command, based on LM command                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in LM command based on Kinematics analysis      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Updated math in ISR (for LM/LT) based on Kinematics analysis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fixed bug where negative accelerations could cause delays before  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    last step.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  EM command now always clears accumulators                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Reduced effective pulse width for step pulses down to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    between 1.6 and 2.3 uS.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.0 04/22/21 - Issue 151: Added QE command to return state of motor enables D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    and their microstep resolution                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 152: Move EM command to motion queue                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Issue 153: Add optional parameter to ES command to disable   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    motors.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Fix bug in ES command that didn't send return packet         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.1 07/26/22 - Issue 180: Add CU,3,1 to turn on RED LED reporting of FIFO empty D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.8.2 05/05/23 - Add CU,50 to control automatic motor enable                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2.9.0 11/2/22  - Issue 185 : Get LT and LM commands to allow accelerations    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                    through zero (i.e. reverse direction mid-move)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Massive refactor of motion ISR to improve performance        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Proper formatting/indenting of entire EBB codebase for readability D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  Turned all warnings/messages on in compiler, fixed all       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include <math.h>                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ubw.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "delays.h"                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_demo.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Define this to enable the use of the C step (high) ISR. Undefine for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the assembly language version                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define USE_C_ISR                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the value that gets multiplied by Steps/Duration to compute           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the StepAdd values.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define OVERFLOW_MUL            (0x8000 / HIGH_ISR_TICKS_PER_MS)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define MAX_RC_DURATION         11890                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The number of individual addressable unsigned bytes that are available        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // in the SL and QL commands.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define SL_STORAGE_SIZE         32u                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           typedef enum                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_OFF = 0,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_ON,                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             SOLENOID_PWM                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           } SolenoidStateType;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the FIFO that stores the motion commands. It spans multiple RAM       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // banks from 0x600 through 0xDFF (length 0x800 or 2048d), and must only be      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // accessed via pointer.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that no matter what COMMAND_FIFO_MAX_LENGTH is set to, we reserve the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // entire 0x800 bytes of space in the FIFO_scn here. That prevents the linker    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // from putting variables after this section.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata FIFO_scn                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 CommandFIFO[COMMAND_FIFO_SIZE_BYTES];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These global variables are deliberately put into "Bank" 0 of RAM (the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access/near bank).                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the small global variables that the 25KHz ISR has to access.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // With them all being in bank 0, no bank switch instructions are needed         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to access them.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata access ISR_access                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //static UINT8 TookStep;       // LSb set if a step was taken                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AllDone;        // LSb set if this command is complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 isr_i;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 AxisActive[NUMBER_OF_STEPPERS];     // LSb set if an axis is not done stepping D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near DriverConfigurationType DriverConfiguration;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable RC Servo output for pen up/down                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 gUseRCPenServo;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable red LED lit when FIFO is empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gRedLEDEmptyFIFO;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set when user presses the PRG or alternate PRG button                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 ButtonPushed;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable use of alternate PRG (pause) button                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static volatile near UINT8 UseAltPause;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bitfield used to keep track of what test modes are enabled/disabled           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 TestMode;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Used as temporary variable inside ISR for servo channel index                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 ISR_Channel;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporary holder for PortB value in ISR so we don't have to sample more than once D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 PortBTemp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchMask;      // 8-bit PortB mask                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTarget;    // 8-bit PortB target values          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gLimitSwitchTriggered; // Non-zero if limit switch trigger has fired D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Global variables for managing FIFO depth/indexes                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOLength;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOIn;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gFIFOOut;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Holds a local copy of the Command from CommandFIFO[gFIFOOut].Command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT8 gFIFOCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Current length of FIFO                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile near UINT8 gCurrentFIFOLength;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Temporarily store FSR0 during command copy assembly (note these can be in any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // bank)                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0L_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //UINT8 near isr_FSR0H_temp;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer in RAM to the first byte of the next unplayed FIFO command            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_high;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 near FIFO_out_ptr_low;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These values hold the global step position of each axis                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           volatile static near INT32 globalStepCounter2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Pointer to a MoveCommandType element of the FIFO array                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near MoveCommandType * FIFOPtr = (near MoveCommandType *)&CommandFIFO[0];        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Accumulator for each axis                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           near u32b4_t acc_union[2];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // ISR globals used in test modes for keeping track of each move                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRTickCountForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near UINT32 gISRStepCountForThisCommand;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static near INT32  gISRPositionForThisCommand;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bank 1 is the "ISR Bank". By placing all variables that the ISR needs         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // access to either in the access bank (above) or in Bank 1, then the bank       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // select register can be kept pointing to Bank 1 and no bank switch instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are needed in the iSR.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata ISR_globals = 0x180                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Variables used during debug printing within ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static u32b4_t xx;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8 nib;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The move command containing the currently executing move command in the ISR   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           MoveCommandType CurrentCommand;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           unsigned int DemoModeActive;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static SolenoidStateType SolenoidState;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned int SolenoidDelay;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // track the latest state of the pen                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static PenStateType PenState;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static unsigned long NodeCount;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           unsigned char QC_ms_timer;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT StoredEngraverPower;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set TRUE to enable solenoid output for pen up/down                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gUseSolenoid;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When FALSE, we skip parameter checks for motor move commands so they can run faster D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           BOOL gLimitChecks;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // LSb set to enable all strings to use '\n' line endings, and use standardized  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // command reply format                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           UINT8 gStandardizedCommandFormat;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals replace the local (stack) variables used during processing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and parsing of stepper motor commands. They also take the place of parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for the two low-level (process_low_level and process_simple) move functions.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Since we know that we can never be working on more than one of these commands D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // at the same time, and since we have enough global RAM space, it makes some    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // sense to make these static globals. This reduces the change of a stack        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // overflow.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT32  gUInt32_3;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_2;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_3;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_4;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_5;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_6;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_7;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static INT32   gInt32_8;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These next set of defines create local, meaningful names. They reference the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // above globals, but in ways that make sense for the routine they are used in.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For HM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_StepRate    gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos1        gInt32_3                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gHM_Pos2        gInt32_7                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For XM                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_ASteps      gInt32_3                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gXM_BSteps      gInt32_7                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For simple_move                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gDurationMS     gUInt32_1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gIntervals      gUInt32_2                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gClearAccs      gUInt32_3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate1          gInt32_1                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps1         gInt32_2                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel1         gInt32_3                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk1          gInt32_4                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gRate2          gInt32_5                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gSteps2         gInt32_6                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gAccel2         gInt32_7                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #define gJerk2          gInt32_8                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // These globals are now set to be put anywhere the linker can find space for them D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static MoveCommandType gMoveTemp;     // Commands fill this then copy to FIFO    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Storage for the 32 bytes of "SL" command values                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static UINT8   gSL_Storage[32];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Local function definitions                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_StepCounters(void);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_low_level_move(BOOL TimedMove,  ExtractReturnType ClearRet); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_motor_move_fp(void);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void process_simple_rate_move(void);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           extern void FIFO_COPY(void);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // High ISR                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #pragma interrupt high_ISR                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001050   cfda     MOVFF     0xfda,0xfe4    void high_ISR(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001052   ffe4                                                                                                               
001054   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
001056   ffe4                                                                                                               
001058   cfea     MOVFF     0xfea,0xfe4                                                                                     
00105a   ffe4                                                                                                               
00105c   cff3     MOVFF     0xff3,0xfe4                                                                                     
00105e   ffe4                                                                                                               
001060   cff4     MOVFF     0xff4,0xfe4                                                                                     
001062   ffe4                                                                                                               
001064   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 25KHz ISR fire. Note: For speed, we don't check that PIR1bits.TMR1IF is set D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // here. We assume it is, as it's the only interrupt that should be triggering D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // calls to high_ISR()                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the interrupt                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001066   909e     BCF       0x9e,0x0,0x0     PIR1bits.TMR1IF = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001068   0efe     MOVLW     0xfe             TMR1H = TIMER1_H_RELOAD;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106a   6ecf     MOVWF     0xcf,0x0                                                                                        
00106c   0e36     MOVLW     0x36             TMR1L = TIMER1_L_RELOAD;  // Reload for 25KHz ISR fire                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00106e   6ece     MOVWF     0xce,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001070   b209     BTFSC     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001072   828c     BSF       0x8c,0x1,0x0       LATDbits.LATD1 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001074   8000     BSF       0x0,0x0,0x0      bitsetzero(AllDone);      // Start every ISR assuming we are done with the current command - set bit 0 of AllDone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Process a motor move command of any type                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This is the main chunk of code for EBB : the step generation code in the 25KHz ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The first section determines if we need to take any steps this time through the ISR. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It is broken into sections, one for each type of stepper motion command because  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // they each have different amounts of processing needed to determine if a step is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // necessary or not.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then the second section is common to all stepper motion commands and handles D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the actual step pulse generation as well as direction bit control.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Active bits will be set if there is still motion left to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // generate on an axis. They are set when the command is first loaded          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into CurrentCommand and then cleared once all steps have been taken         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (either in time or in step count). They are checked inside each             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // command's step processing (below) so that we only spend time working        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // on axis that have activity left                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Important assumptions:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // There is only one bit set in the CurrentCommand.Command byte                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // A very complete mathematical analysis of the way the various stepper        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands are expected to work can be found here;                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // https://evilmadscience.s3.amazonaws.com/dl/ad/public/AxiDrawKinematics.pdf  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here we handle the 'simple' (non accelerating) stepper commands.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These three command (SM, XM and HM) do not use                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // acceleration and so that code is left out to save time. This is also        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the most common command used by the various PC softwares so we check        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // for it first.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001076   0e05     MOVLW     0x5              if (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001078   0101     MOVLB     0x1                                                                                             
00107a   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00107c   e133     BNZ       0x10e4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Direction bits need to be output before step bits. Since we know step bis D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // are clear at this point, it's safe to always output direction bits here   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // before we start messing with the step bits                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00107e   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001080   e104     BNZ       0x108a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001082   0e5f     MOVLW     0x5f                 LATD = (PORTD & ~(DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001084   1483     ANDWF     0x83,0x0,0x0                                                                                    
001086   1186     IORWF     0x86,0x0,0x1                                                                                    
001088   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108a   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108c   d016     BRA       0x10ba                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00108e   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001090   d002     BRA       0x1096                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001092   ecd6     CALL      0x37ac,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001094   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Add the rate to the accumulator and see if the MSb got set. If so       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // then take a step and record that the step was taken                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001096   ec55     CALL      0x3aaa,0x0           acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001098   f01d                                                                                                               
003aaa   518c     MOVF      0x8c,0x0,0x1                                                                                    
003aac   261e     ADDWF     0x1e,0x1,0x0                                                                                    
003aae   518d     MOVF      0x8d,0x0,0x1                                                                                    
003ab0   221f     ADDWFC    0x1f,0x1,0x0                                                                                    
003ab2   518e     MOVF      0x8e,0x0,0x1                                                                                    
003ab4   2220     ADDWFC    0x20,0x1,0x0                                                                                    
003ab6   518f     MOVF      0x8f,0x0,0x1                                                                                    
003ab8   2221     ADDWFC    0x21,0x1,0x0                                                                                    
003aba   0012     RETURN    0x0                                                                                             
00109a   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00109c   d00e     BRA       0x10ba                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00109e   9e21     BCF       0x21,0x7,0x0           acc_union[0].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a0   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a2   ecdc     CALL      0x37b8,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a4   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a6   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010a8   d004     BRA       0x10b2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010aa   2a2a     INCF      0x2a,0x1,0x0             gISRStepCountForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ac   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
0010ae   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
0010b0   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // For these stepper motion commands zero steps left means               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // the axis is no longer active                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b2   ec83     CALL      0x3706,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b4   f01b                                                                                                               
0010b6   e101     BNZ       0x10ba                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010b8   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2     SM XM HM ////                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ba   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010bc   d00b     BRA       0x10d4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010be   ec5e     CALL      0x3abc,0x0           acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c0   f01d                                                                                                               
003abc   5190     MOVF      0x90,0x0,0x1                                                                                    
003abe   2622     ADDWF     0x22,0x1,0x0                                                                                    
003ac0   5191     MOVF      0x91,0x0,0x1                                                                                    
003ac2   2223     ADDWFC    0x23,0x1,0x0                                                                                    
003ac4   5192     MOVF      0x92,0x0,0x1                                                                                    
003ac6   2224     ADDWFC    0x24,0x1,0x0                                                                                    
003ac8   5193     MOVF      0x93,0x0,0x1                                                                                    
003aca   2225     ADDWFC    0x25,0x1,0x0                                                                                    
003acc   0012     RETURN    0x0                                                                                             
0010c2   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c4   d007     BRA       0x10d4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c6   9e25     BCF       0x25,0x7,0x0           acc_union[1].bytes.b4 &= 0x7F;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010c8   ec28     CALL      0x3850,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003850   8986                                                                                                               
0010ca   f01c     WORD2     0x1c                   CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003852   0798     DECF      0x98,0x1,0x1                                                                                    
003854   0e00     MOVLW     0x0                                                                                             
003856   5b99     SUBWFB    0x99,0x1,0x1                                                                                    
003858   5b9a     SUBWFB    0x9a,0x1,0x1                                                                                    
00385a   5b9b     SUBWFB    0x9b,0x1,0x1                                                                                    
00385c   0012     RETURN    0x0                                                                                             
0010cc   ecf1     CALL      0x37e2,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ce   f01b                                                                                                               
0010d0   e101     BNZ       0x10d4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d2   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d4   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010d6   1402     ANDWF     0x2,0x0,0x0                                                                                     
0010d8   e145     BNZ       0x1164                                                                                          
0010da   0e01     MOVLW     0x1                                                                                             
0010dc   1403     ANDWF     0x3,0x0,0x0                                                                                     
0010de   e101     BNZ       0x10e2                                                                                          
0010e0   d078     BRA       0x11d2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e2   d040     BRA       0x1164             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Low level Move (LM) : This one uses acceleration, so take that              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // into account.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e4   0e06     MOVLW     0x6              if (CurrentCommand.Command == COMMAND_LM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010e6   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0010e8   e13f     BNZ       0x1168                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 1   LM ////                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Only do this if there are steps left to take                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ea   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ec   d01f     BRA       0x112c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010ee   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f0   d002     BRA       0x10f6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f2   ecd6     CALL      0x37ac,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f4   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f6   ec4c     CALL      0x3498,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010f8   f01a                                                                                                               
003498   519c     MOVF      0x9c,0x0,0x1                                                                                    
00349a   27a4     ADDWF     0xa4,0x1,0x1                                                                                    
00349c   519d     MOVF      0x9d,0x0,0x1                                                                                    
00349e   23a5     ADDWFC    0xa5,0x1,0x1                                                                                    
0034a0   519e     MOVF      0x9e,0x0,0x1                                                                                    
0034a2   23a6     ADDWFC    0xa6,0x1,0x1                                                                                    
0034a4   519f     MOVF      0x9f,0x0,0x1                                                                                    
0034a6   23a7     ADDWFC    0xa7,0x1,0x1                                                                                    
0034a8   51a4     MOVF      0xa4,0x0,0x1         CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034aa   278c     ADDWF     0x8c,0x1,0x1                                                                                    
0034ac   51a5     MOVF      0xa5,0x0,0x1                                                                                    
0034ae   238d     ADDWFC    0x8d,0x1,0x1                                                                                    
0034b0   51a6     MOVF      0xa6,0x0,0x1                                                                                    
0034b2   238e     ADDWFC    0x8e,0x1,0x1                                                                                    
0034b4   51a7     MOVF      0xa7,0x0,0x1                                                                                    
0034b6   238f     ADDWFC    0x8f,0x1,0x1                                                                                    
0034b8   ef55     GOTO      0x3aaa               acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034ba   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010fa   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010fc   d017     BRA       0x112c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0010fe   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001100   1421     ANDWF     0x21,0x0,0x0                                                                                    
001102   6e21     MOVWF     0x21,0x0                                                                                        
001104   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001106   ecdc     CALL      0x37b8,0x0             CurrentCommand.m.sm.Steps[0]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001108   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00110a   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00110c   d004     BRA       0x1116                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00110e   2a2a     INCF      0x2a,0x1,0x0             gISRStepCountForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001110   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
001112   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
001114   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001116   af8f     BTFSS     0x8f,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001118   d003     BRA       0x1120                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111a   8f86     BSF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111c   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00111e   d002     BRA       0x1124                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001120   9f86     BCF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001122   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001124   ec83     CALL      0x3706,0x0             if (CurrentCommand.m.sm.Steps[0] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001126   f01b                                                                                                               
001128   e101     BNZ       0x112c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00112a   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //// MOTOR 2    LM ////                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00112c   a003     BTFSS     0x3,0x0,0x0        if (bittstzero(AxisActive[1]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00112e   d014     BRA       0x1158                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001130   ec5e     CALL      0x34bc,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001132   f01a                                                                                                               
0034bc   51a0     MOVF      0xa0,0x0,0x1                                                                                    
0034be   27a8     ADDWF     0xa8,0x1,0x1                                                                                    
0034c0   51a1     MOVF      0xa1,0x0,0x1                                                                                    
0034c2   23a9     ADDWFC    0xa9,0x1,0x1                                                                                    
0034c4   51a2     MOVF      0xa2,0x0,0x1                                                                                    
0034c6   23aa     ADDWFC    0xaa,0x1,0x1                                                                                    
0034c8   51a3     MOVF      0xa3,0x0,0x1                                                                                    
0034ca   23ab     ADDWFC    0xab,0x1,0x1                                                                                    
0034cc   51a8     MOVF      0xa8,0x0,0x1         CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034ce   2790     ADDWF     0x90,0x1,0x1                                                                                    
0034d0   51a9     MOVF      0xa9,0x0,0x1                                                                                    
0034d2   2391     ADDWFC    0x91,0x1,0x1                                                                                    
0034d4   51aa     MOVF      0xaa,0x0,0x1                                                                                    
0034d6   2392     ADDWFC    0x92,0x1,0x1                                                                                    
0034d8   51ab     MOVF      0xab,0x0,0x1                                                                                    
0034da   2393     ADDWFC    0x93,0x1,0x1                                                                                    
0034dc   ef5e     GOTO      0x3abc               acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0034de   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001134   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001136   d010     BRA       0x1158                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001138   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00113a   1425     ANDWF     0x25,0x0,0x0                                                                                    
00113c   6e25     MOVWF     0x25,0x0                                                                                        
00113e   ec28     CALL      0x3850,0x0             CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001140   f01c                                      CurrentCommand.m.sm.Steps[1]--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001142   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001144   d003     BRA       0x114c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001146   8b86     BSF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001148   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114a   d002     BRA       0x1150                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114c   9b86     BCF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00114e   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001150   ecf1     CALL      0x37e2,0x0             if (CurrentCommand.m.sm.Steps[1] == 0u)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001152   f01b                                                                                                               
001154   e101     BNZ       0x1158                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001156   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We want to allow for a one-ISR tick move, which requires us to check      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if the move has been completed here (to load the next command      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // this tick rather than waiting for the next tick). This primarily gives    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // us simpler math when figuring out how long moves will take.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001158   0e01     MOVLW     0x1                if (bittstzero(AxisActive[0]) || bittstzero(AxisActive[1]))                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00115a   1402     ANDWF     0x2,0x0,0x0                                                                                     
00115c   e103     BNZ       0x1164                                                                                          
00115e   0e01     MOVLW     0x1                                                                                             
001160   1403     ANDWF     0x3,0x0,0x0                                                                                     
001162   e037     BZ        0x11d2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001164   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001166   d035     BRA       0x11d2             goto OutputBits;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The Low level Timed (LT) command is pretty special. Instead of running      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until all step counts are zero, it runs for a certain amount of 25Khz       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ISR ticks (stored in .Steps[0]). Both axis continue to produce steps        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // until the time is used up. This affects how AxisActive is computed.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Only AxisActive[0] is used for this command, not AxisActive[1].             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001168   0e07     MOVLW     0x7              if (CurrentCommand.Command == COMMAND_LT_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116a   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00116c   e132     BNZ       0x11d2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Has time run out for this command yet?                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00116e   a002     BTFSS     0x2,0x0,0x0        if (bittstzero(AxisActive[0]))                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001170   d030     BRA       0x11d2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // A simple optimization: we only have one 'count' for LT, to know         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // when we're done, so we can directly clear AllDone here if we are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // not yet done with this move.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001172   9000     BCF       0x0,0x0,0x0          bitclrzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Nope not done. So count this ISR tick, and then see if we need to take  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // a step                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001174   ecdc     CALL      0x37b8,0x0           CurrentCommand.m.sm.Steps[0]--;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001176   f01b                                                                                                               
0037b8   0794     DECF      0x94,0x1,0x1                                                                                    
0037ba   0e00     MOVLW     0x0                                                                                             
0037bc   5b95     SUBWFB    0x95,0x1,0x1                                                                                    
0037be   5b96     SUBWFB    0x96,0x1,0x1                                                                                    
0037c0   5b97     SUBWFB    0x97,0x1,0x1                                                                                    
0037c2   0012     RETURN    0x0                                                                                             
001178   ec83     CALL      0x3706,0x0           if (CurrentCommand.m.sm.Steps[0] == 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117a   f01b                                                                                                               
00117c   e101     BNZ       0x1180                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00117e   9002     BCF       0x2,0x0,0x0            bitclrzero(AxisActive[0]);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 1   LT ////                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001180   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001182   d002     BRA       0x1188                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001184   ecd6     CALL      0x37ac,0x0             gISRTickCountForThisCommand++;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001186   f01b                                                                                                               
0037ac   2a26     INCF      0x26,0x1,0x0                                                                                    
0037ae   0e00     MOVLW     0x0                                                                                             
0037b0   2227     ADDWFC    0x27,0x1,0x0                                                                                    
0037b2   2228     ADDWFC    0x28,0x1,0x0                                                                                    
0037b4   2229     ADDWFC    0x29,0x1,0x0                                                                                    
0037b6   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001188   ec4c     CALL      0x3498,0x0           CurrentCommand.m.sm.Accel[0] += CurrentCommand.m.sm.Jerk[0];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00118a   f01a                                                                                                               
                                                 CurrentCommand.m.sm.Rate[0].value += CurrentCommand.m.sm.Accel[0];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[0].value += CurrentCommand.m.sm.Rate[0].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00118c   ae21     BTFSS     0x21,0x7,0x0         if (acc_union[0].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00118e   d012     BRA       0x11b4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001190   0e7f     MOVLW     0x7f                   acc_union[0].bytes.b4 = acc_union[0].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001192   1421     ANDWF     0x21,0x0,0x0                                                                                    
001194   6e21     MOVWF     0x21,0x0                                                                                        
001196   8d86     BSF       0x86,0x6,0x1           CurrentCommand.m.sm.DirBits |= STEP1_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001198   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00119a   d005     BRA       0x11a6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00119c   2a2a     INCF      0x2a,0x1,0x0             gISRStepCountForThisCommand++;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00119e   0e00     MOVLW     0x0                                                                                             
0011a0   222b     ADDWFC    0x2b,0x1,0x0                                                                                    
0011a2   222c     ADDWFC    0x2c,0x1,0x0                                                                                    
0011a4   222d     ADDWFC    0x2d,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a6   af8f     BTFSS     0x8f,0x7,0x1           if (CurrentCommand.m.sm.Rate[0].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011a8   d003     BRA       0x11b0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011aa   8f86     BSF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits |= DIR1_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ac   8e8c     BSF       0x8c,0x7,0x0             Dir1IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ae   d002     BRA       0x11b4                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b0   9f86     BCF       0x86,0x7,0x1             CurrentCommand.m.sm.DirBits &= ~DIR1_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b2   9e8c     BCF       0x8c,0x7,0x0             Dir1IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //// MOTOR 2    LT  ////                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b4   ec5e     CALL      0x34bc,0x0           CurrentCommand.m.sm.Accel[1] += CurrentCommand.m.sm.Jerk[1];               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b6   f01a                                                                                                               
                                                 CurrentCommand.m.sm.Rate[1].value += CurrentCommand.m.sm.Accel[1];         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 acc_union[1].value += CurrentCommand.m.sm.Rate[1].value;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011b8   ae25     BTFSS     0x25,0x7,0x0         if (acc_union[1].bytes.b4 & 0x80)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ba   d00b     BRA       0x11d2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011bc   0e7f     MOVLW     0x7f                   acc_union[1].bytes.b4 = acc_union[1].bytes.b4 & 0x7F;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011be   1425     ANDWF     0x25,0x0,0x0                                                                                    
0011c0   6e25     MOVWF     0x25,0x0                                                                                        
0011c2   8986     BSF       0x86,0x4,0x1           CurrentCommand.m.sm.DirBits |= STEP2_BIT;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the direction bit based on the sign of rate                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c4   af93     BTFSS     0x93,0x7,0x1           if (CurrentCommand.m.sm.Rate[1].bytes.b4 & 0x80)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c6   d003     BRA       0x11ce                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011c8   8b86     BSF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits |= DIR2_BIT;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ca   8a8c     BSF       0x8c,0x5,0x0             Dir2IO = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011cc   d002     BRA       0x11d2                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ce   9b86     BCF       0x86,0x5,0x1             CurrentCommand.m.sm.DirBits &= ~DIR2_BIT;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d0   9a8c     BCF       0x8c,0x5,0x0             Dir2IO = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This next block of code (OutputBits:) is common to all of the above         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // stepper motion commands. Each of them either jumps here when they           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // are done or falls through in the case of the last command above.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // This block sets/clears step and direction GPIO bits if the command that just D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // ran needs to output something new. Also takes care of recording this        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // step properly.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // NOTE: Even though it seems like a bad idea to have non-stepper              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // commands execute this block before they are caught below, doing it this     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // way saves a few instruction cycles for the commands where speed matters     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // most - the stepper commands.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           OutputBits:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check to see if either stepper needs to actually output a step pulse    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d2   0e50     MOVLW     0x50             if ((CurrentCommand.m.sm.DirBits & (STEP1_BIT | STEP2_BIT)) != 0u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d4   1586     ANDWF     0x86,0x0,0x1                                                                                    
0011d6   e042     BZ        0x125c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011d8   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011da   e105     BNZ       0x11e6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The Step and Direction bits are all output on the top four bits         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of PortD. So we can be very efficient here and simply output those      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // four bits directly to port D.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011dc   0e0f     MOVLW     0xf                  LATD = (PORTD & ~(STEP1_BIT | STEP2_BIT | DIR1_BIT | DIR2_BIT)) | CurrentCommand.m.sm.DirBits; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011de   1483     ANDWF     0x83,0x0,0x0                                                                                    
0011e0   1186     IORWF     0x86,0x0,0x1                                                                                    
0011e2   6e8c     MOVWF     0x8c,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e4   d00e     BRA       0x1202             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the DIR Bits                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e6   af86     BTFSS     0x86,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011e8   d002     BRA       0x11ee                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ea   848b     BSF       0x8b,0x2,0x0           Dir1AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ec   d001     BRA       0x11f0               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011ee   948b     BCF       0x8b,0x2,0x0           Dir1AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f0   ab86     BTFSS     0x86,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f2   d002     BRA       0x11f8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f4   8489     BSF       0x89,0x2,0x0           Dir2AltIO = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f6   d001     BRA       0x11fa               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011f8   9489     BCF       0x89,0x2,0x0           Dir2AltIO = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set the STEP bits                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011fa   bd86     BTFSC     0x86,0x6,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011fc   8c8b     BSF       0x8b,0x6,0x0           Step1AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0011fe   b986     BTFSC     0x86,0x4,0x1         if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001200   8a89     BSF       0x89,0x5,0x0           Step2AltIO = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This next section not only counts the step(s) we are taking, but          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // also acts as a delay to keep the step bit set for a little while.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001202   ad86     BTFSS     0x86,0x6,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP1_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001204   d019     BRA       0x1238                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001206   af86     BTFSS     0x86,0x7,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR1_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001208   d00c     BRA       0x1222                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120a   0616     DECF      0x16,0x1,0x0           globalStepCounter1--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00120c   0e00     MOVLW     0x0                                                                                             
00120e   5a17     SUBWFB    0x17,0x1,0x0                                                                                    
001210   5a18     SUBWFB    0x18,0x1,0x0                                                                                    
001212   5a19     SUBWFB    0x19,0x1,0x0                                                                                    
001214   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001216   d010     BRA       0x1238                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001218   062e     DECF      0x2e,0x1,0x0             gISRPositionForThisCommand--;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00121a   5a2f     SUBWFB    0x2f,0x1,0x0                                                                                    
00121c   5a30     SUBWFB    0x30,0x1,0x0                                                                                    
00121e   5a31     SUBWFB    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001220   d00b     BRA       0x1238               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001222   2a16     INCF      0x16,0x1,0x0           globalStepCounter1++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001224   0e00     MOVLW     0x0                                                                                             
001226   2217     ADDWFC    0x17,0x1,0x0                                                                                    
001228   2218     ADDWFC    0x18,0x1,0x0                                                                                    
00122a   2219     ADDWFC    0x19,0x1,0x0                                                                                    
00122c   a409     BTFSS     0x9,0x2,0x0            if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00122e   d004     BRA       0x1238                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001230   2a2e     INCF      0x2e,0x1,0x0             gISRPositionForThisCommand++;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001232   222f     ADDWFC    0x2f,0x1,0x0                                                                                    
001234   2230     ADDWFC    0x30,0x1,0x0                                                                                    
001236   2231     ADDWFC    0x31,0x1,0x0                                                                                    
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001238   a986     BTFSS     0x86,0x4,0x1       if (bittst(CurrentCommand.m.sm.DirBits, STEP2_BIT_NUM))                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123a   d00d     BRA       0x1256                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123c   ab86     BTFSS     0x86,0x5,0x1         if (bittst(CurrentCommand.m.sm.DirBits, DIR2_BIT_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00123e   d006     BRA       0x124c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001240   061a     DECF      0x1a,0x1,0x0           globalStepCounter2--;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001242   0e00     MOVLW     0x0                                                                                             
001244   5a1b     SUBWFB    0x1b,0x1,0x0                                                                                    
001246   5a1c     SUBWFB    0x1c,0x1,0x0                                                                                    
001248   5a1d     SUBWFB    0x1d,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00124a   d005     BRA       0x1256               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00124c   2a1a     INCF      0x1a,0x1,0x0           globalStepCounter2++;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00124e   0e00     MOVLW     0x0                                                                                             
001250   221b     ADDWFC    0x1b,0x1,0x0                                                                                    
001252   221c     ADDWFC    0x1c,0x1,0x0                                                                                    
001254   221d     ADDWFC    0x1d,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the two step bits so they're empty for the next pass through ISR    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001256   0eaf     MOVLW     0xaf               CurrentCommand.m.sm.DirBits &= ~(STEP1_BIT | STEP2_BIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001258   1786     ANDWF     0x86,0x1,0x1                                                                                    
                                               // We need to skip over all the rest of command checks, since we already     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // handled the command that is currently executing.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00125a   d0e2     BRA       0x1420             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           NonStepperCommands:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now check for all the other (non-stepper based) motion FIFO commands        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00125c   0e02     MOVLW     0x2              if (CurrentCommand.Command == COMMAND_SERVO_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00125e   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001260   e158     BNZ       0x1312                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should change the state of the pen                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001262   a005     BTFSS     0x5,0x0,0x0        if (bittstzero(gUseRCPenServo))                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001264   d03a     BRA       0x12da                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Precompute the channel, since we use it all over the place              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001266   05af     DECF      0xaf,0x0,0x1         ISR_Channel = CurrentCommand.m.sm.ServoChannel - 1;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001268   6e0a     MOVWF     0xa,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // This code below is the meat of the RCServo2_Move() function             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We have to manually write it in here rather than calling                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // the function because a real function inside the ISR                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // causes the compiler to generate enormous amounts of setup/tear down     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // code and things run way too slowly.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If the user is trying to turn off this channel's RC servo output        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00126a   51ad     MOVF      0xad,0x0,0x1         if (0u == CurrentCommand.m.sm.ServoPosition)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00126c   11ae     IORWF     0xae,0x0,0x1                                                                                    
00126e   e11a     BNZ       0x12a4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Turn off the PPS routing to the pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001270   ec7c     CALL      0x36f8,0x0             *(gRC2RPORPtr + gRC2RPn[ISR_Channel]) = 0;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001272   f01b                                                                                                               
001274   50ef     MOVF      0xef,0x0,0x0                                                                                    
001276   0100     MOVLB     0x0                                                                                             
001278   6aea     CLRF      0xea,0x0                                                                                        
00127a   2580     ADDWF     0x80,0x0,0x1                                                                                    
00127c   6ee9     MOVWF     0xe9,0x0                                                                                        
00127e   5181     MOVF      0x81,0x0,0x1                                                                                    
001280   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001282   6aef     CLRF      0xef,0x0                                                                                        
                                                   // Clear everything else out for this channel                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001284   ec9e     CALL      0x3b3c,0x0             gRC2Rate[ISR_Channel] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001286   f01d                                                                                                               
001288   6aee     CLRF      0xee,0x0                                                                                        
00128a   6aed     CLRF      0xed,0x0                                                                                        
003b3c   dca0     RCALL     0x347e                                                                                          
003b3e   0e75     MOVLW     0x75                                                                                            
003b40   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003b42   0e00     MOVLW     0x0                                                                                             
003b44   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003b46   0012     RETURN    0x0                                                                                             
00128c   eca4     CALL      0x3b48,0x0             gRC2Target[ISR_Channel] = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00128e   f01d                                                                                                               
001290   6aee     CLRF      0xee,0x0                                                                                        
001292   6aed     CLRF      0xed,0x0                                                                                        
003b48   dc9a     RCALL     0x347e                                                                                          
003b4a   0e6d     MOVLW     0x6d                                                                                            
003b4c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003b4e   0e00     MOVLW     0x0                                                                                             
003b50   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003b52   0012     RETURN    0x0                                                                                             
001294   ec7c     CALL      0x36f8,0x0             gRC2RPn[ISR_Channel] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001296   f01b                                                                                                               
001298   6aef     CLRF      0xef,0x0                                                                                        
00129a   ecc4     CALL      0x3b88,0x0             gRC2Value[ISR_Channel] = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00129c   f01d                                                                                                               
00129e   6aee     CLRF      0xee,0x0                                                                                        
0012a0   6aed     CLRF      0xed,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012a2   d01b     BRA       0x12da               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Otherwise, set all of the values that start this RC servo moving      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012a4   ec9e     CALL      0x3b3c,0x0             gRC2Rate[ISR_Channel] = CurrentCommand.m.sm.ServoRate;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012a6   f01d                                                                                                               
0012a8   c1b0     MOVFF     0x1b0,0xfee                                                                                     
0012aa   ffee                                                                                                               
0012ac   c1b1     MOVFF     0x1b1,0xfed                                                                                     
0012ae   ffed                                                                                                               
0012b0   eca4     CALL      0x3b48,0x0             gRC2Target[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012b2   f01d                                                                                                               
0012b4   c1ad     MOVFF     0x1ad,0xfee                                                                                     
0012b6   ffee                                                                                                               
0012b8   c1ae     MOVFF     0x1ae,0xfed                                                                                     
0012ba   ffed                                                                                                               
0012bc   ec7c     CALL      0x36f8,0x0             gRC2RPn[ISR_Channel] = CurrentCommand.m.sm.ServoRPn;                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012be   f01b                                                                                                               
0012c0   c1ac     MOVFF     0x1ac,0xfef                                                                                     
0012c2   ffef                                                                                                               
0036f8   500a     MOVF      0xa,0x0,0x0                                                                                     
0036fa   6aea     CLRF      0xea,0x0                                                                                        
0036fc   0f69     ADDLW     0x69                                                                                            
0036fe   6ee9     MOVWF     0xe9,0x0                                                                                        
003700   0e00     MOVLW     0x0                                                                                             
003702   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003704   0012     RETURN    0x0                                                                                             
0012c4   ecc4     CALL      0x3b88,0x0             if (gRC2Value[ISR_Channel] == 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012c6   f01d                                                                                                               
0012c8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0012ca   10ed     IORWF     0xed,0x0,0x0                                                                                    
0012cc   e106     BNZ       0x12da                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012ce   ecc4     CALL      0x3b88,0x0               gRC2Value[ISR_Channel] = CurrentCommand.m.sm.ServoPosition;            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012d0   f01d                                                                                                               
0012d2   c1ad     MOVFF     0x1ad,0xfee                                                                                     
0012d4   ffee                                                                                                               
0012d6   c1ae     MOVFF     0x1ae,0xfed                                                                                     
0012d8   ffed                                                                                                               
00347e   500a     MOVF      0xa,0x0,0x0                                                                                     
003480   6ee9     MOVWF     0xe9,0x0                                                                                        
003482   6aea     CLRF      0xea,0x0                                                                                        
003484   90d8     BCF       0xd8,0x0,0x0                                                                                    
003486   36e9     RLCF      0xe9,0x1,0x0                                                                                    
003488   36ea     RLCF      0xea,0x1,0x0                                                                                    
00348a   0012     RETURN    0x0                                                                                             
003896   0e61     MOVLW     0x61                                                                                            
003898   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00389a   0e00     MOVLW     0x0                                                                                             
00389c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00389e   0012     RETURN    0x0                                                                                             
003b88   dc7a     RCALL     0x347e                                                                                          
003b8a   ef4b     GOTO      0x3896                                                                                          
003b8c   f01c                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If this servo is the pen servo (on g_servo2_RPn)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012da   0100     MOVLB     0x0                if (CurrentCommand.m.sm.ServoRPn == g_servo2_RPn)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012dc   518a     MOVF      0x8a,0x0,0x1                                                                                    
0012de   0101     MOVLB     0x1                                                                                             
0012e0   5dac     SUBWF     0xac,0x0,0x1                                                                                    
0012e2   e117     BNZ       0x1312                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Then set its new state based on the new position                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012e4   0100     MOVLB     0x0                  if (CurrentCommand.m.sm.ServoPosition == g_servo2_min)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012e6   5184     MOVF      0x84,0x0,0x1                                                                                    
0012e8   0101     MOVLB     0x1                                                                                             
0012ea   19ad     XORWF     0xad,0x0,0x1                                                                                    
0012ec   e10c     BNZ       0x1306                                                                                          
0012ee   0100     MOVLB     0x0                                                                                             
0012f0   5185     MOVF      0x85,0x0,0x1                                                                                    
0012f2   0101     MOVLB     0x1                                                                                             
0012f4   19ae     XORWF     0xae,0x0,0x1                                                                                    
0012f6   e107     BNZ       0x1306                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012f8   0e01     MOVLW     0x1                    PenState = PEN_UP;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012fa   6fb9     MOVWF     0xb9,0x1                                                                                        
0012fc   6bb6     CLRF      0xb6,0x1               SolenoidState = SOLENOID_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0012fe   51c1     MOVF      0xc1,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001300   e008     BZ        0x1312                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001302   988a     BCF       0x8a,0x4,0x0             PenUpDownIO = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001304   d006     BRA       0x1312               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001306   6bb9     CLRF      0xb9,0x1               PenState = PEN_DOWN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001308   0e01     MOVLW     0x1                    SolenoidState = SOLENOID_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00130a   6fb6     MOVWF     0xb6,0x1                                                                                        
00130c   51c1     MOVF      0xc1,0x0,0x1           if (gUseSolenoid)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00130e   e001     BZ        0x1312                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001310   888a     BSF       0x8a,0x4,0x0             PenUpDownIO = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00131e   0e02     MOVLW     0x2                (CurrentCommand.Command == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001320   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001322   e002     BZ        0x1328                                                                                          
001324   0e00     MOVLW     0x0                                                                                             
001326   d001     BRA       0x132a                                                                                          
001328   0e01     MOVLW     0x1                                                                                             
                                               |                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001312   0585     DECF      0x85,0x0,0x1       (CurrentCommand.Command == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001314   e002     BZ        0x131a                                                                                          
001316   0e00     MOVLW     0x0                                                                                             
001318   d001     BRA       0x131c                                                                                          
00131a   0e01     MOVLW     0x1                                                                                             
00131c   6e52     MOVWF     0x52,0x0                                                                                        
00132a   1052     IORWF     0x52,0x0,0x0     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00132c   e00d     BZ        0x1348                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: Intentional fall-through to COMMAND_DELAY here                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Because the only two commands that ever use DelayCounter are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // COMMAND_DELAY and COMMAND_SERVO_MOVE. So we handle the servo stuff        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // above, and then let it fall through to the delay code below.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Handle a delay                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00132e   ecf6     CALL      0x37ec,0x0         if (CurrentCommand.m.sm.DelayCounter)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001330   f01b                                                                                                               
001332   e076     BZ        0x1420                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001334   0787     DECF      0x87,0x1,0x1         CurrentCommand.m.sm.DelayCounter--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001336   0e00     MOVLW     0x0                                                                                             
001338   5b88     SUBWFB    0x88,0x1,0x1                                                                                    
00133a   5b89     SUBWFB    0x89,0x1,0x1                                                                                    
00133c   5b8a     SUBWFB    0x8a,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00133e   ecf6     CALL      0x37ec,0x0           if (CurrentCommand.m.sm.DelayCounter)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001340   f01b                                                                                                               
001342   e06e     BZ        0x1420                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001344   9000     BCF       0x0,0x0,0x0            bitclrzero(AllDone);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001346   d06c     BRA       0x1420             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001348   0e03     MOVLW     0x3              if (CurrentCommand.Command == COMMAND_SE)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00134a   5d85     SUBWF     0x85,0x0,0x1                                                                                    
00134c   e129     BNZ       0x13a0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check to see if we should start or stop the engraver                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State of the SE command                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00134e   518b     MOVF      0x8b,0x0,0x1       if (CurrentCommand.m.sm.SEState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001350   e022     BZ        0x1396                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001352   c1b2     MOVFF     0x1b2,0x52           CCPR1L = CurrentCommand.m.sm.SEPower >> 2;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001354   f052                                                                                                               
001356   c1b3     MOVFF     0x1b3,0x53                                                                                      
001358   f053                                                                                                               
00135a   90d8     BCF       0xd8,0x0,0x0                                                                                    
00135c   3253     RRCF      0x53,0x1,0x0                                                                                    
00135e   3252     RRCF      0x52,0x1,0x0                                                                                    
001360   90d8     BCF       0xd8,0x0,0x0                                                                                    
001362   3253     RRCF      0x53,0x1,0x0                                                                                    
001364   3252     RRCF      0x52,0x1,0x0                                                                                    
001366   5052     MOVF      0x52,0x0,0x0                                                                                    
001368   6ebb     MOVWF     0xbb,0x0                                                                                        
00136a   c1bf     MOVFF     0x1bf,0x54           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00136c   f054                                                                                                               
00136e   c1c0     MOVFF     0x1c0,0x55                                                                                      
001370   f055                                                                                                               
001372   0e04     MOVLW     0x4                                                                                             
001374   90d8     BCF       0xd8,0x0,0x0                                                                                    
001376   3654     RLCF      0x54,0x1,0x0                                                                                    
001378   3655     RLCF      0x55,0x1,0x0                                                                                    
00137a   04e8     DECF      0xe8,0x0,0x0                                                                                    
00137c   e1fb     BNZ       0x1374                                                                                          
00137e   0e30     MOVLW     0x30                                                                                            
001380   1654     ANDWF     0x54,0x1,0x0                                                                                    
001382   0e00     MOVLW     0x0                                                                                             
001384   1655     ANDWF     0x55,0x1,0x0                                                                                    
001386   0ecf     MOVLW     0xcf                                                                                            
001388   14ba     ANDWF     0xba,0x0,0x0                                                                                    
00138a   1054     IORWF     0x54,0x0,0x0                                                                                    
00138c   6e52     MOVWF     0x52,0x0                                                                                        
00138e   c055     MOVFF     0x55,0x53                                                                                       
001390   f053                                                                                                               
001392   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001394   d003     BRA       0x139c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001396   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001398   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00139a   14ba     ANDWF     0xba,0x0,0x0                                                                                    
00139c   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00139e   d03f     BRA       0x141e             goto CheckForNextCommand;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a0   0e04     MOVLW     0x4              if (CurrentCommand.Command == COMMAND_EM)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a2   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0013a4   e13d     BNZ       0x1420                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As of version 2.8.0, we now have the EM command transplanted here into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the motion queue. This is so that changes to motor enable or microstep    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution happen at predictable times rather than randomly.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We use CurrentCommand.m.sm.DirBits as "EA1" (the first parameter) and     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // CurrentCommand.m.sm.ServoRPn as "EA2" (the second parameter) since they're D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // both UINT8s.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a6   5186     MOVF      0x86,0x0,0x1       if (CurrentCommand.m.sm.DirBits > 0u)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013a8   0800     SUBLW     0x0                                                                                             
0013aa   e223     BC        0x13f2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ac   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ae   e102     BNZ       0x13b4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013b0   908d     BCF       0x8d,0x0,0x0           Enable1IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013b2   d001     BRA       0x13b6               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013b4   928c     BCF       0x8c,0x1,0x0           Enable1AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013b6   0586     DECF      0x86,0x0,0x1         if (CurrentCommand.m.sm.DirBits == 1u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013b8   e103     BNZ       0x13c0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ba   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013bc   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013be   8c89     BSF       0x89,0x6,0x0           MS3_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c0   0e02     MOVLW     0x2                  if (CurrentCommand.m.sm.DirBits == 2u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c2   5d86     SUBWF     0x86,0x0,0x1                                                                                    
0013c4   e103     BNZ       0x13cc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c6   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013c8   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ca   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013cc   0e03     MOVLW     0x3                  if (CurrentCommand.m.sm.DirBits == 3u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ce   5d86     SUBWF     0x86,0x0,0x1                                                                                    
0013d0   e103     BNZ       0x13d8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013d2   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013d4   828d     BSF       0x8d,0x1,0x0           MS2_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013d6   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013d8   0e04     MOVLW     0x4                  if (CurrentCommand.m.sm.DirBits == 4u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013da   5d86     SUBWF     0x86,0x0,0x1                                                                                    
0013dc   e103     BNZ       0x13e4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013de   848d     BSF       0x8d,0x2,0x0           MS1_IO = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013e0   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013e2   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013e4   0e05     MOVLW     0x5                  if (CurrentCommand.m.sm.DirBits == 5u)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013e6   5d86     SUBWF     0x86,0x0,0x1                                                                                    
0013e8   e109     BNZ       0x13fc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ea   948d     BCF       0x8d,0x2,0x0           MS1_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ec   928d     BCF       0x8d,0x1,0x0           MS2_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013ee   9c89     BCF       0x89,0x6,0x0           MS3_IO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f0   d005     BRA       0x13fc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f2   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f4   e102     BNZ       0x13fa                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f6   808d     BSF       0x8d,0x0,0x0           Enable1IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013f8   d001     BRA       0x13fc               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fa   828c     BSF       0x8c,0x1,0x0           Enable1AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fc   51ac     MOVF      0xac,0x0,0x1       if (CurrentCommand.m.sm.ServoRPn > 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0013fe   0800     SUBLW     0x0                                                                                             
001400   e206     BC        0x140e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001402   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001404   e102     BNZ       0x140a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001406   928b     BCF       0x8b,0x1,0x0           Enable2IO = ENABLE_MOTOR;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001408   d007     BRA       0x1418               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140a   9289     BCF       0x89,0x1,0x0           Enable2AltIO = ENABLE_MOTOR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140c   d005     BRA       0x1418             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00140e   5004     MOVF      0x4,0x0,0x0          if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001410   e102     BNZ       0x1416                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001412   828b     BSF       0x8b,0x1,0x0           Enable2IO = DISABLE_MOTOR;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001414   d001     BRA       0x1418               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001416   8289     BSF       0x89,0x1,0x0           Enable2AltIO = DISABLE_MOTOR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Always clear the step counts if motors are enabled/disabled or            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // resolution is changed.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // NOTE: This section is the same code as clear_StepCounters(), but since    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // we can't have any function calls in an ISR (or the ISR blows up in        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // space and speed) we have to copy the guts of that function here.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear out the global step counters                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001418   ecba     CALL      0x3574,0x0         globalStepCounter1 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141a   f01a                                                                                                               
003574   6a16     CLRF      0x16,0x0                                                                                        
003576   6a17     CLRF      0x17,0x0                                                                                        
003578   6a18     CLRF      0x18,0x0                                                                                        
00357a   6a19     CLRF      0x19,0x0                                                                                        
00357c   6a1a     CLRF      0x1a,0x0           globalStepCounter2 = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00357e   6a1b     CLRF      0x1b,0x0                                                                                        
003580   6a1c     CLRF      0x1c,0x0                                                                                        
003582   6a1d     CLRF      0x1d,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear both step accumulators as well                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003584   6a1e     CLRF      0x1e,0x0           acc_union[0].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003586   6a1f     CLRF      0x1f,0x0                                                                                        
003588   6a20     CLRF      0x20,0x0                                                                                        
00358a   6a21     CLRF      0x21,0x0                                                                                        
00358c   6a22     CLRF      0x22,0x0           acc_union[1].value = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00358e   6a23     CLRF      0x23,0x0                                                                                        
003590   6a24     CLRF      0x24,0x0                                                                                        
003592   6a25     CLRF      0x25,0x0                                                                                        
003594   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // All EM command clear the limit switch trigger                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141c   900e     BCF       0xe,0x0,0x0        bitclrzero(gLimitSwitchTriggered);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is probably unnecessary, but it's critical to be sure to indicate that the current command is finished D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00141e   8000     BSF       0x0,0x0,0x0        bitsetzero(AllDone);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If no bits in CurrentCommand.Command are set then AllDone will be true,     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // so we'll go on to the next command (if there is one)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           CheckForNextCommand:                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Deal with printing out internal ISR values                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Note that TEST_MODE_USART_ISR_BIT is set for both normal (only end of move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and full (every ISR tick) printing.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001420   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001422   d09d     BRA       0x155e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001424   0e01     MOVLW     0x1                if (bittstzero(AllDone) || bittst(TestMode, TEST_MODE_USART_ISR_FULL_NUM))   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001426   1400     ANDWF     0x0,0x0,0x0                                                                                     
001428   e104     BNZ       0x1432                                                                                          
00142a   0e08     MOVLW     0x8                                                                                             
00142c   1409     ANDWF     0x9,0x0,0x0                                                                                     
00142e   e101     BNZ       0x1432                                                                                          
001430   d096     BRA       0x155e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If this is the end of an LM move, then print out all the important values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // of everything (now that global step positions have been taken into      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // account) for checking that our math is working right                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001450   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001452   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001454   e002     BZ        0x145a                                                                                          
001456   0e00     MOVLW     0x0                                                                                             
001458   d001     BRA       0x145c                                                                                          
00145a   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001442   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001444   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001446   e002     BZ        0x144c                                                                                          
001448   0e00     MOVLW     0x0                                                                                             
00144a   d001     BRA       0x144e                                                                                          
00144c   0e01     MOVLW     0x1                                                                                             
00144e   6e52     MOVWF     0x52,0x0                                                                                        
00145c   1052     IORWF     0x52,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001432   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001434   0101     MOVLB     0x1                                                                                             
001436   5d85     SUBWF     0x85,0x0,0x1                                                                                    
001438   e002     BZ        0x143e                                                                                          
00143a   0e00     MOVLW     0x0                                                                                             
00143c   d001     BRA       0x1440                                                                                          
00143e   0e01     MOVLW     0x1                                                                                             
001440   6e53     MOVWF     0x53,0x0                                                                                        
00145e   1053     IORWF     0x53,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001460   e101     BNZ       0x1464                                                                                          
001462   d07d     BRA       0x155e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Setting this bit when we have something to print out will cause the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // ISR to be rescheduled so we have as much time as we need to print     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001464   8e09     BSF       0x9,0x7,0x0            bitset(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Move is complete, output "T:" (ISR ticks), "Steps:" (total steps from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // this move) "C:" (accumulator value), "R:" (rate value), "Pos:"        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // (step position)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// TODO: This could use some MASSIVE cleanup - turn this into a buffered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// ISR driven serial output for best efficiency. Or at the very least   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   /// make signed and unsigned printing macros.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //#define ISR_DEBUG_PRINT_ASCII 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if ISR_DEBUG_PRINT_ASCII                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('T')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRTickCountForThisCommand) // Macro for printing HEX value in ASCII D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('S')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRStepCountForThisCommand)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('C')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('R')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position for this command (signed)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('P')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(gISRPositionForThisCommand);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Print all values using raw binary                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total ISR ticks for this move (unsigned)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001466   c026     MOVFF     0x26,0x180             BinPrint(gISRTickCountForThisCommand) // Macro for printing raw binary value D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001468   f180                                                                                                               
00146a   c027     MOVFF     0x27,0x181                                                                                      
00146c   f181                                                                                                               
00146e   c028     MOVFF     0x28,0x182                                                                                      
001470   f182                                                                                                               
001472   c029     MOVFF     0x29,0x183                                                                                      
001474   f183                                                                                                               
001476   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001478   d7fe     BRA       0x1476                                                                                          
00147a   c183     MOVFF     0x183,0xfae                                                                                     
00147c   ffae                                                                                                               
00147e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001480   d7fe     BRA       0x147e                                                                                          
001482   c182     MOVFF     0x182,0xfae                                                                                     
001484   ffae                                                                                                               
001486   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001488   d7fe     BRA       0x1486                                                                                          
00148a   c181     MOVFF     0x181,0xfae                                                                                     
00148c   ffae                                                                                                               
00148e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001490   d7fe     BRA       0x148e                                                                                          
001492   c180     MOVFF     0x180,0xfae                                                                                     
001494   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the total steps made during this move (unsigned)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001496   c02a     MOVFF     0x2a,0x180             BinPrint(gISRStepCountForThisCommand)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001498   f180                                                                                                               
00149a   c02b     MOVFF     0x2b,0x181                                                                                      
00149c   f181                                                                                                               
00149e   c02c     MOVFF     0x2c,0x182                                                                                      
0014a0   f182                                                                                                               
0014a2   c02d     MOVFF     0x2d,0x183                                                                                      
0014a4   f183                                                                                                               
0014a6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014a8   d7fe     BRA       0x14a6                                                                                          
0014aa   c183     MOVFF     0x183,0xfae                                                                                     
0014ac   ffae                                                                                                               
0014ae   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014b0   d7fe     BRA       0x14ae                                                                                          
0014b2   c182     MOVFF     0x182,0xfae                                                                                     
0014b4   ffae                                                                                                               
0014b6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014b8   d7fe     BRA       0x14b6                                                                                          
0014ba   c181     MOVFF     0x181,0xfae                                                                                     
0014bc   ffae                                                                                                               
0014be   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014c0   d7fe     BRA       0x14be                                                                                          
0014c2   c180     MOVFF     0x180,0xfae                                                                                     
0014c4   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the accumulator1 value after all math is complete (unsigned) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014c6   c01e     MOVFF     0x1e,0x180             BinPrint(acc_union[0].value)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014c8   f180                                                                                                               
0014ca   c01f     MOVFF     0x1f,0x181                                                                                      
0014cc   f181                                                                                                               
0014ce   c020     MOVFF     0x20,0x182                                                                                      
0014d0   f182                                                                                                               
0014d2   c021     MOVFF     0x21,0x183                                                                                      
0014d4   f183                                                                                                               
0014d6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014d8   d7fe     BRA       0x14d6                                                                                          
0014da   c183     MOVFF     0x183,0xfae                                                                                     
0014dc   ffae                                                                                                               
0014de   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014e0   d7fe     BRA       0x14de                                                                                          
0014e2   c182     MOVFF     0x182,0xfae                                                                                     
0014e4   ffae                                                                                                               
0014e6   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014e8   d7fe     BRA       0x14e6                                                                                          
0014ea   c181     MOVFF     0x181,0xfae                                                                                     
0014ec   ffae                                                                                                               
0014ee   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
0014f0   d7fe     BRA       0x14ee                                                                                          
0014f2   c180     MOVFF     0x180,0xfae                                                                                     
0014f4   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the rate1 value (signed)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014f6   c18c     MOVFF     0x18c,0x180            BinPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0014f8   f180                                                                                                               
0014fa   c18d     MOVFF     0x18d,0x181                                                                                     
0014fc   f181                                                                                                               
0014fe   c18e     MOVFF     0x18e,0x182                                                                                     
001500   f182                                                                                                               
001502   c18f     MOVFF     0x18f,0x183                                                                                     
001504   f183                                                                                                               
001506   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001508   d7fe     BRA       0x1506                                                                                          
00150a   c183     MOVFF     0x183,0xfae                                                                                     
00150c   ffae                                                                                                               
00150e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001510   d7fe     BRA       0x150e                                                                                          
001512   c182     MOVFF     0x182,0xfae                                                                                     
001514   ffae                                                                                                               
001516   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001518   d7fe     BRA       0x1516                                                                                          
00151a   c181     MOVFF     0x181,0xfae                                                                                     
00151c   ffae                                                                                                               
00151e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001520   d7fe     BRA       0x151e                                                                                          
001522   c180     MOVFF     0x180,0xfae                                                                                     
001524   ffae                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Write out the current position for this command (signed)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001526   c02e     MOVFF     0x2e,0x180             BinPrint(gISRPositionForThisCommand);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001528   f180                                                                                                               
00152a   c02f     MOVFF     0x2f,0x181                                                                                      
00152c   f181                                                                                                               
00152e   c030     MOVFF     0x30,0x182                                                                                      
001530   f182                                                                                                               
001532   c031     MOVFF     0x31,0x183                                                                                      
001534   f183                                                                                                               
001536   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001538   d7fe     BRA       0x1536                                                                                          
00153a   c183     MOVFF     0x183,0xfae                                                                                     
00153c   ffae                                                                                                               
00153e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001540   d7fe     BRA       0x153e                                                                                          
001542   c182     MOVFF     0x182,0xfae                                                                                     
001544   ffae                                                                                                               
001546   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001548   d7fe     BRA       0x1546                                                                                          
00154a   c181     MOVFF     0x181,0xfae                                                                                     
00154c   ffae                                                                                                               
00154e   a2ad     BTFSS     0xad,0x1,0x0                                                                                    
001550   d7fe     BRA       0x154e                                                                                          
001552   c180     MOVFF     0x180,0xfae                                                                                     
001554   ffae                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001556   a2ad     BTFSS     0xad,0x1,0x0           PrintChar('\n')                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001558   d7fe     BRA       0x1556                                                                                          
00155a   0e0a     MOVLW     0xa                                                                                             
00155c   6eae     MOVWF     0xae,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // It limit switch checking is enabled, check to see if a limit switch value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // has been seen (CU,51 and CU,52)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00155e   500c     MOVF      0xc,0x0,0x0      if (gLimitSwitchMask)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001560   e01c     BZ        0x159a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001562   5081     MOVF      0x81,0x0,0x0       PortBTemp = PORTB;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001564   6e0b     MOVWF     0xb,0x0                                                                                         
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001566   50e8     MOVF      0xe8,0x0,0x0       if (((~(PortBTemp ^ gLimitSwitchTarget)) & gLimitSwitchMask) && !bittstzero(gLimitSwitchTriggered)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001568   180d     XORWF     0xd,0x0,0x0                                                                                     
00156a   1ce8     COMF      0xe8,0x0,0x0                                                                                    
00156c   140c     ANDWF     0xc,0x0,0x0                                                                                     
00156e   e015     BZ        0x159a                                                                                          
001570   0e01     MOVLW     0x1                                                                                             
001572   140e     ANDWF     0xe,0x0,0x0                                                                                     
001574   e112     BNZ       0x159a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // At least one of the bits in PortB that we are looking at is in a state  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // now where it has 'triggered' and so we need to shut down the current    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // move, and remove all remaining commands from the FIFO                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001576   c00b     MOVFF     0xb,0xdc             gLimitSwitchPortB = PortBTemp;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001578   f0dc                                                                                                               
00157a   800e     BSF       0xe,0x0,0x0          bitsetzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00157c   6a02     CLRF      0x2,0x0              AxisActive[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00157e   6a03     CLRF      0x3,0x0              AxisActive[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001580   8000     BSF       0x0,0x0,0x0          bitsetzero(AllDone);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001582   6a0f     CLRF      0xf,0x0              gFIFOLength = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001584   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001586   6a11     CLRF      0x11,0x0             gFIFOOut = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Flush the whole FIFO by clearing each element's Command field           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001588   6a01     CLRF      0x1,0x0              for (isr_i=0; isr_i < COMMAND_FIFO_MAX_LENGTH; isr_i++)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00158a   0e20     MOVLW     0x20                                                                                            
00158c   5c01     SUBWF     0x1,0x0,0x0                                                                                     
00158e   e205     BC        0x159a                                                                                          
001596   2a01     INCF      0x1,0x1,0x0                                                                                     
001598   d7f8     BRA       0x158a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001590   5001     MOVF      0x1,0x0,0x0            FIFOPtr[isr_i].Command = COMMAND_NONE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001592   ece5     CALL      0x35ca,0x0                                                                                      
001594   f01a                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're done with our current command, load in the next one                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00159a   a000     BTFSS     0x0,0x0,0x0      if (bittstzero(AllDone))                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00159c   d101     BRA       0x17a0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00159e   0101     MOVLB     0x1                CurrentCommand.Command = COMMAND_NONE;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015a0   6b85     CLRF      0x85,0x1                                                                                        
0015a2   500f     MOVF      0xf,0x0,0x0        if (gFIFOLength != 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015a4   e101     BNZ       0x15a8                                                                                          
0015a6   d0e4     BRA       0x1770                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015a8   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015aa   808c     BSF       0x8c,0x0,0x0           LATDbits.LATD0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015ac   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015ae   948c     BCF       0x8c,0x2,0x0           mLED_2_Off()                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // If enabled, move stepper disable state to primed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015b0   0100     MOVLB     0x0                  if (g_StepperDisableState != kSTEPPER_TIMEOUT_DISABLED)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015b2   51a8     MOVF      0xa8,0x0,0x1                                                                                    
0015b4   e002     BZ        0x15ba                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015b6   0e01     MOVLW     0x1                    g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015b8   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO_COPY();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Check to see if the FIFO_out_ptr needs wrapping                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_C_ISR)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Instead of copying over the entire MoveCommandType every time, to save  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // time we will check which command is next in the FIFO, and then only     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // copy over those fields that the new command actually uses.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The order that we check these is the same as the main ISR check order   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // above, where we want to have the most common commands checked first     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // since they will then happen faster.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015ba   5011     MOVF      0x11,0x0,0x0         gFIFOCommand = FIFOPtr[gFIFOOut].Command;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015bc   ec7c     CALL      0x3cf8,0x0                                                                                      
0015be   f01e                                                                                                               
0015c0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0015c2   6e12     MOVWF     0x12,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015c4   0e05     MOVLW     0x5                  if (gFIFOCommand == COMMAND_SM_XM_HM_MOVE)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015c6   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0015c8   e103     BNZ       0x15d0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015ca   ecdf     CALL      0x3bbe,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015cc   f01d                                                                                                               
003bbe   d8e2     RCALL     0x3d84                                                                                          
003d84   ecc9     CALL      0x3192,0x0                                                                                      
003d86   f018                                                                                                               
003d88   cfef     MOVFF     0xfef,0x185                                                                                     
003d8a   f185                                                                                                               
003d8c   0012     RETURN    0x0                                                                                             
003bc0   d8c4     RCALL     0x3d4a                 CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bc2   0e06     MOVLW     0x6                                                                                             
003bc4   d8c6     RCALL     0x3d52                                                                                          
003bc6   cfee     MOVFF     0xfee,0x18c                                                                                     
003bc8   f18c                                                                                                               
003bca   cfee     MOVFF     0xfee,0x18d                                                                                     
003bcc   f18d                                                                                                               
003bce   cfee     MOVFF     0xfee,0x18e                                                                                     
003bd0   f18e                                                                                                               
003bd2   cfef     MOVFF     0xfef,0x18f                                                                                     
003bd4   f18f                                                                                                               
003d52   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
003d54   0e00     MOVLW     0x0                                                                                             
003d56   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003d58   0012     RETURN    0x0                                                                                             
003bd6   d8b9     RCALL     0x3d4a                 CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bd8   0e06     MOVLW     0x6                                                                                             
003bda   ecbf     CALL      0x337e,0x0                                                                                      
003bdc   f019                                                                                                               
003bde   effd     GOTO      0x35fa                                                                                          
003be0   f01a                                                                                                               
003d4a   ecc9     CALL      0x3192,0x0                                                                                      
003d4c   f018                                                                                                               
003d4e   52ee     MOVF      0xee,0x1,0x0                                                                                    
003d50   0012     RETURN    0x0                                                                                             
                                                   CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015ce   d005     BRA       0x15da               else if (gFIFOCommand == COMMAND_LM_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015d0   0e06     MOVLW     0x6                                                                                             
0015d2   5c12     SUBWF     0x12,0x0,0x0                                                                                    
0015d4   e114     BNZ       0x15fe                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015d6   ec69     CALL      0x38d2,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015d8   f01c                                                                                                               
0038d2   d975     RCALL     0x3bbe                                                                                          
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038d4   da3a     RCALL     0x3d4a                 CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038d6   0e1e     MOVLW     0x1e                                                                                            
0038d8   da3c     RCALL     0x3d52                                                                                          
0038da   cfee     MOVFF     0xfee,0x1a4                                                                                     
0038dc   f1a4                                                                                                               
0038de   cfee     MOVFF     0xfee,0x1a5                                                                                     
0038e0   f1a5                                                                                                               
0038e2   cfee     MOVFF     0xfee,0x1a6                                                                                     
0038e4   f1a6                                                                                                               
0038e6   cfef     MOVFF     0xfef,0x1a7                                                                                     
0038e8   f1a7                                                                                                               
0038ea   da2f     RCALL     0x3d4a                 CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0038ec   0e1e     MOVLW     0x1e                                                                                            
0038ee   dd47     RCALL     0x337e                                                                                          
0038f0   cfee     MOVFF     0xfee,0x1a8                                                                                     
0038f2   f1a8                                                                                                               
0038f4   cfee     MOVFF     0xfee,0x1a9                                                                                     
0038f6   f1a9                                                                                                               
0038f8   cfee     MOVFF     0xfee,0x1aa                                                                                     
0038fa   f1aa                                                                                                               
0038fc   cfef     MOVFF     0xfef,0x1ab                                                                                     
0038fe   f1ab                                                                                                               
003900   da24     RCALL     0x3d4a                 CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003902   0e16     MOVLW     0x16                                                                                            
003904   da26     RCALL     0x3d52                                                                                          
003906   cfee     MOVFF     0xfee,0x19c                                                                                     
003908   f19c                                                                                                               
00390a   cfee     MOVFF     0xfee,0x19d                                                                                     
00390c   f19d                                                                                                               
00390e   cfee     MOVFF     0xfee,0x19e                                                                                     
003910   f19e                                                                                                               
003912   cfef     MOVFF     0xfef,0x19f                                                                                     
003914   f19f                                                                                                               
00372e   cfee     MOVFF     0xfee,0x1a0            CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003730   f1a0                                                                                                               
003732   cfee     MOVFF     0xfee,0x1a1                                                                                     
003734   f1a1                                                                                                               
003736   cfee     MOVFF     0xfee,0x1a2                                                                                     
003738   f1a2                                                                                                               
00373a   cfef     MOVFF     0xfef,0x1a3                                                                                     
00373c   f1a3                                                                                                               
00373e   0012     RETURN    0x0                                                                                             
003916   da19     RCALL     0x3d4a                                                                                          
003918   0e16     MOVLW     0x16                                                                                            
00391a   dd31     RCALL     0x337e                                                                                          
00391c   ef97     GOTO      0x372e                                                                                          
00391e   f01b                                                                                                               
0015da   ecc9     CALL      0x3192,0x0             CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015dc   f018                                                                                                               
0015de   ec33     CALL      0x3666,0x0                                                                                      
0015e0   f01b                                                                                                               
003666   52ee     MOVF      0xee,0x1,0x0                                                                                    
003668   0e0e     MOVLW     0xe                                                                                             
00366a   db73     RCALL     0x3d52                                                                                          
00366c   cfee     MOVFF     0xfee,0x194                                                                                     
00366e   f194                                                                                                               
003670   cfee     MOVFF     0xfee,0x195                                                                                     
003672   f195                                                                                                               
003674   cfee     MOVFF     0xfee,0x196                                                                                     
003676   f196                                                                                                               
003678   cfef     MOVFF     0xfef,0x197                                                                                     
00367a   f197                                                                                                               
00367c   0012     RETURN    0x0                                                                                             
0015e2   eca5     CALL      0x3d4a,0x0             CurrentCommand.m.sm.Steps[1]       = FIFOPtr[gFIFOOut].m.sm.Steps[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015e4   f01e                                                                                                               
0015e6   0e0e     MOVLW     0xe                                                                                             
0015e8   ecbf     CALL      0x337e,0x0                                                                                      
0015ea   f019                                                                                                               
0015ec   cfee     MOVFF     0xfee,0x198                                                                                     
0015ee   f198                                                                                                               
0015f0   cfee     MOVFF     0xfee,0x199                                                                                     
0015f2   f199                                                                                                               
0015f4   cfee     MOVFF     0xfee,0x19a                                                                                     
0015f6   f19a                                                                                                               
0015f8   cfef     MOVFF     0xfef,0x19b                                                                                     
0015fa   f19b                                                                                                               
                                                   CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015fc   d009     BRA       0x1610               else if (gFIFOCommand == COMMAND_LT_MOVE)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0015fe   0e07     MOVLW     0x7                                                                                             
001600   5c12     SUBWF     0x12,0x0,0x0                                                                                    
001602   e10d     BNZ       0x161e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001604   ec69     CALL      0x38d2,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001606   f01c                                                                                                               
                                                   CurrentCommand.m.sm.Rate[0]        = FIFOPtr[gFIFOOut].m.sm.Rate[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00337e   eca9     CALL      0x3d52,0x0             CurrentCommand.m.sm.Rate[1]        = FIFOPtr[gFIFOOut].m.sm.Rate[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003380   f01e                                                                                                               
003382   0e04     MOVLW     0x4                                                                                             
003384   efd7     GOTO      0x3bae                                                                                          
003386   f01d                                                                                                               
0035fa   cfee     MOVFF     0xfee,0x190                                                                                     
0035fc   f190                                                                                                               
0035fe   cfee     MOVFF     0xfee,0x191                                                                                     
003600   f191                                                                                                               
003602   cfee     MOVFF     0xfee,0x192                                                                                     
003604   f192                                                                                                               
003606   cfef     MOVFF     0xfef,0x193                                                                                     
003608   f193                                                                                                               
00360a   0012     RETURN    0x0                                                                                             
                                                   CurrentCommand.m.sm.Accel[0]       = FIFOPtr[gFIFOOut].m.sm.Accel[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Accel[1]       = FIFOPtr[gFIFOOut].m.sm.Accel[1];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[0]        = FIFOPtr[gFIFOOut].m.sm.Jerk[0];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   CurrentCommand.m.sm.Jerk[1]        = FIFOPtr[gFIFOOut].m.sm.Jerk[1];     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001608   ecc9     CALL      0x3192,0x0             CurrentCommand.m.sm.Steps[0]       = FIFOPtr[gFIFOOut].m.sm.Steps[0];    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00160a   f018                                                                                                               
00160c   ec33     CALL      0x3666,0x0                                                                                      
00160e   f01b                                                                                                               
001610   ec7a     CALL      0x3af4,0x0             CurrentCommand.m.sm.DirBits        = FIFOPtr[gFIFOOut].m.sm.DirBits;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001612   f01d                                                                                                               
003af4   d92a     RCALL     0x3d4a                                                                                          
003af6   cfef     MOVFF     0xfef,0x186                                                                                     
003af8   f186                                                                                                               
001614   ec2c     CALL      0x3458,0x0             CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001616   f01a                                                                                                               
003afa   efc9     GOTO      0x3192                                                                                          
003afc   f018                                                                                                               
001618   ecaa     CALL      0x3b54,0x0             CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00161a   f01d                                                                                                               
003b54   ecc9     CALL      0x3192,0x0                                                                                      
003b56   f018                                                                                                               
003b58   de35     RCALL     0x37c4                                                                                          
003b5a   cfef     MOVFF     0xfef,0x18b                                                                                     
003b5c   f18b                                                                                                               
003b5e   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00161c   d046     BRA       0x16aa               else if (gFIFOCommand == COMMAND_SERVO_MOVE)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00161e   0e02     MOVLW     0x2                                                                                             
001620   5c12     SUBWF     0x12,0x0,0x0                                                                                    
001622   e122     BNZ       0x1668                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001624   ec1f     CALL      0x3a3e,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001626   f01d                                                                                                               
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001628   eca5     CALL      0x3d4a,0x0             CurrentCommand.m.sm.ServoPosition  = FIFOPtr[gFIFOOut].m.sm.ServoPosition; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00162a   f01e                                                                                                               
00162c   0e27     MOVLW     0x27                                                                                            
00162e   eca9     CALL      0x3d52,0x0                                                                                      
001630   f01e                                                                                                               
001632   cfee     MOVFF     0xfee,0x1ad                                                                                     
001634   f1ad                                                                                                               
001636   cfed     MOVFF     0xfed,0x1ae                                                                                     
001638   f1ae                                                                                                               
00163a   ecc9     CALL      0x3192,0x0             CurrentCommand.m.sm.ServoRPn       = FIFOPtr[gFIFOOut].m.sm.ServoRPn;    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00163c   f018                                                                                                               
00163e   ece5     CALL      0x37ca,0x0                                                                                      
001640   f01b                                                                                                               
001642   cfef     MOVFF     0xfef,0x1ac                                                                                     
001644   f1ac                                                                                                               
001646   eca5     CALL      0x3d4a,0x0             CurrentCommand.m.sm.ServoChannel   = FIFOPtr[gFIFOOut].m.sm.ServoChannel; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001648   f01e                                                                                                               
00164a   0e29     MOVLW     0x29                                                                                            
00164c   eca9     CALL      0x3d52,0x0                                                                                      
00164e   f01e                                                                                                               
001650   cfef     MOVFF     0xfef,0x1af                                                                                     
001652   f1af                                                                                                               
001654   eca5     CALL      0x3d4a,0x0             CurrentCommand.m.sm.ServoRate      = FIFOPtr[gFIFOOut].m.sm.ServoRate;   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001656   f01e                                                                                                               
001658   0e2a     MOVLW     0x2a                                                                                            
00165a   eca9     CALL      0x3d52,0x0                                                                                      
00165c   f01e                                                                                                               
00165e   cfee     MOVFF     0xfee,0x1b0                                                                                     
001660   f1b0                                                                                                               
001662   cfed     MOVFF     0xfed,0x1b1                                                                                     
001664   f1b1                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001666   d021     BRA       0x16aa               else if (gFIFOCommand == COMMAND_DELAY)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001668   0412     DECF      0x12,0x0,0x0                                                                                    
00166a   e103     BNZ       0x1672                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00166c   ec1f     CALL      0x3a3e,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00166e   f01d                                                                                                               
                                                   CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001670   d01c     BRA       0x16aa               else if (gFIFOCommand == COMMAND_SE)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001672   0e03     MOVLW     0x3                                                                                             
001674   5c12     SUBWF     0x12,0x0,0x0                                                                                    
001676   e10e     BNZ       0x1694                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001678   ec1f     CALL      0x3a3e,0x0             CurrentCommand.Command        = FIFOPtr[gFIFOOut].Command;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00167a   f01d                                                                                                               
003a3e   d9a2     RCALL     0x3d84                                                                                          
003458   52ee     MOVF      0xee,0x1,0x0           CurrentCommand.m.sm.DelayCounter   = FIFOPtr[gFIFOOut].m.sm.DelayCounter; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00345a   52ee     MOVF      0xee,0x1,0x0                                                                                    
00345c   cfee     MOVFF     0xfee,0x187                                                                                     
00345e   f187                                                                                                               
003460   cfee     MOVFF     0xfee,0x188                                                                                     
003462   f188                                                                                                               
003464   cfee     MOVFF     0xfee,0x189                                                                                     
003466   f189                                                                                                               
003468   cfef     MOVFF     0xfef,0x18a                                                                                     
00346a   f18a                                                                                                               
00346c   0012     RETURN    0x0                                                                                             
003a40   ecc9     CALL      0x3192,0x0                                                                                      
003a42   f018                                                                                                               
003a44   ef2c     GOTO      0x3458                                                                                          
003a46   f01a                                                                                                               
00167c   ecaa     CALL      0x3b54,0x0             CurrentCommand.m.sm.SEState        = FIFOPtr[gFIFOOut].m.sm.SEState;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00167e   f01d                                                                                                               
0037c4   52ee     MOVF      0xee,0x1,0x0                                                                                    
0037c6   0e05     MOVLW     0x5                                                                                             
0037c8   d1f2     BRA       0x3bae                                                                                          
001680   eca5     CALL      0x3d4a,0x0             CurrentCommand.m.sm.SEPower        = FIFOPtr[gFIFOOut].m.sm.SEPower;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001682   f01e                                                                                                               
001684   0e2c     MOVLW     0x2c                                                                                            
001686   eca9     CALL      0x3d52,0x0                                                                                      
001688   f01e                                                                                                               
00168a   cfee     MOVFF     0xfee,0x1b2                                                                                     
00168c   f1b2                                                                                                               
00168e   cfed     MOVFF     0xfed,0x1b3                                                                                     
001690   f1b3                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001692   d00b     BRA       0x16aa               else if (gFIFOCommand == COMMAND_EM)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001694   0e04     MOVLW     0x4                                                                                             
001696   5c12     SUBWF     0x12,0x0,0x0                                                                                    
001698   e108     BNZ       0x16aa                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169a   ecc2     CALL      0x3d84,0x0             CurrentCommand.Command       = FIFOPtr[gFIFOOut].Command;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00169c   f01e                                                                                                               
003192   5011     MOVF      0x11,0x0,0x0                                                                                    
003194   0d2f     MULLW     0x2f                                                                                            
003196   efd6     GOTO      0x39ac                                                                                          
003198   f01c                                                                                                               
00169e   ec7a     CALL      0x3af4,0x0             CurrentCommand.m.sm.DirBits       = FIFOPtr[gFIFOOut].m.sm.DirBits;      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a0   f01d                                                                                                               
0016a2   ece5     CALL      0x37ca,0x0             CurrentCommand.m.sm.ServoRPn      = FIFOPtr[gFIFOOut].m.sm.ServoRPn;     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016a4   f01b                                                                                                               
0016a6   cfef     MOVFF     0xfef,0x1ac                                                                                     
0016a8   f1ac                                                                                                               
0037ca   52ee     MOVF      0xee,0x1,0x0                                                                                    
0037cc   0e26     MOVLW     0x26                                                                                            
0037ce   d1ef     BRA       0x3bae                                                                                          
003bae   efa9     GOTO      0x3d52                                                                                          
003bb0   f01e                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // gFIFOCommand had a value that is not allowed                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 0                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (bittst(TestMode, TEST_MODE_USART_ISR_BIT_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint((UINT32)CurrentCommand.Command)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Rate[0].value)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar(',')                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   HexPrint(CurrentCommand.m.sm.Steps[0])                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   PrintChar('\n')                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Take care of clearing the step accumulators for the next move if        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // it's a motor move (of any type) - if the command requests it            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016c8   0e05     MOVLW     0x5                    (CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ca   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0016cc   e002     BZ        0x16d2                                                                                          
0016ce   0e00     MOVLW     0x0                                                                                             
0016d0   d001     BRA       0x16d4                                                                                          
0016d2   0e01     MOVLW     0x1                                                                                             
                                                   |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ba   0e06     MOVLW     0x6                    (CurrentCommand.Command == COMMAND_LM_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016bc   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0016be   e002     BZ        0x16c4                                                                                          
0016c0   0e00     MOVLW     0x0                                                                                             
0016c2   d001     BRA       0x16c6                                                                                          
0016c4   0e01     MOVLW     0x1                                                                                             
0016c6   6e52     MOVWF     0x52,0x0                                                                                        
0016d4   1052     IORWF     0x52,0x0,0x0           |                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016aa   0e07     MOVLW     0x7                    (CurrentCommand.Command == COMMAND_LT_MOVE)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ac   0101     MOVLB     0x1                                                                                             
0016ae   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0016b0   e002     BZ        0x16b6                                                                                          
0016b2   0e00     MOVLW     0x0                                                                                             
0016b4   d001     BRA       0x16b8                                                                                          
0016b6   0e01     MOVLW     0x1                                                                                             
0016b8   6e53     MOVWF     0x53,0x0                                                                                        
0016d6   1053     IORWF     0x53,0x0,0x0         )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016d8   e031     BZ        0x173c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016da   a98b     BTFSS     0x8b,0x4,0x1           if (CurrentCommand.m.sm.SEState & SESTATE_ARBITRARY_ACC_BIT)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016dc   d009     BRA       0x16f0                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016de   c187     MOVFF     0x187,0x1e                 acc_union[0].value = CurrentCommand.m.sm.DelayCounter;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016e0   f01e                                                                                                               
0016e2   c188     MOVFF     0x188,0x1f                                                                                      
0016e4   f01f                                                                                                               
0016e6   c189     MOVFF     0x189,0x20                                                                                      
0016e8   f020                                                                                                               
0016ea   c18a     MOVFF     0x18a,0x21                                                                                      
0016ec   f021                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016ee   d01a     BRA       0x1724                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     // Use the SEState to determine which accumulators to clear.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f0   a18b     BTFSS     0x8b,0x0,0x1             if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC1_BIT)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f2   d004     BRA       0x16fc                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f4   6a1e     CLRF      0x1e,0x0                   acc_union[0].value = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016f6   6a1f     CLRF      0x1f,0x0                                                                                        
0016f8   6a20     CLRF      0x20,0x0                                                                                        
0016fa   6a21     CLRF      0x21,0x0                                                                                        
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016fc   a38b     BTFSS     0x8b,0x1,0x1             if (CurrentCommand.m.sm.SEState & SESTATE_CLEAR_ACC2_BIT)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0016fe   d004     BRA       0x1708                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001700   6a22     CLRF      0x22,0x0                   acc_union[1].value = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001702   6a23     CLRF      0x23,0x0                                                                                        
001704   6a24     CLRF      0x24,0x0                                                                                        
001706   6a25     CLRF      0x25,0x0                                                                                        
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001708   a58b     BTFSS     0x8b,0x2,0x1             if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC1_BIT)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00170a   d005     BRA       0x1716                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00170c   681e     SETF      0x1e,0x0                   acc_union[0].value = 0x7FFFFFFFUL;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00170e   681f     SETF      0x1f,0x0                                                                                        
001710   6820     SETF      0x20,0x0                                                                                        
001712   0e7f     MOVLW     0x7f                                                                                            
001714   6e21     MOVWF     0x21,0x0                                                                                        
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001716   a78b     BTFSS     0x8b,0x3,0x1             if (CurrentCommand.m.sm.SEState & SESTATE_NEGATE_ACC2_BIT)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001718   d005     BRA       0x1724                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00171a   6822     SETF      0x22,0x0                   acc_union[1].value = 0x7FFFFFFFUL;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00171c   6823     SETF      0x23,0x0                                                                                        
00171e   6824     SETF      0x24,0x0                                                                                        
001720   0e7f     MOVLW     0x7f                                                                                            
001722   6e25     MOVWF     0x25,0x0                                                                                        
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   // Set the "Active" flags for this move based on steps for each axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001724   ec83     CALL      0x3706,0x0             if (CurrentCommand.m.sm.Steps[0])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001726   f01b                                                                                                               
001728   e002     BZ        0x172e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00172a   8002     BSF       0x2,0x0,0x0              bitsetzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00172c   d001     BRA       0x1730                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00172e   9002     BCF       0x2,0x0,0x0              bitclrzero(AxisActive[0]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001730   ecf1     CALL      0x37e2,0x0             if (CurrentCommand.m.sm.Steps[1])                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001732   f01b                                                                                                               
001734   e002     BZ        0x173a                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001736   8003     BSF       0x3,0x0,0x0              bitsetzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001738   d001     BRA       0x173c                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00173a   9003     BCF       0x3,0x0,0x0              bitclrzero(AxisActive[1]);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00173c   a409     BTFSS     0x9,0x2,0x0          if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00173e   d00c     BRA       0x1758                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001740   6a26     CLRF      0x26,0x0               gISRTickCountForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001742   6a27     CLRF      0x27,0x0                                                                                        
001744   6a28     CLRF      0x28,0x0                                                                                        
001746   6a29     CLRF      0x29,0x0                                                                                        
001748   6a2a     CLRF      0x2a,0x0               gISRStepCountForThisCommand = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00174a   6a2b     CLRF      0x2b,0x0                                                                                        
00174c   6a2c     CLRF      0x2c,0x0                                                                                        
00174e   6a2d     CLRF      0x2d,0x0                                                                                        
001750   6a2e     CLRF      0x2e,0x0               gISRPositionForThisCommand = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001752   6a2f     CLRF      0x2f,0x0                                                                                        
001754   6a30     CLRF      0x30,0x0                                                                                        
001756   6a31     CLRF      0x31,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Zero out command in FIFO we just copied, but leave the rest of the fields alone D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001758   5011     MOVF      0x11,0x0,0x0         FIFOPtr[gFIFOOut].Command = COMMAND_NONE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00175a   ece5     CALL      0x35ca,0x0                                                                                      
00175c   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Increment gFIFO_Out                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00175e   2a11     INCF      0x11,0x1,0x0         gFIFOOut++;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001760   5013     MOVF      0x13,0x0,0x0         if (gFIFOOut >= gCurrentFIFOLength)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001762   5c11     SUBWF     0x11,0x0,0x0                                                                                    
001764   e301     BNC       0x1768                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001766   6a11     CLRF      0x11,0x0               gFIFOOut = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001768   500f     MOVF      0xf,0x0,0x0          if (gFIFOLength)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00176a   e01a     BZ        0x17a0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00176c   060f     DECF      0xf,0x1,0x0            gFIFOLength--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00176e   d018     BRA       0x17a0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Current command is done, and the FIFO is completely empty.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Start up stepper motor disable timeout (if enabled)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001770   0100     MOVLB     0x0                  if (g_StepperDisableState == kSTEPPER_TIMEOUT_PRIMED)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001772   05a8     DECF      0xa8,0x0,0x1                                                                                    
001774   e10c     BNZ       0x178e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001776   0100     MOVLB     0x0                    g_StepperDisableSecondCounter = 1000u;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001778   0ee8     MOVLW     0xe8                                                                                            
00177a   6fab     MOVWF     0xab,0x1                                                                                        
00177c   0e03     MOVLW     0x3                                                                                             
00177e   6fac     MOVWF     0xac,0x1                                                                                        
001780   c0a9     MOVFF     0xa9,0xad              g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001782   f0ad                                                                                                               
001784   c0aa     MOVFF     0xaa,0xae                                                                                       
001786   f0ae                                                                                                               
001788   0100     MOVLB     0x0                    g_StepperDisableState = kSTEPPER_TIMEOUT_TIMING;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00178a   0e02     MOVLW     0x2                                                                                             
00178c   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00178e   0101     MOVLB     0x1                  CurrentCommand.m.sm.DelayCounter = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001790   6b87     CLRF      0x87,0x1                                                                                        
001792   6b88     CLRF      0x88,0x1                                                                                        
001794   6b89     CLRF      0x89,0x1                                                                                        
001796   6b8a     CLRF      0x8a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001798   b006     BTFSC     0x6,0x0,0x0          if (bittstzero(gRedLEDEmptyFIFO))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00179a   848c     BSF       0x8c,0x2,0x0           mLED_2_On()                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00179c   b209     BTFSC     0x9,0x1,0x0          if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00179e   8289     BSF       0x89,0x1,0x0           LATAbits.LATA1 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for button being pushed                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017a0   ae80     BTFSS     0x80,0x7,0x0     if (!swProgram)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017a2   8007     BSF       0x7,0x0,0x0        bitsetzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017a4   a008     BTFSS     0x8,0x0,0x0      if (bittstzero(UseAltPause))                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017a6   d002     BRA       0x17ac                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017a8   a081     BTFSS     0x81,0x0,0x0       if (!PORTBbits.RB0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017aa   8007     BSF       0x7,0x0,0x0          bitsetzero(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // To give as much time for the step pulses to be high, we clear them as the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // very last thing we do before leaving the ISR. It never hurts us to clear    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // these bits even if no step happened this ISR tick                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ac   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ae   e103     BNZ       0x17b6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b0   9c8c     BCF       0x8c,0x6,0x0       Step1IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b2   988c     BCF       0x8c,0x4,0x0       Step2IO = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b4   d002     BRA       0x17ba           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b6   9c8b     BCF       0x8b,0x6,0x0       Step1AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017b8   9a89     BCF       0x89,0x5,0x0       Step2AltIO = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ba   ae09     BTFSS     0x9,0x7,0x0      if (bittst(TestMode, TEST_MODE_PRINT_TRIGGER_NUM))                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017bc   d006     BRA       0x17ca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Clear the interrupt as the last thing we do. This allows us to have       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // arbitrarily long interrupts to print debug information out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017be   909e     BCF       0x9e,0x0,0x0       PIR1bits.TMR1IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c0   0efe     MOVLW     0xfe               TMR1H = TIMER1_H_RELOAD;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c2   6ecf     MOVWF     0xcf,0x0                                                                                        
0017c4   0e36     MOVLW     0x36               TMR1L = TIMER1_L_RELOAD;  // Reload for 25KHz ISR fire                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017c6   6ece     MOVWF     0xce,0x0                                                                                        
0017c8   9e09     BCF       0x9,0x7,0x0        bitclr(TestMode, TEST_MODE_PRINT_TRIGGER_NUM);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ca   a209     BTFSS     0x9,0x1,0x0      if (bittst(TestMode, TEST_MODE_GPIO_NUM))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017cc   d003     BRA       0x17d4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ce   9289     BCF       0x89,0x1,0x0       LATAbits.LATA1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017d0   908c     BCF       0x8c,0x0,0x0       LATDbits.LATD0 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017d2   928c     BCF       0x8c,0x1,0x0       LATDbits.LATD1 = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017d4   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017d6   cfe5     MOVFF     0xfe5,0xff4                                                                                     
0017d8   fff4                                                                                                               
0017da   cfe5     MOVFF     0xfe5,0xff3                                                                                     
0017dc   fff3                                                                                                               
0017de   cfe5     MOVFF     0xfe5,0xfea                                                                                     
0017e0   ffea                                                                                                               
0017e2   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
0017e4   ffe9                                                                                                               
0017e6   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0017e8   ffda                                                                                                               
0017ea   0011     RETFIE    0x1                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Zero out all global variables used for parameter passing between motion       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parsing commands                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           static void clear_parmaeter_globals(void)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ec   0101     MOVLB     0x1              gUInt32_1 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017ee   6bc4     CLRF      0xc4,0x1                                                                                        
0017f0   6bc5     CLRF      0xc5,0x1                                                                                        
0017f2   6bc6     CLRF      0xc6,0x1                                                                                        
0017f4   6bc7     CLRF      0xc7,0x1                                                                                        
0017f6   ec50     CALL      0x38a0,0x0       gUInt32_2 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017f8   f01c                                                                                                               
0017fa   6bcc     CLRF      0xcc,0x1         gUInt32_3 = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0017fc   6bcd     CLRF      0xcd,0x1                                                                                        
0017fe   6bce     CLRF      0xce,0x1                                                                                        
001800   6bcf     CLRF      0xcf,0x1                                                                                        
001802   6bd0     CLRF      0xd0,0x1         gInt32_1 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001804   6bd1     CLRF      0xd1,0x1                                                                                        
001806   6bd2     CLRF      0xd2,0x1                                                                                        
001808   6bd3     CLRF      0xd3,0x1                                                                                        
00180a   6bd4     CLRF      0xd4,0x1         gInt32_2 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00180c   6bd5     CLRF      0xd5,0x1                                                                                        
00180e   6bd6     CLRF      0xd6,0x1                                                                                        
001810   6bd7     CLRF      0xd7,0x1                                                                                        
001812   6bd8     CLRF      0xd8,0x1         gInt32_3 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001814   6bd9     CLRF      0xd9,0x1                                                                                        
001816   6bda     CLRF      0xda,0x1                                                                                        
001818   6bdb     CLRF      0xdb,0x1                                                                                        
00181a   6bdc     CLRF      0xdc,0x1         gInt32_4 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00181c   6bdd     CLRF      0xdd,0x1                                                                                        
00181e   6bde     CLRF      0xde,0x1                                                                                        
001820   6bdf     CLRF      0xdf,0x1                                                                                        
001822   6be0     CLRF      0xe0,0x1         gInt32_5 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001824   6be1     CLRF      0xe1,0x1                                                                                        
001826   6be2     CLRF      0xe2,0x1                                                                                        
001828   6be3     CLRF      0xe3,0x1                                                                                        
00182a   6be4     CLRF      0xe4,0x1         gInt32_6 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00182c   6be5     CLRF      0xe5,0x1                                                                                        
00182e   6be6     CLRF      0xe6,0x1                                                                                        
001830   6be7     CLRF      0xe7,0x1                                                                                        
001832   6be8     CLRF      0xe8,0x1         gInt32_7 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001834   6be9     CLRF      0xe9,0x1                                                                                        
001836   6bea     CLRF      0xea,0x1                                                                                        
001838   6beb     CLRF      0xeb,0x1                                                                                        
00183a   6bec     CLRF      0xec,0x1         gInt32_8 = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00183c   6bed     CLRF      0xed,0x1                                                                                        
00183e   6bee     CLRF      0xee,0x1                                                                                        
001840   6bef     CLRF      0xef,0x1                                                                                        
001842   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Init code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001844   cfd9     MOVFF     0xfd9,0xfe6    void EBB_Init(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001846   ffe6                                                                                                               
001848   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00184a   ffd9                                                                                                               
00184c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Initialize all Current Command values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00184e   6adf     CLRF      0xdf,0x0         for (i = 0; i < NUMBER_OF_STEPPERS; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001850   0e02     MOVLW     0x2                                                                                             
001852   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001854   e22d     BC        0x18b0                                                                                          
0018ac   2adf     INCF      0xdf,0x1,0x0                                                                                    
0018ae   d7d0     BRA       0x1850                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001856   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Rate[i].value = 1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001858   0d04     MULLW     0x4                                                                                             
00185a   cff3     MOVFF     0xff3,0xfe9                                                                                     
00185c   ffe9                                                                                                               
00185e   cff4     MOVFF     0xff4,0xfea                                                                                     
001860   ffea                                                                                                               
001862   0e8c     MOVLW     0x8c                                                                                            
001864   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001866   0e01     MOVLW     0x1                                                                                             
001868   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00186a   0e01     MOVLW     0x1                                                                                             
00186c   6eee     MOVWF     0xee,0x0                                                                                        
00186e   6aee     CLRF      0xee,0x0                                                                                        
001870   6aee     CLRF      0xee,0x0                                                                                        
001872   6aee     CLRF      0xee,0x0                                                                                        
001874   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Steps[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001876   0d04     MULLW     0x4                                                                                             
001878   cff3     MOVFF     0xff3,0xfe9                                                                                     
00187a   ffe9                                                                                                               
00187c   cff4     MOVFF     0xff4,0xfea                                                                                     
00187e   ffea                                                                                                               
001880   0e94     MOVLW     0x94                                                                                            
001882   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001884   0e01     MOVLW     0x1                                                                                             
001886   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001888   6aee     CLRF      0xee,0x0                                                                                        
00188a   6aee     CLRF      0xee,0x0                                                                                        
00188c   6aee     CLRF      0xee,0x0                                                                                        
00188e   6aee     CLRF      0xee,0x0                                                                                        
001890   50df     MOVF      0xdf,0x0,0x0       CurrentCommand.m.sm.Accel[i] = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001892   0d04     MULLW     0x4                                                                                             
001894   cff3     MOVFF     0xff3,0xfe9                                                                                     
001896   ffe9                                                                                                               
001898   cff4     MOVFF     0xff4,0xfea                                                                                     
00189a   ffea                                                                                                               
00189c   0ea4     MOVLW     0xa4                                                                                            
00189e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0018a0   0e01     MOVLW     0x1                                                                                             
0018a2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0018a4   6aee     CLRF      0xee,0x0                                                                                        
0018a6   6aee     CLRF      0xee,0x0                                                                                        
0018a8   6aee     CLRF      0xee,0x0                                                                                        
0018aa   6aee     CLRF      0xee,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b0   0101     MOVLB     0x1              CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b2   6b85     CLRF      0x85,0x1                                                                                        
0018b4   0101     MOVLB     0x1              CurrentCommand.m.sm.DirBits = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018b6   6b86     CLRF      0x86,0x1                                                                                        
0018b8   0101     MOVLB     0x1              CurrentCommand.m.sm.DelayCounter = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ba   6b87     CLRF      0x87,0x1                                                                                        
0018bc   6b88     CLRF      0x88,0x1                                                                                        
0018be   6b89     CLRF      0x89,0x1                                                                                        
0018c0   6b8a     CLRF      0x8a,0x1                                                                                        
0018c2   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoPosition = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018c4   6bad     CLRF      0xad,0x1                                                                                        
0018c6   6bae     CLRF      0xae,0x1                                                                                        
0018c8   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRPn = 0;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ca   6bac     CLRF      0xac,0x1                                                                                        
0018cc   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoChannel = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ce   6baf     CLRF      0xaf,0x1                                                                                        
0018d0   0101     MOVLB     0x1              CurrentCommand.m.sm.ServoRate = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018d2   6bb0     CLRF      0xb0,0x1                                                                                        
0018d4   6bb1     CLRF      0xb1,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018d6   9006     BCF       0x6,0x0,0x0      bitclrzero(gRedLEDEmptyFIFO);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018d8   6a09     CLRF      0x9,0x0          TestMode = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up TMR1 for our 25KHz High ISR for stepping                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018da   82cd     BSF       0xcd,0x1,0x0     T1CONbits.RD16 = 1;       // Set 16 bit mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018dc   9ecd     BCF       0xcd,0x7,0x0     T1CONbits.TMR1CS1 = 0;    // System clocked from Fosc/4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018de   9ccd     BCF       0xcd,0x6,0x0     T1CONbits.TMR1CS0 = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e0   9acd     BCF       0xcd,0x5,0x0     T1CONbits.T1CKPS1 = 0;    // Use 1:1 Prescale value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e2   98cd     BCF       0xcd,0x4,0x0     T1CONbits.T1CKPS0 = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e4   96cd     BCF       0xcd,0x3,0x0     T1CONbits.T1OSCEN = 0;    // Don't use external osc                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e6   94cd     BCF       0xcd,0x2,0x0     T1CONbits.T1SYNC = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018e8   6acf     CLRF      0xcf,0x0         TMR1H = 0x00;             //                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ea   6ace     CLRF      0xce,0x0         TMR1L = 0x00;             // Give the timer about 5ms before it fires the first time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ec   809f     BSF       0x9f,0x0,0x0     IPR1bits.TMR1IP = 1;      // Use high priority interrupt                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018ee   909e     BCF       0x9e,0x0,0x0     PIR1bits.TMR1IF = 0;      // Clear the interrupt                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f0   809d     BSF       0x9d,0x0,0x0     PIE1bits.TMR1IE = 1;      // Turn on the interrupt                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f2   80cd     BSF       0xcd,0x0,0x0     T1CONbits.TMR1ON = 1;     // Turn the timer on                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTA = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f4   8092     BSF       0x92,0x0,0x0     RefRA0_IO_TRIS = INPUT_PIN;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTB = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  INTCON2bits.RBPU = 0;   // Turn on weak-pull ups for port B                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTC = 0;              // Start out low                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISC = 0x80;           // Make portC output except for PortC bit 7, USB bus sense D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISD = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  PORTE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  TRISE = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And make sure to always use low priority for ADC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f6   9c9f     BCF       0x9f,0x6,0x0     IPR1bits.ADIP = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Turn on AN0 (RA0) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018f8   0e01     MOVLW     0x1              AnalogConfigure(RA0_CUR_ADJ_ADC_CHANNEL,1);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0018fa   6ee6     MOVWF     0xe6,0x0                                                                                        
0018fc   6ae6     CLRF      0xe6,0x0                                                                                        
0018fe   ec5f     CALL      0x54be,0x0                                                                                      
001900   f02a                                                                                                               
001902   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001904   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             // Turn on AN11 (V+) as analog input                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001906   0e01     MOVLW     0x1              AnalogConfigure(RA11_VPLUS_POWER_ADC_CHANNEL,1);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001908   6ee6     MOVWF     0xe6,0x0                                                                                        
00190a   0e0b     MOVLW     0xb                                                                                             
00190c   6ee6     MOVWF     0xe6,0x0                                                                                        
00190e   ec5f     CALL      0x54be,0x0                                                                                      
001910   f02a                                                                                                               
001912   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001914   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001916   848d     BSF       0x8d,0x2,0x0     MS1_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001918   9496     BCF       0x96,0x2,0x0     MS1_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00191a   828d     BSF       0x8d,0x1,0x0     MS2_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00191c   9296     BCF       0x96,0x1,0x0     MS2_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00191e   8c89     BSF       0x89,0x6,0x0     MS3_IO = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001920   9c92     BCF       0x92,0x6,0x0     MS3_IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001922   808d     BSF       0x8d,0x0,0x0     Enable1IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001924   9096     BCF       0x96,0x0,0x0     Enable1IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001926   828b     BSF       0x8b,0x1,0x0     Enable2IO = 1;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001928   9294     BCF       0x94,0x1,0x0     Enable2IO_TRIS = OUTPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00192a   9c8c     BCF       0x8c,0x6,0x0     Step1IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00192c   9c95     BCF       0x95,0x6,0x0     Step1IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00192e   9e8c     BCF       0x8c,0x7,0x0     Dir1IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001930   9e95     BCF       0x95,0x7,0x0     Dir1IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001932   988c     BCF       0x8c,0x4,0x0     Step2IO = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001934   9895     BCF       0x95,0x4,0x0     Step2IO_TRIS = OUTPUT_PIN;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001936   9a8c     BCF       0x8c,0x5,0x0     Dir2IO = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001938   9a95     BCF       0x95,0x5,0x0     Dir2IO_TRIS = OUTPUT_PIN;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // For bug in VUSB divider resistor, set RC7 as output and set high            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait a little while to charge up                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then set back as an input                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The idea here is to get the Schmidt trigger input RC7 high before           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // we make it an input, thus getting it above the 2.65V ST threshold           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And allowing VUSB to keep the logic level on the pin high at 2.5V           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00193a   9e94     BCF       0x94,0x7,0x0     tris_usb_bus_sense = OUTPUT_PIN; // See HardwareProfile.h                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00193c   8e82     BSF       0x82,0x7,0x0     USB_BUS_SENSE = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00193e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001940   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001942   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001944   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001946   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001948   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00194a   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00194c   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00194e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001950   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001952   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001954   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001956   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001958   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00195a   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00195c   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00195e   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001960   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001962   0000     NOP                        Delay1TCY();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001964   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001966   9e82     BCF       0x82,0x7,0x0     USB_BUS_SENSE = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001968   0101     MOVLB     0x1              gUseSolenoid = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00196a   0e01     MOVLW     0x1                                                                                             
00196c   6fc1     MOVWF     0xc1,0x1                                                                                        
00196e   8005     BSF       0x5,0x0,0x0      bitsetzero(gUseRCPenServo);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up pen up/down direction as output                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001970   988a     BCF       0x8a,0x4,0x0     PenUpDownIO = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001972   9893     BCF       0x93,0x4,0x0     PenUpDownIO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up RC Servo power control to be off                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001974   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001976   9692     BCF       0x92,0x3,0x0     RCServoPowerIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001978   0101     MOVLB     0x1              SolenoidState = SOLENOID_ON;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00197a   0e01     MOVLW     0x1                                                                                             
00197c   6fb6     MOVWF     0xb6,0x1                                                                                        
00197e   6a04     CLRF      0x4,0x0          DriverConfiguration = PIC_CONTROLS_DRIVERS;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001980   0101     MOVLB     0x1              PenState = PEN_UP;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001982   0e01     MOVLW     0x1                                                                                             
001984   6fb9     MOVWF     0xb9,0x1                                                                                        
001986   6adf     CLRF      0xdf,0x0         for (i=0; i < SL_STORAGE_SIZE; i++)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001988   0e20     MOVLW     0x20                                                                                            
00198a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00198c   e209     BC        0x19a0                                                                                          
00199c   2adf     INCF      0xdf,0x1,0x0                                                                                    
00199e   d7f4     BRA       0x1988                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00198e   50df     MOVF      0xdf,0x0,0x0       gSL_Storage[i] = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001990   6aea     CLRF      0xea,0x0                                                                                        
001992   0f58     ADDLW     0x58                                                                                            
001994   6ee9     MOVWF     0xe9,0x0                                                                                        
001996   0e01     MOVLW     0x1                                                                                             
001998   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00199a   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019a0   0101     MOVLB     0x1              NodeCount = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019a2   6bba     CLRF      0xba,0x1                                                                                        
0019a4   6bbb     CLRF      0xbb,0x1                                                                                        
0019a6   6bbc     CLRF      0xbc,0x1                                                                                        
0019a8   6bbd     CLRF      0xbd,0x1                                                                                        
0019aa   6a07     CLRF      0x7,0x0          ButtonPushed = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ac   0101     MOVLB     0x1              gStandardizedCommandFormat = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ae   6bc3     CLRF      0xc3,0x1                                                                                        
0019b0   0101     MOVLB     0x1              gLimitChecks = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019b2   0e01     MOVLW     0x1                                                                                             
0019b4   6fc2     MOVWF     0xc2,0x1                                                                                        
0019b6   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019b8   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ba   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019bc   0e01     MOVLW     0x1              gCurrentFIFOLength = 1; // Default the FIFO length to 1 on boot                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019be   6e13     MOVWF     0x13,0x0                                                                                        
                                             //isr_FSR0L_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //isr_FSR0H_temp = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Start out FIFO out pointer on first element in FIFO array, which starts at  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // address 0x500                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019c0   0e05     MOVLW     0x5              FIFO_out_ptr_high = 0x05;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019c2   6e14     MOVWF     0x14,0x0                                                                                        
0019c4   6a15     CLRF      0x15,0x0         FIFO_out_ptr_low  = 0x00;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Default RB0 to be an input, with the pull-up enabled, for use as alternate  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // PAUSE button (just like PRG)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Except for v1.1 hardware, use RB2                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019c6   8093     BSF       0x93,0x0,0x0     TRISBbits.TRISB0 = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019c8   9ef1     BCF       0xf1,0x7,0x0     INTCON2bits.RBPU = 0;       // Turn on all of PortB pull-ups                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ca   8008     BSF       0x8,0x0,0x0      bitsetzero(UseAltPause);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019cc   9693     BCF       0x93,0x3,0x0     TRISBbits.TRISB3 = 0;       // Make RB3 an output (for engraver)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ce   9681     BCF       0x81,0x3,0x0     PORTBbits.RB3 = 0;          // And make sure it starts out off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // These are ISR variables, can't set them to zero in their definitions or     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the linker puts them in a different bank and ISR expands with more MOVLB    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // instructions.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d0   6a0b     CLRF      0xb,0x0          PortBTemp = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d2   6a0c     CLRF      0xc,0x0          gLimitSwitchMask = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d4   6a0d     CLRF      0xd,0x0          gLimitSwitchTarget = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d6   900e     BCF       0xe,0x0,0x0      bitclrzero(gLimitSwitchTriggered);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out global stepper positions                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019d8   ecaf     CALL      0x315e,0x0       clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019da   f018                                                                                                               
0019dc   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0019e0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0019e2   ffd9                                                                                                               
0019e4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Stepper (mode) Configure command                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,0<CR> will use just solenoid output for pen up/down                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,1<CR> will use servo on RB1 for pen up/down                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,1,2<CR> will use servo on RB1 for pen up/down, but with ECCP2 (PWM) in hardware (default) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,0<CR> will make PIC control drivers (default)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,1<CR> will make PIC control external drivers using these pins            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE1 = RD1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    ENABLE2 = RA1                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP1 = RC6                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR1 = RC2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    STEP2 = RA5                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    DIR2 = RA2                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,2,2<CR> will disconnect PIC from drivers and allow external step/dir source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,4,<servo2_min><CR> will set <servo2_min> as the minimum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,5,<servo2_max><CR> will set <servo2_max> as the maximum value for the servo (1 to 65535) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,6,<servo_min><CR> will set <servo_min> as the minimum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,7,<servo_max><CR> will set <servo_max> as the maximum value for the servo (1 to 11890) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,8,<servo2_slots><CR> sets the number of slots for the servo2 system (1 to 24) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,9,<servo2_slotMS><CR> sets the number of ms in duration for each slot (1 to 6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,10,<servo2_rate><CR> sets the rate of change for the servo (both up and down) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,11,<servo2_rate><CR> sets the pen up speed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,12,<servo2_rate><CR> sets the pen down speed                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,1<CR> enables RB3 as parallel input to PRG button for pause detection   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // SC,13,0<CR> disables RB3 as parallel input to PRG button for pause detection  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019e6   ec96     CALL      0x332c,0x0     void parse_SC_packet (void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019e8   f019                                                                                                               
0019ea   0e03     MOVLW     0x3                                                                                             
0019ec   eca6     CALL      0x354c,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019ee   f01a                                unsigned char Para1 = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned int Para2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f0   ecca     CALL      0x3994,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f2   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Para1, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f4   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &Para2, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019f6   ecb0     CALL      0x3b60,0x0                                                                                      
0019f8   f01d                                                                                                               
0019fa   ecd9     CALL      0x3bb2,0x0                                                                                      
0019fc   f01d                                                                                                               
003b60   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003b62   0f01     ADDLW     0x1                                                                                             
003b64   6ee6     MOVWF     0xe6,0x0                                                                                        
003b66   0e00     MOVLW     0x0                                                                                             
003b68   20da     ADDWFC    0xda,0x0,0x0                                                                                    
003b6a   6ee6     MOVWF     0xe6,0x0                                                                                        
003b6c   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0019fe   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a00   5197     MOVF      0x97,0x0,0x1                                                                                    
001a02   e001     BZ        0x1a06                                                                                          
001a04   d0ab     BRA       0x1b5c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to select which (solenoid/servo) gets used for pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a06   04df     DECF      0xdf,0x0,0x0     if (Para1 == 1u)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a08   e120     BNZ       0x1a4a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just solenoid                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a0a   ecc7     CALL      0x3b8e,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a0c   f01d                                                                                                               
001a0e   e107     BNZ       0x1a1e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a10   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a12   0e01     MOVLW     0x1                                                                                             
001a14   6fc1     MOVWF     0xc1,0x1                                                                                        
001a16   9005     BCF       0x5,0x0,0x0          bitclrzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Turn off RC signal on Pen Servo output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a18   ece8     CALL      0x35d0,0x0           RCServo2_Move(0, g_servo2_RPn, 0, 0);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a1a   f01a                                                                                                               
0035d0   0e00     MOVLW     0x0                                                                                             
0035d2   6ee6     MOVWF     0xe6,0x0                                                                                        
0035d4   6ae6     CLRF      0xe6,0x0                                                                                        
0035d6   6ee6     MOVWF     0xe6,0x0                                                                                        
0035d8   6ae6     CLRF      0xe6,0x0                                                                                        
0035da   c08a     MOVFF     0x8a,0xfe6                                                                                      
0035dc   ffe6                                                                                                               
0035de   6ee6     MOVWF     0xe6,0x0                                                                                        
0035e0   6ae6     CLRF      0xe6,0x0                                                                                        
0035e2   efb7     GOTO      0x3b6e                                                                                          
0035e4   f01d                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use just RC servo                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a1c   d00e     BRA       0x1a3a             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a1e   ec46     CALL      0x348c,0x0                                                                                      
001a20   f01a                                                                                                               
001a22   0e01     MOVLW     0x1                                                                                             
001a24   18ee     XORWF     0xee,0x0,0x0                                                                                    
001a26   e105     BNZ       0x1a32                                                                                          
001a28   50ed     MOVF      0xed,0x0,0x0                                                                                    
001a2a   e103     BNZ       0x1a32                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a2c   0101     MOVLB     0x1                  gUseSolenoid = FALSE;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a2e   6bc1     CLRF      0xc1,0x1                                                                                        
                                                 bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Use solenoid AND servo (default)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a30   d003     BRA       0x1a38             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a32   0101     MOVLB     0x1                  gUseSolenoid = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a34   0e01     MOVLW     0x1                                                                                             
001a36   6fc1     MOVWF     0xc1,0x1                                                                                        
001a38   8005     BSF       0x5,0x0,0x0          bitsetzero(gUseRCPenServo);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Send a new command to set the state of the servo/solenoid                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3a   0e00     MOVLW     0x0                process_SP(PenState, 0);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a3c   6ee6     MOVWF     0xe6,0x0                                                                                        
001a3e   6ae6     CLRF      0xe6,0x0                                                                                        
001a40   c1b9     MOVFF     0x1b9,0xfe6                                                                                     
001a42   ffe6                                                                                                               
001a44   ece8     CALL      0x37d0,0x0                                                                                      
001a46   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for command to switch between built-in drivers and external drivers   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a48   d087     BRA       0x1b58           else if (Para1 == 2u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a4a   0e02     MOVLW     0x2                                                                                             
001a4c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001a4e   e12d     BNZ       0x1aaa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a50   ecc7     CALL      0x3b8e,0x0         if (Para2 == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a52   f01d                                                                                                               
001a54   e108     BNZ       0x1a66                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a56   6a04     CLRF      0x4,0x0              DriverConfiguration = PIC_CONTROLS_DRIVERS;                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Connections to drivers become outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a58   9096     BCF       0x96,0x0,0x0         Enable1IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5a   9294     BCF       0x94,0x1,0x0         Enable2IO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5c   9c95     BCF       0x95,0x6,0x0         Step1IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a5e   9e95     BCF       0x95,0x7,0x0         Dir1IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a60   9895     BCF       0x95,0x4,0x0         Step2IO_TRIS = OUTPUT_PIN;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a62   9a95     BCF       0x95,0x5,0x0         Dir2IO_TRIS = OUTPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a64   d01b     BRA       0x1a9c             else if (Para2 == 1u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a66   ec46     CALL      0x348c,0x0                                                                                      
001a68   f01a                                                                                                               
001a6a   0e01     MOVLW     0x1                                                                                             
001a6c   18ee     XORWF     0xee,0x0,0x0                                                                                    
001a6e   e10c     BNZ       0x1a88                                                                                          
001a70   50ed     MOVF      0xed,0x0,0x0                                                                                    
001a72   e10a     BNZ       0x1a88                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a74   0e01     MOVLW     0x1                  DriverConfiguration = PIC_CONTROLS_EXTERNAL;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a76   ec05     CALL      0x380a,0x0                                                                                      
00380a   6e04                                                                                                               
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a78   f01c     WORD2     0x1c                 Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00380c   8096     BSF       0x96,0x0,0x0                                                                                    
00380e   8294     BSF       0x94,0x1,0x0         Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003810   8c95     BSF       0x95,0x6,0x0         Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003812   8e95     BSF       0x95,0x7,0x0         Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003814   8895     BSF       0x95,0x4,0x0         Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003816   8a95     BSF       0x95,0x5,0x0         Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003818   0012     RETURN    0x0                                                                                             
                                                 // Alternate I/O pins become outputs                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7a   9494     BCF       0x94,0x2,0x0         Dir1AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7c   9492     BCF       0x92,0x2,0x0         Dir2AltIO_TRIS = OUTPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a7e   9c94     BCF       0x94,0x6,0x0         Step1AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a80   9a92     BCF       0x92,0x5,0x0         Step2AltIO_TRIS = OUTPUT_PIN;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a82   9295     BCF       0x95,0x1,0x0         Enable1AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a84   9292     BCF       0x92,0x1,0x0         Enable2AltIO_TRIS = OUTPUT_PIN;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a86   d068     BRA       0x1b58             else if (Para2 == 2u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a88   ec46     CALL      0x348c,0x0                                                                                      
001a8a   f01a                                                                                                               
001a8c   0e02     MOVLW     0x2                                                                                             
001a8e   18ee     XORWF     0xee,0x0,0x0                                                                                    
001a90   e163     BNZ       0x1b58                                                                                          
001a92   50ed     MOVF      0xed,0x0,0x0                                                                                    
001a94   e161     BNZ       0x1b58                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a96   0e02     MOVLW     0x2                  DriverConfiguration = EXTERNAL_CONTROLS_DRIVERS;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a98   ec05     CALL      0x380a,0x0                                                                                      
                                                 // Connections to drivers become inputs                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a9a   f01c                                    Enable1IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Enable2IO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step1IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir1IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Step2IO_TRIS = INPUT_PIN;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 Dir2IO_TRIS = INPUT_PIN;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Alternate I/O pins become inputs                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a9c   8494     BSF       0x94,0x2,0x0         Dir1AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001a9e   8492     BSF       0x92,0x2,0x0         Dir2AltIO_TRIS = INPUT_PIN;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa0   8c94     BSF       0x94,0x6,0x0         Step1AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa2   8a92     BSF       0x92,0x5,0x0         Step2AltIO_TRIS = INPUT_PIN;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa4   8295     BSF       0x95,0x1,0x0         Enable1AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa6   8292     BSF       0x92,0x1,0x0         Enable2AltIO_TRIS = INPUT_PIN;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <min_servo> for Servo2 method                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aa8   d057     BRA       0x1b58           else if (Para1 == 4u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aaa   0e04     MOVLW     0x4                                                                                             
001aac   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001aae   e107     BNZ       0x1abe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab0   0e01     MOVLW     0x1                g_servo2_min = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ab2   cfdb     MOVFF     0xfdb,0x84                                                                                      
001ab4   f084                                                                                                               
001ab6   0e02     MOVLW     0x2                                                                                             
001ab8   cfdb     MOVFF     0xfdb,0x85                                                                                      
001aba   f085                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <max_servo> for Servo2                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001abc   d04d     BRA       0x1b58           else if (Para1 == 5u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001abe   0e05     MOVLW     0x5                                                                                             
001ac0   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001ac2   e107     BNZ       0x1ad2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac4   0e01     MOVLW     0x1                g_servo2_max = Para2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ac6   cfdb     MOVFF     0xfdb,0x82                                                                                      
001ac8   f082                                                                                                               
001aca   0e02     MOVLW     0x2                                                                                             
001acc   cfdb     MOVFF     0xfdb,0x83                                                                                      
001ace   f083                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set <gRC2Slots>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad0   d043     BRA       0x1b58           else if (Para1 == 8u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad2   0e08     MOVLW     0x8                                                                                             
001ad4   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001ad6   e10f     BNZ       0x1af6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ad8   ec46     CALL      0x348c,0x0         if (Para2 > MAX_RC2_SERVOS)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ada   f01a                                                                                                               
001adc   0e04     MOVLW     0x4                                                                                             
001ade   80d8     BSF       0xd8,0x0,0x0                                                                                    
001ae0   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
001ae2   0e00     MOVLW     0x0                                                                                             
001ae4   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
001ae6   e203     BC        0x1aee                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ae8   0e04     MOVLW     0x4                  Para2 = MAX_RC2_SERVOS;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aea   ec2f     CALL      0x385e,0x0                                                                                      
001aec   f01c                                                                                                               
00385e   6ef3     MOVWF     0xf3,0x0                                                                                        
003860   0e01     MOVLW     0x1                                                                                             
003862   cff3     MOVFF     0xff3,0xfdb                                                                                     
003864   ffdb                                                                                                               
003866   0e02     MOVLW     0x2                                                                                             
003868   6adb     CLRF      0xdb,0x0                                                                                        
00386a   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001aee   0e01     MOVLW     0x1                gRC2Slots = Para2;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af0   cfdb     MOVFF     0xfdb,0x7e                                                                                      
001af2   f07e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af4   d031     BRA       0x1b58           else if (Para1 == 9u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001af6   0e09     MOVLW     0x9                                                                                             
001af8   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001afa   e10f     BNZ       0x1b1a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001afc   ec46     CALL      0x348c,0x0         if (Para2 > 6u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001afe   f01a                                                                                                               
001b00   0e06     MOVLW     0x6                                                                                             
001b02   80d8     BSF       0xd8,0x0,0x0                                                                                    
001b04   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
001b06   0e00     MOVLW     0x0                                                                                             
001b08   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
001b0a   e203     BC        0x1b12                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b0c   0e06     MOVLW     0x6                  Para2 = 6;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b0e   ec2f     CALL      0x385e,0x0                                                                                      
001b10   f01c                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b12   0e01     MOVLW     0x1                gRC2SlotMS = Para2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b14   cfdb     MOVFF     0xfdb,0x7f                                                                                      
001b16   f07f                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b18   d01f     BRA       0x1b58           else if (Para1 == 10u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b1a   0e0a     MOVLW     0xa                                                                                             
001b1c   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001b1e   e103     BNZ       0x1b26                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b20   ec36     CALL      0x386c,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b22   f01c                                                                                                               
00386c   0e01     MOVLW     0x1                                                                                             
00386e   cfdb     MOVFF     0xfdb,0x86                                                                                      
003870   f086                                                                                                               
003872   0e02     MOVLW     0x2                                                                                             
003874   cfdb     MOVFF     0xfdb,0x87                                                                                      
003876   f087                                                                                                               
003878   0012     RETURN    0x0                                                                                             
                                               g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b24   d009     BRA       0x1b38           else if (Para1 == 11u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b26   0e0b     MOVLW     0xb                                                                                             
001b28   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001b2a   e103     BNZ       0x1b32                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b2c   ec36     CALL      0x386c,0x0         g_servo2_rate_up = Para2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b2e   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b30   d013     BRA       0x1b58           else if (Para1 == 12u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b32   0e0c     MOVLW     0xc                                                                                             
001b34   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001b36   e107     BNZ       0x1b46                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b38   0e01     MOVLW     0x1                g_servo2_rate_down = Para2;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b3a   cfdb     MOVFF     0xfdb,0x88                                                                                      
001b3c   f088                                                                                                               
001b3e   0e02     MOVLW     0x2                                                                                             
001b40   cfdb     MOVFF     0xfdb,0x89                                                                                      
001b42   f089                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b44   d009     BRA       0x1b58             else if (Para1 == 13u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b46   0e0d     MOVLW     0xd                                                                                             
001b48   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001b4a   e106     BNZ       0x1b58                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b4c   ecc7     CALL      0x3b8e,0x0         if (Para2)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b4e   f01d                                                                                                               
001b50   e002     BZ        0x1b56                                                                                          
00348c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00348e   0f01     ADDLW     0x1                                                                                             
003490   6ee9     MOVWF     0xe9,0x0                                                                                        
003492   cfda     MOVFF     0xfda,0xfea                                                                                     
003494   ffea                                                                                                               
003496   0012     RETURN    0x0                                                                                             
003b8e   dc7e     RCALL     0x348c                                                                                          
003b90   50ee     MOVF      0xee,0x0,0x0                                                                                    
003b92   10ed     IORWF     0xed,0x0,0x0                                                                                    
003b94   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b52   8008     BSF       0x8,0x0,0x0          bitsetzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b54   d001     BRA       0x1b58             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b56   9008     BCF       0x8,0x0,0x0          bitclrzero(UseAltPause);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b58   ec9b     CALL      0x3336,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b5a   f019                                                                                                               
001b5c   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b5e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001b60   e202     BC        0x1b66                                                                                          
001b62   6ae1     CLRF      0xe1,0x0                                                                                        
001b64   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001b66   ef93     GOTO      0x3326                                                                                          
001b68   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Move command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LM,<Rate1>,<Steps1>,<Accel1>,<Rate2>,<Steps2>,<Accel2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for v2.8.0 and below                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions you can use the sign of the steps values to control the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b6a   ecf1     CALL      0x3be2,0x0     void parse_LM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b6c   f01d                                                                                                               
003be2   dfa4     RCALL     0x3b2c                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003be4   d8ba     RCALL     0x3d5a           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d5a   ecf6     CALL      0x17ec,0x0                                                                                      
003d5c   f00b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d5e   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d60   ec6c     CALL      0x32d8,0x0                                                                                      
003d62   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003be6   0ed0     MOVLW     0xd0             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003be8   6ee6     MOVWF     0xe6,0x0                                                                                        
003bea   0e01     MOVLW     0x1                                                                                             
003bec   de99     RCALL     0x3920                                                                                          
003d64   6ae6     CLRF      0xe6,0x0                                                                                        
003d66   0012     RETURN    0x0                                                                                             
003bee   0ed4     MOVLW     0xd4             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bf0   6ee6     MOVWF     0xe6,0x0                                                                                        
003bf2   0e01     MOVLW     0x1                                                                                             
003bf4   d0c1     BRA       0x3d78                                                                                          
003d78   ddd3     RCALL     0x3920                                                                                          
003d7a   0ed8     MOVLW     0xd8             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d7c   6ee6     MOVWF     0xe6,0x0                                                                                        
003d7e   0e01     MOVLW     0x1                                                                                             
003d80   ef90     GOTO      0x3920                                                                                          
003d82   f01c                                                                                                               
001b6e   0ee0     MOVLW     0xe0             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b70   6ee6     MOVWF     0xe6,0x0                                                                                        
001b72   0e01     MOVLW     0x1                                                                                             
001b74   ec72     CALL      0x3ce4,0x0                                                                                      
001b76   f01e                                                                                                               
001b78   ec3d     CALL      0x3c7a,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b7a   f01e                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b7c   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b7e   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b80   5197     MOVF      0x97,0x0,0x1                                                                                    
001b82   e127     BNZ       0x1bd2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b84   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b86   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001b88   e01d     BZ        0x1bc4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LM,1,0,2,0,0,0. Or LM,0,1,0,0,0,0,0 GH issue #78                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b8a   51d0     MOVF      0xd0,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b8c   11d1     IORWF     0xd1,0x0,0x1                                                                                    
001b8e   11d2     IORWF     0xd2,0x0,0x1                                                                                    
001b90   11d3     IORWF     0xd3,0x0,0x1                                                                                    
001b92   e105     BNZ       0x1b9e                                                                                          
001b94   51d8     MOVF      0xd8,0x0,0x1                                                                                    
001b96   11d9     IORWF     0xd9,0x0,0x1                                                                                    
001b98   11da     IORWF     0xda,0x0,0x1                                                                                    
001b9a   11db     IORWF     0xdb,0x0,0x1                                                                                    
001b9c   e003     BZ        0x1ba4                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001b9e   ec57     CALL      0x36ae,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ba0   f01b                                                                                                               
001ba2   e110     BNZ       0x1bc4               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ba4   51e0     MOVF      0xe0,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ba6   11e1     IORWF     0xe1,0x0,0x1                                                                                    
001ba8   11e2     IORWF     0xe2,0x0,0x1                                                                                    
001baa   11e3     IORWF     0xe3,0x0,0x1                                                                                    
001bac   e105     BNZ       0x1bb8                                                                                          
001bae   51e8     MOVF      0xe8,0x0,0x1                                                                                    
001bb0   11e9     IORWF     0xe9,0x0,0x1                                                                                    
001bb2   11ea     IORWF     0xea,0x0,0x1                                                                                    
001bb4   11eb     IORWF     0xeb,0x0,0x1                                                                                    
001bb6   e003     BZ        0x1bbe                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bb8   ec5c     CALL      0x36b8,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bba   f01b                                                                                                               
001bbc   e103     BNZ       0x1bc4               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bbe   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bc0   8d97     BSF       0x97,0x6,0x1                                                                                    
001bc2   d007     BRA       0x1bd2               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't need Intervals or Jerks, so set them to zero before calling low_level D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bc4   ec50     CALL      0x38a0,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bc6   f01c                                                                                                               
001bc8   ec6d     CALL      0x36da,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bca   f01b                                                                                                               
0036da   6bdc     CLRF      0xdc,0x1                                                                                        
0036dc   6bdd     CLRF      0xdd,0x1                                                                                        
0036de   6bde     CLRF      0xde,0x1                                                                                        
0036e0   6bdf     CLRF      0xdf,0x1                                                                                        
0036e2   6bec     CLRF      0xec,0x1         gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0036e4   6bed     CLRF      0xed,0x1                                                                                        
0036e6   6bee     CLRF      0xee,0x1                                                                                        
0036e8   6bef     CLRF      0xef,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bcc   6ae6     CLRF      0xe6,0x0         process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bce   ecfb     CALL      0x37f6,0x0                                                                                      
001bd0   f01b                                                                                                               
0036ea   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
0036ec   ffe6                                                                                                               
0036ee   0012     RETURN    0x0                                                                                             
001bd2   efb2     GOTO      0x3564         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd4   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level third derivative Move command                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Rate1>,<Steps1>,<Accel1>,<Jerk1>,<Rate2>,<Steps2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Is for doing low level moves with optional acceleration and jerk,             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are signed 32-bit integers                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Negative values indicate movement in the opposite direction.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // They are the values added to the accumulator every 25KHz.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Steps1> and <Steps2> are signed 32-bit integers. Each axis will take         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <steps> steps and then stop.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once both axis are done moving, the command is complete.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed integers. Their values are added to   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> respectively every ISR tick.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are applied to <Rate1> and <Rate2> every ISR tick.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // See full EBB docs for more complete documentation.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that as a legacy mode for compatibility with v2.8.0 and below            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // software versions. You can use the sign of the steps values to control the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // initial direction of each axis, but then <Rate> must not be negative.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 1's accumulator before starting the move. A value of 2 will       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // clear Motor 2's accumulator. And a value of 3 will clear both.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd6   ecf1     CALL      0x3be2,0x0     void parse_L3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bd8   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gSteps1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bda   ecb4     CALL      0x3d68,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bdc   f01e                                                                                                               
003d68   0edc     MOVLW     0xdc                                                                                            
003d6a   6ee6     MOVWF     0xe6,0x0                                                                                        
003d6c   0e01     MOVLW     0x1                                                                                             
003d6e   ddd8     RCALL     0x3920                                                                                          
001bde   ec72     CALL      0x3ce4,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be0   f01e                                                                                                               
003ce4   de1d     RCALL     0x3920                                                                                          
003d70   0ee0     MOVLW     0xe0                                                                                            
003d72   6ee6     MOVWF     0xe6,0x0                                                                                        
003d74   0e01     MOVLW     0x1                                                                                             
003d76   0012     RETURN    0x0                                                                                             
001be2   ecfb     CALL      0x3bf6,0x0       extract_number(kLONG,  &gSteps2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be4   f01d                                                                                                               
003bf6   de94     RCALL     0x3920                                                                                          
003ce6   0ee4     MOVLW     0xe4                                                                                            
003ce8   6ee6     MOVWF     0xe6,0x0                                                                                        
003cea   0e01     MOVLW     0x1                                                                                             
003cec   0012     RETURN    0x0                                                                                             
003bf8   0ee8     MOVLW     0xe8             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003bfa   6ee6     MOVWF     0xe6,0x0                                                                                        
003bfc   0e01     MOVLW     0x1                                                                                             
003bfe   de90     RCALL     0x3920                                                                                          
003c00   0eec     MOVLW     0xec             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c02   6ee6     MOVWF     0xe6,0x0                                                                                        
003c04   0e01     MOVLW     0x1                                                                                             
003c06   de91     RCALL     0x392a                                                                                          
003c08   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be6   e131     BNZ       0x1c4a           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c0a   0100     MOVLB     0x0                                                                                             
003c0c   5197     MOVF      0x97,0x0,0x1                                                                                    
003c0e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001be8   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bea   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001bec   e027     BZ        0x1c3c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Quickly eliminate obvious invalid parameter combinations,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like L3,1,0,2,3,0,0,0,0. Or L3,0,1,0,0,0,0,0,0,0 GH issue #78             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bee   51d0     MOVF      0xd0,0x0,0x1           ((gRate1 == 0) && (gAccel1 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001bf0   11d1     IORWF     0xd1,0x0,0x1                                                                                    
001bf2   11d2     IORWF     0xd2,0x0,0x1                                                                                    
001bf4   11d3     IORWF     0xd3,0x0,0x1                                                                                    
001bf6   e10a     BNZ       0x1c0c                                                                                          
001bf8   51d8     MOVF      0xd8,0x0,0x1                                                                                    
001bfa   11d9     IORWF     0xd9,0x0,0x1                                                                                    
001bfc   11da     IORWF     0xda,0x0,0x1                                                                                    
001bfe   11db     IORWF     0xdb,0x0,0x1                                                                                    
001c00   e105     BNZ       0x1c0c                                                                                          
001c02   51dc     MOVF      0xdc,0x0,0x1                                                                                    
001c04   11dd     IORWF     0xdd,0x0,0x1                                                                                    
001c06   11de     IORWF     0xde,0x0,0x1                                                                                    
001c08   11df     IORWF     0xdf,0x0,0x1                                                                                    
001c0a   e003     BZ        0x1c12                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c0c   ec57     CALL      0x36ae,0x0             (gSteps1 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c0e   f01b                                                                                                               
001c10   e115     BNZ       0x1c3c               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c12   51e0     MOVF      0xe0,0x0,0x1           ((gRate2 == 0) && (gAccel2 == 0) && (gJerk1 == 0))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c14   11e1     IORWF     0xe1,0x0,0x1                                                                                    
001c16   11e2     IORWF     0xe2,0x0,0x1                                                                                    
001c18   11e3     IORWF     0xe3,0x0,0x1                                                                                    
001c1a   e10a     BNZ       0x1c30                                                                                          
001c1c   51e8     MOVF      0xe8,0x0,0x1                                                                                    
001c1e   11e9     IORWF     0xe9,0x0,0x1                                                                                    
001c20   11ea     IORWF     0xea,0x0,0x1                                                                                    
001c22   11eb     IORWF     0xeb,0x0,0x1                                                                                    
001c24   e105     BNZ       0x1c30                                                                                          
001c26   51dc     MOVF      0xdc,0x0,0x1                                                                                    
001c28   11dd     IORWF     0xdd,0x0,0x1                                                                                    
001c2a   11de     IORWF     0xde,0x0,0x1                                                                                    
001c2c   11df     IORWF     0xdf,0x0,0x1                                                                                    
001c2e   e003     BZ        0x1c36                                                                                          
                                                   ||                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c30   ec5c     CALL      0x36b8,0x0             (gSteps2 == 0)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c32   f01b                                                                                                               
001c34   e103     BNZ       0x1c3c               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c36   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c38   8d97     BSF       0x97,0x6,0x1                                                                                    
001c3a   d007     BRA       0x1c4a               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Intervals, so set it to zero here                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c3c   ec50     CALL      0x38a0,0x0       gIntervals = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c3e   f01c                                                                                                               
0038a0   6bc8     CLRF      0xc8,0x1                                                                                        
0038a2   6bc9     CLRF      0xc9,0x1                                                                                        
0038a4   6bca     CLRF      0xca,0x1                                                                                        
0038a6   6bcb     CLRF      0xcb,0x1                                                                                        
0038a8   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c40   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(FALSE, ClearRet);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c42   ffe6                                                                                                               
001c44   6ae6     CLRF      0xe6,0x0                                                                                        
001c46   ecfb     CALL      0x37f6,0x0                                                                                      
001c48   f01b                                                                                                               
001c4a   efb2     GOTO      0x3564         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c4c   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed third derivative Move command                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: L3,<Intervals>,<Rate1>,<Accel1>,<Jerk1>,<Rate2>,<Accel2>,<Jerk2>,<ClearAccs><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Rate1> and <Rate2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Jerk1> and <Jerk2> are 32 bit signed ints                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c4e   ec08     CALL      0x3c10,0x0     void parse_T3_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c50   f01e                                                                                                               
003c10   df8d     RCALL     0x3b2c                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c12   dea7     RCALL     0x3962           clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c14   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c16   0ed0     MOVLW     0xd0                                                                                            
003c18   6ee6     MOVWF     0xe6,0x0                                                                                        
003c1a   0e01     MOVLW     0x1                                                                                             
003c1c   d0ad     BRA       0x3d78                                                                                          
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c52   ecb4     CALL      0x3d68,0x0       extract_number(kLONG,  &gJerk1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c54   f01e                                                                                                               
001c56   ecfb     CALL      0x3bf6,0x0       extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c58   f01d                                                                                                               
                                             extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gJerk2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c5a   e111     BNZ       0x1c7e           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c5c   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c5e   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001c60   e006     BZ        0x1c6e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c62   ec88     CALL      0x3710,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c64   f01b                                                                                                               
001c66   e103     BNZ       0x1c6e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c68   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c6a   8d97     BSF       0x97,0x6,0x1                                                                                    
001c6c   d008     BRA       0x1c7e               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps so clear them here before calling low_level              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c6e   eca0     CALL      0x3740,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c70   f01b                                                                                                               
003740   6bd4     CLRF      0xd4,0x1                                                                                        
003742   6bd5     CLRF      0xd5,0x1                                                                                        
003744   6bd6     CLRF      0xd6,0x1                                                                                        
003746   6bd7     CLRF      0xd7,0x1                                                                                        
003748   6be4     CLRF      0xe4,0x1         gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00374a   6be5     CLRF      0xe5,0x1                                                                                        
00374c   6be6     CLRF      0xe6,0x1                                                                                        
00374e   6be7     CLRF      0xe7,0x1                                                                                        
003750   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c72   cfdf     MOVFF     0xfdf,0xfe6      process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c74   ffe6                                                                                                               
001c76   0e01     MOVLW     0x1                                                                                             
001c78   6ee6     MOVWF     0xe6,0x0                                                                                        
001c7a   ecfb     CALL      0x37f6,0x0                                                                                      
001c7c   f01b                                                                                                               
001c7e   efb2     GOTO      0x3564         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c80   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Low Level Timed Move command                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: LT,<Intervals>,<Rate1>,<Accel1>,<Rate2>,<Accel2>,<ClearAccs><CR>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command is a modified version of the LM command. Instead of stepping for a certain number of steps D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on each axis at a given rate (with an acceleration term for each as well), this command will step  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for a certain duration, no matter the step count. The rate and acceleration of each axis are still D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // specified separately.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that <Intervals> is a 32-bit unsigned int and is in units of ISR ticks.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Accel1> and <Accel2> are 32 bit signed ints, and <Rate1> and <Rate2> are 32 bit signed ints.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The sign of <Rate1> and <Rate2> determine the direction that the axis will move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // After the signs are taken into account for direction purposes, the Rate values D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // are converted to unsigned 31 bit numbers.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is optional. A value of 0 will do nothing. A value of 1 will clear Motor 1's accumulator before D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // starting the move. A value of 2 will clear Motor 2's accumulator. And a value of 3 will clear both. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c82   ec08     CALL      0x3c10,0x0     void parse_LT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c84   f01e                                                                                                               
003b2c   ec96     CALL      0x332c,0x0                                                                                      
003b2e   f019                                                                                                               
003b30   52e6     MOVF      0xe6,0x1,0x0                                                                                    
003b32   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType ClearRet;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gIntervals, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gRate1,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kLONG,  &gAccel1,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c86   0ee0     MOVLW     0xe0             extract_number(kLONG,  &gRate2,     kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c88   6ee6     MOVWF     0xe6,0x0                                                                                        
001c8a   0e01     MOVLW     0x1                                                                                             
001c8c   ec3d     CALL      0x3c7a,0x0                                                                                      
001c8e   f01e                                                                                                               
003c7a   de52     RCALL     0x3920                                                                                          
00392a   d9ad     RCALL     0x3c86           extract_number(kLONG,  &gAccel2,    kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c7c   0ee8     MOVLW     0xe8                                                                                            
003c7e   6ee6     MOVWF     0xe6,0x0                                                                                        
003c80   0e01     MOVLW     0x1                                                                                             
003c82   ef95     GOTO      0x392a                                                                                          
003c84   f01c                                                                                                               
003c86   6ee6     MOVWF     0xe6,0x0                                                                                        
003c88   0e06     MOVLW     0x6                                                                                             
003c8a   ecb8     CALL      0x3170,0x0                                                                                      
003c8c   f018                                                                                                               
001c90   6edf     MOVWF     0xdf,0x0         ClearRet = extract_number(kULONG, &gClearAccs, kOPTIONAL);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00392c   6ee6     MOVWF     0xe6,0x0                                                                                        
00392e   0ecc     MOVLW     0xcc                                                                                            
003930   6ee6     MOVWF     0xe6,0x0                                                                                        
003932   0e01     MOVLW     0x1                                                                                             
003934   ef9e     GOTO      0x3d3c                                                                                          
003936   f01e                                                                                                               
003c8e   0e01     MOVLW     0x1                                                                                             
003c90   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c92   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c94   5197     MOVF      0x97,0x0,0x1                                                                                    
001c96   e111     BNZ       0x1cba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c98   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c9a   51c2     MOVF      0xc2,0x0,0x1                                                                                    
001c9c   e006     BZ        0x1caa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Eliminate obvious invalid parameter combinations,                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // like LT,0,X,X,X,X,X                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001c9e   ec88     CALL      0x3710,0x0         if (gIntervals == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ca0   f01b                                                                                                               
001ca2   e103     BNZ       0x1caa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ca4   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ca6   8d97     BSF       0x97,0x6,0x1                                                                                    
001ca8   d008     BRA       0x1cba               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We don't use Steps or Jerk, so set them to zero here                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001caa   eca0     CALL      0x3740,0x0       gSteps1 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cac   f01b                                                                                                               
                                             gSteps2 = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cae   ec6d     CALL      0x36da,0x0       gJerk1 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb0   f01b                                                                                                               
                                             gJerk2 = 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb2   0e01     MOVLW     0x1              process_low_level_move(TRUE, ClearRet);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cb4   6ee6     MOVWF     0xe6,0x0                                                                                        
001cb6   ecfb     CALL      0x37f6,0x0                                                                                      
001cb8   f01b                                                                                                               
0037f6   ec5f     CALL      0x1cbe,0x0                                                                                      
0037f8   f00e                                                                                                               
0037fa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0037fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0037fe   0012     RETURN    0x0                                                                                             
001cba   efb2     GOTO      0x3564         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cbc   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because the code for LM, L3, LT and T3 is really the same we call a common    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // processing function from all of them once their parameters are parsed into    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // variables.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The caller must understand that this function changes some/all of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // global values used to pass in parameters. If it needs to preserve any         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // of those values it should make copies.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function takes input parameters in:                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gIntervals                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gRate2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gSteps2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel1                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gAccel2                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk1                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gJerk2                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gClearAccs                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cbe   ec96     CALL      0x332c,0x0     void process_low_level_move(BOOL TimedMove, ExtractReturnType ClearRet)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc0   f019                                                                                                               
001cc2   0e05     MOVLW     0x5                                                                                             
001cc4   ec0d     CALL      0x381a,0x0                                                                                      
00381a   26e1                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc6   f01c     WORD2     0x1c             INT32 RateTemp = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00381c   6ade     CLRF      0xde,0x0                                                                                        
00381e   6ade     CLRF      0xde,0x0                                                                                        
003820   6ade     CLRF      0xde,0x0                                                                                        
003822   6add     CLRF      0xdd,0x0                                                                                        
003824   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003826   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003828   0012     RETURN    0x0                                                                                             
                                             BOOL NeedNegativeAccumulator;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cc8   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cca   d211     BRA       0x20ee                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ccc   b409     BTFSC     0x9,0x2,0x0      if (!bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cce   d008     BRA       0x1ce0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd0   ec9b     CALL      0x3536,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd2   f01a                                                                                                               
001cd4   e205     BC        0x1ce0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd6   0e03     MOVLW     0x3                  gClearAccs = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cd8   6fcc     MOVWF     0xcc,0x1                                                                                        
001cda   6bcd     CLRF      0xcd,0x1                                                                                        
001cdc   6bce     CLRF      0xce,0x1                                                                                        
001cde   6bcf     CLRF      0xcf,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If not a timed move, check for legacy opposite direction support            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ce0   0efe     MOVLW     0xfe             if (!TimedMove)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ce2   50db     MOVF      0xdb,0x0,0x0                                                                                    
001ce4   e132     BNZ       0x1d4a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Since we will only use the sign of Rate as the signal for initial         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // stepper direction, if the user has sent us negative step counts, we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // apply a 'legacy' mode rule here : if steps are negative, make sure        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // rate is positive, then make steps positive and rate negative and invert   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // acceleration too to compensate. After this step, the sign of rate completely D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // controls the direction.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ce6   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ce8   0e80     MOVLW     0x80                                                                                            
001cea   15d7     ANDWF     0xd7,0x0,0x1                                                                                    
001cec   e014     BZ        0x1d16                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cee   0e80     MOVLW     0x80                 if (gRate1 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf0   15d3     ANDWF     0xd3,0x0,0x1                                                                                    
001cf2   e117     BNZ       0x1d22                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf4   0e00     MOVLW     0x0                    gSteps1 = -gSteps1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cf6   ec7f     CALL      0x3afe,0x0                                                                                      
001cf8   f01d                                                                                                               
003afe   6dd4     NEGF      0xd4,0x1                                                                                        
003b00   1fd5     COMF      0xd5,0x1,0x1                                                                                    
003b02   23d5     ADDWFC    0xd5,0x1,0x1                                                                                    
003b04   1fd6     COMF      0xd6,0x1,0x1                                                                                    
003b06   23d6     ADDWFC    0xd6,0x1,0x1                                                                                    
003b08   1fd7     COMF      0xd7,0x1,0x1                                                                                    
003b0a   23d7     ADDWFC    0xd7,0x1,0x1                                                                                    
003b0c   0012     RETURN    0x0                                                                                             
001cfa   6dd0     NEGF      0xd0,0x1               gRate1 = -gRate1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001cfc   1fd1     COMF      0xd1,0x1,0x1                                                                                    
001cfe   23d1     ADDWFC    0xd1,0x1,0x1                                                                                    
001d00   1fd2     COMF      0xd2,0x1,0x1                                                                                    
001d02   23d2     ADDWFC    0xd2,0x1,0x1                                                                                    
001d04   1fd3     COMF      0xd3,0x1,0x1                                                                                    
001d06   23d3     ADDWFC    0xd3,0x1,0x1                                                                                    
001d08   6dd8     NEGF      0xd8,0x1               gAccel1 = -gAccel1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d0a   1fd9     COMF      0xd9,0x1,0x1                                                                                    
001d0c   23d9     ADDWFC    0xd9,0x1,0x1                                                                                    
001d0e   1fda     COMF      0xda,0x1,0x1                                                                                    
001d10   23da     ADDWFC    0xda,0x1,0x1                                                                                    
001d12   1fdb     COMF      0xdb,0x1,0x1                                                                                    
001d14   23db     ADDWFC    0xdb,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d16   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d18   15e7     ANDWF     0xe7,0x0,0x1                                                                                    
001d1a   e017     BZ        0x1d4a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d1c   0e80     MOVLW     0x80                 if (gRate2 < 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d1e   15e3     ANDWF     0xe3,0x0,0x1                                                                                    
001d20   e003     BZ        0x1d28                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d22   0100     MOVLB     0x0                    bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d24   8d97     BSF       0x97,0x6,0x1                                                                                    
001d26   d1e3     BRA       0x20ee                 return;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d28   0e00     MOVLW     0x0                    gSteps2 = -gSteps2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d2a   ec87     CALL      0x3b0e,0x0                                                                                      
001d2c   f01d                                                                                                               
003b0e   6de4     NEGF      0xe4,0x1                                                                                        
003b10   1fe5     COMF      0xe5,0x1,0x1                                                                                    
003b12   23e5     ADDWFC    0xe5,0x1,0x1                                                                                    
003b14   1fe6     COMF      0xe6,0x1,0x1                                                                                    
003b16   23e6     ADDWFC    0xe6,0x1,0x1                                                                                    
003b18   1fe7     COMF      0xe7,0x1,0x1                                                                                    
003b1a   23e7     ADDWFC    0xe7,0x1,0x1                                                                                    
003b1c   0012     RETURN    0x0                                                                                             
001d2e   6de0     NEGF      0xe0,0x1               gRate2 = -gRate2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d30   1fe1     COMF      0xe1,0x1,0x1                                                                                    
001d32   23e1     ADDWFC    0xe1,0x1,0x1                                                                                    
001d34   1fe2     COMF      0xe2,0x1,0x1                                                                                    
001d36   23e2     ADDWFC    0xe2,0x1,0x1                                                                                    
001d38   1fe3     COMF      0xe3,0x1,0x1                                                                                    
001d3a   23e3     ADDWFC    0xe3,0x1,0x1                                                                                    
001d3c   6de8     NEGF      0xe8,0x1               gAccel2 = -gAccel2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d3e   1fe9     COMF      0xe9,0x1,0x1                                                                                    
001d40   23e9     ADDWFC    0xe9,0x1,0x1                                                                                    
001d42   1fea     COMF      0xea,0x1,0x1                                                                                    
001d44   23ea     ADDWFC    0xea,0x1,0x1                                                                                    
001d46   1feb     COMF      0xeb,0x1,0x1                                                                                    
001d48   23eb     ADDWFC    0xeb,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d4a   0101     MOVLB     0x1              gMoveTemp.m.sm.DirBits = 0;       // Start by assuming motors start CW         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d4c   6b2a     CLRF      0x2a,0x1                                                                                        
001d4e   6b2b     CLRF      0x2b,0x1         gMoveTemp.m.sm.DelayCounter = 0;  // No delay for motor moves                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d50   6b2c     CLRF      0x2c,0x1                                                                                        
001d52   6b2d     CLRF      0x2d,0x1                                                                                        
001d54   6b2e     CLRF      0x2e,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Subtract off half of the Accel term and add 1/6th of the Jerk before we add the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // move to the queue. Why? Because it makes the math cleaner (see LM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // documentation)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d56   c1d8     MOVFF     0x1d8,0x38       gRate1 = gRate1 - (gAccel1/2) + (gJerk1/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001d58   f038                                                                                                               
001d5a   c1d9     MOVFF     0x1d9,0x39                                                                                      
001d5c   f039                                                                                                               
001d5e   c1da     MOVFF     0x1da,0x3a                                                                                      
001d60   f03a                                                                                                               
001d62   c1db     MOVFF     0x1db,0x3b                                                                                      
001d64   f03b                                                                                                               
001d66   0e02     MOVLW     0x2                                                                                             
001d68   ec2a     CALL      0x3654,0x0                                                                                      
001d6a   f01b                                                                                                               
001d6c   5038     MOVF      0x38,0x0,0x0                                                                                    
001d6e   0101     MOVLB     0x1                                                                                             
001d70   5dd0     SUBWF     0xd0,0x0,0x1                                                                                    
001d72   6e46     MOVWF     0x46,0x0                                                                                        
001d74   5039     MOVF      0x39,0x0,0x0                                                                                    
001d76   59d1     SUBWFB    0xd1,0x0,0x1                                                                                    
001d78   6e47     MOVWF     0x47,0x0                                                                                        
001d7a   503a     MOVF      0x3a,0x0,0x0                                                                                    
001d7c   59d2     SUBWFB    0xd2,0x0,0x1                                                                                    
001d7e   6e48     MOVWF     0x48,0x0                                                                                        
001d80   503b     MOVF      0x3b,0x0,0x0                                                                                    
001d82   59d3     SUBWFB    0xd3,0x0,0x1                                                                                    
001d84   6e49     MOVWF     0x49,0x0                                                                                        
001d86   c1dc     MOVFF     0x1dc,0x38                                                                                      
001d88   f038                                                                                                               
001d8a   c1dd     MOVFF     0x1dd,0x39                                                                                      
001d8c   f039                                                                                                               
001d8e   c1de     MOVFF     0x1de,0x3a                                                                                      
001d90   f03a                                                                                                               
001d92   c1df     MOVFF     0x1df,0x3b                                                                                      
001d94   f03b                                                                                                               
001d96   0e06     MOVLW     0x6                                                                                             
001d98   ec2a     CALL      0x3654,0x0                                                                                      
001d9a   f01b                                                                                                               
001d9c   5046     MOVF      0x46,0x0,0x0                                                                                    
001d9e   2438     ADDWF     0x38,0x0,0x0                                                                                    
001da0   0101     MOVLB     0x1                                                                                             
001da2   6fd0     MOVWF     0xd0,0x1                                                                                        
001da4   5047     MOVF      0x47,0x0,0x0                                                                                    
001da6   2039     ADDWFC    0x39,0x0,0x0                                                                                    
001da8   6fd1     MOVWF     0xd1,0x1                                                                                        
001daa   5048     MOVF      0x48,0x0,0x0                                                                                    
001dac   203a     ADDWFC    0x3a,0x0,0x0                                                                                    
001dae   6fd2     MOVWF     0xd2,0x1                                                                                        
001db0   5049     MOVF      0x49,0x0,0x0                                                                                    
001db2   203b     ADDWFC    0x3b,0x0,0x0                                                                                    
001db4   6fd3     MOVWF     0xd3,0x1                                                                                        
001db6   c1e8     MOVFF     0x1e8,0x38       gRate2 = gRate2 - (gAccel2/2) + (gJerk2/6);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001db8   f038                                                                                                               
001dba   c1e9     MOVFF     0x1e9,0x39                                                                                      
001dbc   f039                                                                                                               
001dbe   c1ea     MOVFF     0x1ea,0x3a                                                                                      
001dc0   f03a                                                                                                               
001dc2   c1eb     MOVFF     0x1eb,0x3b                                                                                      
001dc4   f03b                                                                                                               
001dc6   0e02     MOVLW     0x2                                                                                             
001dc8   ec2a     CALL      0x3654,0x0                                                                                      
001dca   f01b                                                                                                               
001dcc   5038     MOVF      0x38,0x0,0x0                                                                                    
001dce   0101     MOVLB     0x1                                                                                             
001dd0   5de0     SUBWF     0xe0,0x0,0x1                                                                                    
001dd2   6e46     MOVWF     0x46,0x0                                                                                        
001dd4   5039     MOVF      0x39,0x0,0x0                                                                                    
001dd6   59e1     SUBWFB    0xe1,0x0,0x1                                                                                    
001dd8   6e47     MOVWF     0x47,0x0                                                                                        
001dda   503a     MOVF      0x3a,0x0,0x0                                                                                    
001ddc   59e2     SUBWFB    0xe2,0x0,0x1                                                                                    
001dde   6e48     MOVWF     0x48,0x0                                                                                        
001de0   503b     MOVF      0x3b,0x0,0x0                                                                                    
001de2   59e3     SUBWFB    0xe3,0x0,0x1                                                                                    
001de4   6e49     MOVWF     0x49,0x0                                                                                        
001de6   c1ec     MOVFF     0x1ec,0x38                                                                                      
001de8   f038                                                                                                               
001dea   c1ed     MOVFF     0x1ed,0x39                                                                                      
001dec   f039                                                                                                               
001dee   c1ee     MOVFF     0x1ee,0x3a                                                                                      
001df0   f03a                                                                                                               
001df2   c1ef     MOVFF     0x1ef,0x3b                                                                                      
001df4   f03b                                                                                                               
001df6   0e06     MOVLW     0x6                                                                                             
001df8   ec2a     CALL      0x3654,0x0                                                                                      
001dfa   f01b                                                                                                               
001dfc   5046     MOVF      0x46,0x0,0x0                                                                                    
001dfe   2438     ADDWF     0x38,0x0,0x0                                                                                    
001e00   0101     MOVLB     0x1                                                                                             
001e02   6fe0     MOVWF     0xe0,0x1                                                                                        
001e04   5047     MOVF      0x47,0x0,0x0                                                                                    
001e06   2039     ADDWFC    0x39,0x0,0x0                                                                                    
001e08   6fe1     MOVWF     0xe1,0x1                                                                                        
001e0a   5048     MOVF      0x48,0x0,0x0                                                                                    
001e0c   203a     ADDWFC    0x3a,0x0,0x0                                                                                    
001e0e   6fe2     MOVWF     0xe2,0x1                                                                                        
001e10   5049     MOVF      0x49,0x0,0x0                                                                                    
001e12   203b     ADDWFC    0x3b,0x0,0x0                                                                                    
001e14   6fe3     MOVWF     0xe3,0x1                                                                                        
003654   6e3d     MOVWF     0x3d,0x0                                                                                        
003656   6a3e     CLRF      0x3e,0x0                                                                                        
003658   6a3f     CLRF      0x3f,0x0                                                                                        
00365a   6a40     CLRF      0x40,0x0                                                                                        
00365c   efca     GOTO      0x7794                                                                                          
00365e   f03b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We will use the SEState move parameter to hold a bitfield. This bitfield    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // will tell the ISR if the accumulators need any special treatment when       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the command is loaded. We can zero it, or set it to 2^31-1, or leave        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // it alone.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // We need to check to see if the rate at the first step < 0, and              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // if so, we need the FIFO to set the accumulator to 2^31-1 before             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // as the command is loaded. So we use two bits in SEState to indicate         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // this.                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e16   0101     MOVLB     0x1              gMoveTemp.m.sm.SEState = 0;           // Start with all bits clear             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e18   6b2f     CLRF      0x2f,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e1a   a409     BTFSS     0x9,0x2,0x0      if (bittst(TestMode, TEST_MODE_USART_ISR_NUM))                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e1c   d02e     BRA       0x1e7a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the ISR_BIT_NUM test mode is on, then interpret the Clear parameter    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // as the initial value for the accumulator.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e1e   0efd     MOVLW     0xfd               if (ClearRet == kEXTRACT_OK)  // We got a Clear parameter                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e20   50db     MOVF      0xdb,0x0,0x0                                                                                    
001e22   e10b     BNZ       0x1e3a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e24   0e10     MOVLW     0x10                 gMoveTemp.m.sm.SEState = SESTATE_ARBITRARY_ACC_BIT;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e26   6f2f     MOVWF     0x2f,0x1                                                                                        
001e28   c1cc     MOVFF     0x1cc,0x12b          gMoveTemp.m.sm.DelayCounter = gClearAccs;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e2a   f12b                                                                                                               
001e2c   c1cd     MOVFF     0x1cd,0x12c                                                                                     
001e2e   f12c                                                                                                               
001e30   c1ce     MOVFF     0x1ce,0x12d                                                                                     
001e32   f12d                                                                                                               
001e34   c1cf     MOVFF     0x1cf,0x12e                                                                                     
001e36   f12e                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e38   d087     BRA       0x1f48             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // But if we didn't get a Clear parameter, then treat it as if the user    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // wants the accumulator cleared                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // This block "looks ahead" at the start of a move (while it is being      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // parsed) to figure out if we need to negate the accumulator (i.e. start from D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // 0x7FFFFFFFUL). Since this is common to LM/LT/L3/T3, and once for each axis, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // it gets its own function.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e3a   ecdd     CALL      0x39ba,0x0           NeedNegativeAccumulator = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e3c   f01c                                                                                                               
0039ba   0e04     MOVLW     0x4                                                                                             
0039bc   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0039be   0ed8     MOVLW     0xd8                 RateTemp = gRate1 + gAccel1;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0039c0   6ee9     MOVWF     0xe9,0x0                                                                                        
0039c2   0e01     MOVLW     0x1                                                                                             
0039c4   6eea     MOVWF     0xea,0x0                                                                                        
0039c6   0101     MOVLB     0x1                                                                                             
0039c8   51d0     MOVF      0xd0,0x0,0x1                                                                                    
0039ca   24ee     ADDWF     0xee,0x0,0x0                                                                                    
0039cc   6e46     MOVWF     0x46,0x0                                                                                        
0039ce   51d1     MOVF      0xd1,0x0,0x1                                                                                    
0039d0   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
0039d2   6e47     MOVWF     0x47,0x0                                                                                        
0039d4   51d2     MOVF      0xd2,0x0,0x1                                                                                    
0039d6   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
0039d8   6e48     MOVWF     0x48,0x0                                                                                        
0039da   51d3     MOVF      0xd3,0x0,0x1                                                                                    
0039dc   ef59     GOTO      0x32b2                                                                                          
0039de   f019                                                                                                               
001e3e   e602     BN        0x1e44               if (RateTemp < 0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e40   ece9     CALL      0x33d2,0x0                                                                                      
001e42   f019                                                                                                               
001e44   e30f     BNC       0x1e64                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   NeedNegativeAccumulator = TRUE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e46   ec77     CALL      0x32ee,0x0             if (RateTemp == 0)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e48   f019                                                                                                               
001e4a   e10e     BNZ       0x1e68                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e4c   ec0b     CALL      0x3a16,0x0               RateTemp = gAccel1 + gJerk1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e4e   f01d                                                                                                               
003a16   df49     RCALL     0x38aa                                                                                          
003a18   51d8     MOVF      0xd8,0x0,0x1                                                                                    
003a1a   24ee     ADDWF     0xee,0x0,0x0                                                                                    
003a1c   6e46     MOVWF     0x46,0x0                                                                                        
003a1e   51d9     MOVF      0xd9,0x0,0x1                                                                                    
003a20   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
003a22   6e47     MOVWF     0x47,0x0                                                                                        
003a24   51da     MOVF      0xda,0x0,0x1                                                                                    
003a26   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
003a28   6e48     MOVWF     0x48,0x0                                                                                        
003a2a   51db     MOVF      0xdb,0x0,0x1                                                                                    
003a2c   ef59     GOTO      0x32b2                                                                                          
003a2e   f019                                                                                                               
001e50   e602     BN        0x1e56                   if (RateTemp < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e52   ece9     CALL      0x33d2,0x0                                                                                      
001e54   f019                                                                                                               
001e56   e306     BNC       0x1e64                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       NeedNegativeAccumulator = TRUE;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e58   ec77     CALL      0x32ee,0x0                 if (RateTemp == 0)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e5a   f019                                                                                                               
001e5c   e105     BNZ       0x1e68                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e5e   0e80     MOVLW     0x80                         if (gJerk1 < 0)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e60   15df     ANDWF     0xdf,0x0,0x1                                                                                    
001e62   e002     BZ        0x1e68                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e64   eceb     CALL      0x37d6,0x0                     NeedNegativeAccumulator = TRUE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e66   f01b                                                                                                               
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e68   0e04     MOVLW     0x4                  if (NeedNegativeAccumulator)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e6a   50db     MOVF      0xdb,0x0,0x0                                                                                    
001e6c   e003     BZ        0x1e74                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e6e   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC1_BIT;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e70   852f     BSF       0x2f,0x2,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e72   d06a     BRA       0x1f48               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e74   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC1_BIT;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e76   812f     BSF       0x2f,0x0,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e78   d067     BRA       0x1f48           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Test mode not active, so just check Clear parameter bits 0 and 1          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // to see if user wants to start move with cleared accumulator. If so,       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // check for need to invert accumulator when move loaded into FIFO.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e7a   c1cc     MOVFF     0x1cc,0x46         if (gClearAccs & 0x01)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e7c   f046                                                                                                               
001e7e   0e01     MOVLW     0x1                                                                                             
001e80   eca9     CALL      0x3752,0x0                                                                                      
001e82   f01b                                                                                                               
001e84   e01f     BZ        0x1ec4                                                                                          
003752   1646     ANDWF     0x46,0x1,0x0                                                                                    
003754   6a47     CLRF      0x47,0x0                                                                                        
003756   6a48     CLRF      0x48,0x0                                                                                        
003758   6a49     CLRF      0x49,0x0                                                                                        
00375a   5046     MOVF      0x46,0x0,0x0                                                                                    
00375c   1047     IORWF     0x47,0x0,0x0                                                                                    
00375e   1048     IORWF     0x48,0x0,0x0                                                                                    
003760   1049     IORWF     0x49,0x0,0x0                                                                                    
003762   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e86   ecdd     CALL      0x39ba,0x0           NeedNegativeAccumulator = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e88   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 RateTemp = gRate1 + gAccel1;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e8a   e602     BN        0x1e90               if (RateTemp < 0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e8c   ece9     CALL      0x33d2,0x0                                                                                      
001e8e   f019                                                                                                               
001e90   e30f     BNC       0x1eb0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   NeedNegativeAccumulator = TRUE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e92   ec77     CALL      0x32ee,0x0             if (RateTemp == 0)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e94   f019                                                                                                               
001e96   e10e     BNZ       0x1eb4                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e98   ec0b     CALL      0x3a16,0x0               RateTemp = gAccel1 + gJerk1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e9a   f01d                                                                                                               
0038aa   0edc     MOVLW     0xdc                                                                                            
0038ac   6ee9     MOVWF     0xe9,0x0                                                                                        
0038ae   0e01     MOVLW     0x1                                                                                             
0038b0   6eea     MOVWF     0xea,0x0                                                                                        
0038b2   0012     RETURN    0x0                                                                                             
001e9c   e602     BN        0x1ea2                   if (RateTemp < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001e9e   ece9     CALL      0x33d2,0x0                                                                                      
001ea0   f019                                                                                                               
001ea2   e306     BNC       0x1eb0                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       NeedNegativeAccumulator = TRUE;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ea4   ec77     CALL      0x32ee,0x0                 if (RateTemp == 0)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ea6   f019                                                                                                               
001ea8   e105     BNZ       0x1eb4                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001eaa   0e80     MOVLW     0x80                         if (gJerk1 < 0)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001eac   15df     ANDWF     0xdf,0x0,0x1                                                                                    
001eae   e002     BZ        0x1eb4                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001eb0   eceb     CALL      0x37d6,0x0                     NeedNegativeAccumulator = TRUE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001eb2   f01b                                                                                                               
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001eb4   0e04     MOVLW     0x4                  if (NeedNegativeAccumulator)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001eb6   50db     MOVF      0xdb,0x0,0x0                                                                                    
001eb8   e003     BZ        0x1ec0                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001eba   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC1_BIT;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ebc   852f     BSF       0x2f,0x2,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ebe   d002     BRA       0x1ec4               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ec0   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC1_BIT;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ec2   812f     BSF       0x2f,0x0,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ec4   c1cc     MOVFF     0x1cc,0x46         if (gClearAccs & 0x02)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ec6   f046                                                                                                               
001ec8   0e02     MOVLW     0x2                                                                                             
001eca   eca9     CALL      0x3752,0x0                                                                                      
001ecc   f01b                                                                                                               
001ece   e03c     BZ        0x1f48                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ed0   0e04     MOVLW     0x4                  NeedNegativeAccumulator = FALSE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ed2   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ed4   ec5a     CALL      0x38b4,0x0           RateTemp = gRate2 + gAccel2;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ed6   f01c                                                                                                               
001ed8   0101     MOVLB     0x1                                                                                             
001eda   51e0     MOVF      0xe0,0x0,0x1                                                                                    
001edc   24ee     ADDWF     0xee,0x0,0x0                                                                                    
001ede   6e46     MOVWF     0x46,0x0                                                                                        
001ee0   51e1     MOVF      0xe1,0x0,0x1                                                                                    
001ee2   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001ee4   6e47     MOVWF     0x47,0x0                                                                                        
001ee6   51e2     MOVF      0xe2,0x0,0x1                                                                                    
001ee8   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001eea   6e48     MOVWF     0x48,0x0                                                                                        
001eec   51e3     MOVF      0xe3,0x0,0x1                                                                                    
001eee   ec59     CALL      0x32b2,0x0                                                                                      
001ef0   f019                                                                                                               
001ef2   e602     BN        0x1ef8               if (RateTemp < 0)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ef4   ece9     CALL      0x33d2,0x0                                                                                      
001ef6   f019                                                                                                               
001ef8   e31d     BNC       0x1f34                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   NeedNegativeAccumulator = TRUE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001efa   ec77     CALL      0x32ee,0x0             if (RateTemp == 0)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001efc   f019                                                                                                               
001efe   e11c     BNZ       0x1f38                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f00   0eec     MOVLW     0xec                     RateTemp = gAccel2 + gJerk2;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f02   6ee9     MOVWF     0xe9,0x0                                                                                        
001f04   0e01     MOVLW     0x1                                                                                             
001f06   6eea     MOVWF     0xea,0x0                                                                                        
001f08   51e8     MOVF      0xe8,0x0,0x1                                                                                    
001f0a   24ee     ADDWF     0xee,0x0,0x0                                                                                    
001f0c   6e46     MOVWF     0x46,0x0                                                                                        
001f0e   51e9     MOVF      0xe9,0x0,0x1                                                                                    
001f10   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001f12   6e47     MOVWF     0x47,0x0                                                                                        
001f14   51ea     MOVF      0xea,0x0,0x1                                                                                    
001f16   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
001f18   6e48     MOVWF     0x48,0x0                                                                                        
001f1a   51eb     MOVF      0xeb,0x0,0x1                                                                                    
001f1c   ec59     CALL      0x32b2,0x0                                                                                      
001f1e   f019                                                                                                               
0032b2   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
0032b4   6e49     MOVWF     0x49,0x0                                                                                        
0032b6   c046     MOVFF     0x46,0xfdf                                                                                      
0032b8   ffdf                                                                                                               
0032ba   0e01     MOVLW     0x1                                                                                             
0032bc   c047     MOVFF     0x47,0xfdb                                                                                      
0032be   ffdb                                                                                                               
0032c0   0e02     MOVLW     0x2                                                                                             
0032c2   c048     MOVFF     0x48,0xfdb                                                                                      
0032c4   ffdb                                                                                                               
0032c6   0e03     MOVLW     0x3                                                                                             
0032c8   c049     MOVFF     0x49,0xfdb                                                                                      
0032ca   ffdb                                                                                                               
001f20   e602     BN        0x1f26                   if (RateTemp < 0)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f22   ece9     CALL      0x33d2,0x0                                                                                      
001f24   f019                                                                                                               
001f26   e306     BNC       0x1f34                                                                                          
0032cc   ec50     CALL      0x3ca0,0x0                                                                                      
0032ce   f01e                                                                                                               
0032d0   90d8     BCF       0xd8,0x0,0x0                                                                                    
0032d2   50eb     MOVF      0xeb,0x0,0x0                                                                                    
0032d4   0a00     XORLW     0x0                                                                                             
0032d6   0012     RETURN    0x0                                                                                             
0033d2   0e00     MOVLW     0x0                                                                                             
0033d4   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0033d6   0e00     MOVLW     0x0                                                                                             
0033d8   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0033da   0e00     MOVLW     0x0                                                                                             
0033dc   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0033de   0e00     MOVLW     0x0                                                                                             
0033e0   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0033e2   0012     RETURN    0x0                                                                                             
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       NeedNegativeAccumulator = TRUE;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f28   ec77     CALL      0x32ee,0x0                 if (RateTemp == 0)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f2a   f019                                                                                                               
001f2c   e105     BNZ       0x1f38                                                                                          
0032ee   db54     RCALL     0x3998                                                                                          
0032f0   5046     MOVF      0x46,0x0,0x0                                                                                    
0032f2   1047     IORWF     0x47,0x0,0x0                                                                                    
0032f4   1048     IORWF     0x48,0x0,0x0                                                                                    
0032f6   1049     IORWF     0x49,0x0,0x0                                                                                    
0032f8   0012     RETURN    0x0                                                                                             
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f2e   0e80     MOVLW     0x80                         if (gJerk2 < 0)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f30   15ef     ANDWF     0xef,0x0,0x1                                                                                    
001f32   e002     BZ        0x1f38                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f34   eceb     CALL      0x37d6,0x0                     NeedNegativeAccumulator = TRUE;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f36   f01b                                                                                                               
0037d6   0e01     MOVLW     0x1                                                                                             
0037d8   6ef3     MOVWF     0xf3,0x0                                                                                        
0037da   0e04     MOVLW     0x4                                                                                             
0037dc   cff3     MOVFF     0xff3,0xfdb                                                                                     
0037de   ffdb                                                                                                               
0037e0   0012     RETURN    0x0                                                                                             
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f38   0e04     MOVLW     0x4                  if (NeedNegativeAccumulator)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f3a   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f3c   e003     BZ        0x1f44                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f3e   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_NEGATE_ACC2_BIT;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f40   872f     BSF       0x2f,0x3,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f42   d002     BRA       0x1f48               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f44   0101     MOVLB     0x1                    gMoveTemp.m.sm.SEState |= SESTATE_CLEAR_ACC2_BIT;                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f46   832f     BSF       0x2f,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f48   ec55     CALL      0x38aa,0x0       gAccel1 = gAccel1 - gJerk1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f4a   f01c                                                                                                               
001f4c   50ee     MOVF      0xee,0x0,0x0                                                                                    
001f4e   0101     MOVLB     0x1                                                                                             
001f50   5dd8     SUBWF     0xd8,0x0,0x1                                                                                    
001f52   6fd8     MOVWF     0xd8,0x1                                                                                        
001f54   50ee     MOVF      0xee,0x0,0x0                                                                                    
001f56   59d9     SUBWFB    0xd9,0x0,0x1                                                                                    
001f58   6fd9     MOVWF     0xd9,0x1                                                                                        
001f5a   50ee     MOVF      0xee,0x0,0x0                                                                                    
001f5c   59da     SUBWFB    0xda,0x0,0x1                                                                                    
001f5e   6fda     MOVWF     0xda,0x1                                                                                        
001f60   50ee     MOVF      0xee,0x0,0x0                                                                                    
001f62   59db     SUBWFB    0xdb,0x0,0x1                                                                                    
001f64   6fdb     MOVWF     0xdb,0x1                                                                                        
001f66   0eec     MOVLW     0xec             gAccel2 = gAccel2 - gJerk2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f68   6ee9     MOVWF     0xe9,0x0                                                                                        
001f6a   0e01     MOVLW     0x1                                                                                             
001f6c   6eea     MOVWF     0xea,0x0                                                                                        
001f6e   50ee     MOVF      0xee,0x0,0x0                                                                                    
001f70   5de8     SUBWF     0xe8,0x0,0x1                                                                                    
001f72   6fe8     MOVWF     0xe8,0x1                                                                                        
001f74   50ee     MOVF      0xee,0x0,0x0                                                                                    
001f76   59e9     SUBWFB    0xe9,0x0,0x1                                                                                    
001f78   6fe9     MOVWF     0xe9,0x1                                                                                        
001f7a   50ee     MOVF      0xee,0x0,0x0                                                                                    
001f7c   59ea     SUBWFB    0xea,0x0,0x1                                                                                    
001f7e   6fea     MOVWF     0xea,0x1                                                                                        
001f80   50ee     MOVF      0xee,0x0,0x0                                                                                    
001f82   59eb     SUBWFB    0xeb,0x0,0x1                                                                                    
001f84   6feb     MOVWF     0xeb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f86   0100     MOVLB     0x0              if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f88   05d9     DECF      0xd9,0x0,0x1                                                                                    
001f8a   e102     BNZ       0x1f90                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // (To be more logical this should happen in the ISR when this move          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // is loaded rather than here.)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f8c   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f8e   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Load up the move structure with all needed values                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f90   c1d0     MOVFF     0x1d0,0x130      gMoveTemp.m.sm.Rate[0].value = gRate1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001f92   f130                                                                                                               
001f94   c1d1     MOVFF     0x1d1,0x131                                                                                     
001f96   f131                                                                                                               
001f98   c1d2     MOVFF     0x1d2,0x132                                                                                     
001f9a   f132                                                                                                               
001f9c   c1d3     MOVFF     0x1d3,0x133                                                                                     
001f9e   f133                                                                                                               
001fa0   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fa2   50db     MOVF      0xdb,0x0,0x0                                                                                    
001fa4   e009     BZ        0x1fb8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fa6   c1c8     MOVFF     0x1c8,0x138        gMoveTemp.m.sm.Steps[0] = gIntervals;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fa8   f138                                                                                                               
001faa   c1c9     MOVFF     0x1c9,0x139                                                                                     
001fac   f139                                                                                                               
001fae   c1ca     MOVFF     0x1ca,0x13a                                                                                     
001fb0   f13a                                                                                                               
001fb2   c1cb     MOVFF     0x1cb,0x13b                                                                                     
001fb4   f13b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fb6   d002     BRA       0x1fbc           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fb8   ec06     CALL      0x360c,0x0         gMoveTemp.m.sm.Steps[0] = gSteps1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fba   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fbc   c1d8     MOVFF     0x1d8,0x148      gMoveTemp.m.sm.Accel[0] = gAccel1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fbe   f148                                                                                                               
001fc0   c1d9     MOVFF     0x1d9,0x149                                                                                     
001fc2   f149                                                                                                               
001fc4   c1da     MOVFF     0x1da,0x14a                                                                                     
001fc6   f14a                                                                                                               
001fc8   c1db     MOVFF     0x1db,0x14b                                                                                     
001fca   f14b                                                                                                               
001fcc   c1dc     MOVFF     0x1dc,0x140      gMoveTemp.m.sm.Jerk[0] = gJerk1;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fce   f140                                                                                                               
001fd0   c1dd     MOVFF     0x1dd,0x141                                                                                     
001fd2   f141                                                                                                               
001fd4   c1de     MOVFF     0x1de,0x142                                                                                     
001fd6   f142                                                                                                               
001fd8   c1df     MOVFF     0x1df,0x143                                                                                     
001fda   f143                                                                                                               
001fdc   c1e0     MOVFF     0x1e0,0x134      gMoveTemp.m.sm.Rate[1].value = gRate2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fde   f134                                                                                                               
001fe0   c1e1     MOVFF     0x1e1,0x135                                                                                     
001fe2   f135                                                                                                               
001fe4   c1e2     MOVFF     0x1e2,0x136                                                                                     
001fe6   f136                                                                                                               
001fe8   c1e3     MOVFF     0x1e3,0x137                                                                                     
001fea   f137                                                                                                               
001fec   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001fee   50db     MOVF      0xdb,0x0,0x0                                                                                    
001ff0   e006     BZ        0x1ffe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ff2   0101     MOVLB     0x1                gMoveTemp.m.sm.Steps[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ff4   6b3c     CLRF      0x3c,0x1                                                                                        
001ff6   6b3d     CLRF      0x3d,0x1                                                                                        
001ff8   6b3e     CLRF      0x3e,0x1                                                                                        
001ffa   6b3f     CLRF      0x3f,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ffc   d002     BRA       0x2002           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
001ffe   ec0f     CALL      0x361e,0x0         gMoveTemp.m.sm.Steps[1] = gSteps2;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002000   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002002   c1e8     MOVFF     0x1e8,0x14c      gMoveTemp.m.sm.Accel[1] = gAccel2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002004   f14c                                                                                                               
002006   c1e9     MOVFF     0x1e9,0x14d                                                                                     
002008   f14d                                                                                                               
00200a   c1ea     MOVFF     0x1ea,0x14e                                                                                     
00200c   f14e                                                                                                               
00200e   c1eb     MOVFF     0x1eb,0x14f                                                                                     
002010   f14f                                                                                                               
002012   c1ec     MOVFF     0x1ec,0x144      gMoveTemp.m.sm.Jerk[1] = gJerk2;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002014   f144                                                                                                               
002016   c1ed     MOVFF     0x1ed,0x145                                                                                     
002018   f145                                                                                                               
00201a   c1ee     MOVFF     0x1ee,0x146                                                                                     
00201c   f146                                                                                                               
00201e   c1ef     MOVFF     0x1ef,0x147                                                                                     
002020   f147                                                                                                               
002022   0efe     MOVLW     0xfe             if (TimedMove)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002024   50db     MOVF      0xdb,0x0,0x0                                                                                    
002026   e003     BZ        0x202e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002028   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LT_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00202a   0e07     MOVLW     0x7                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00202c   d002     BRA       0x2032           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00202e   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_LM_MOVE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002030   0e06     MOVLW     0x6                                                                                             
002032   6f29     MOVWF     0x29,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002034   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002036   d04d     BRA       0x20d2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Print the final values used by the ISR for this move                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002038   ec80     CALL      0x3d00,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00203a   f01e                                                                                                               
003d00   0ebc     MOVLW     0xbc                                                                                            
003d02   6e46     MOVWF     0x46,0x0                                                                                        
003d04   0e7c     MOVLW     0x7c                                                                                            
003d06   ecbe     CALL      0x317c,0x0                                                                                      
003d08   f018                                                                                                               
00203c   ecad     CALL      0x395a,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[0].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00203e   f01c                                                                                                               
003d0a   ef18     GOTO      0x3630                                                                                          
003d0c   f01b                                                                                                               
002040   ec0f     CALL      0x3c1e,0x0         ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002042   f01e                                                                                                               
003c1e   0eb7     MOVLW     0xb7                                                                                            
003c20   6e46     MOVWF     0x46,0x0                                                                                        
003c22   0e7c     MOVLW     0x7c                                                                                            
003c24   ecbe     CALL      0x317c,0x0                                                                                      
003c26   f018                                                                                                               
003c28   c138     MOVFF     0x138,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c2a   ffe6                                                                                                               
003c2c   c139     MOVFF     0x139,0xfe6                                                                                     
003c2e   ffe6                                                                                                               
003c30   c13a     MOVFF     0x13a,0xfe6                                                                                     
003c32   ffe6                                                                                                               
003c34   c13b     MOVFF     0x13b,0xfe6                                                                                     
003c36   ffe6                                                                                                               
003c38   ef72     GOTO      0x32e4                                                                                          
003c3a   f019                                                                                                               
002044   0eb2     MOVLW     0xb2               ebb_print((far rom char *)" A1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002046   6e46     MOVWF     0x46,0x0                                                                                        
002048   0e7c     MOVLW     0x7c                                                                                            
00204a   ecbe     CALL      0x317c,0x0                                                                                      
00204c   f018                                                                                                               
00204e   c148     MOVFF     0x148,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[0]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002050   ffe6                                                                                                               
002052   c149     MOVFF     0x149,0xfe6                                                                                     
002054   ffe6                                                                                                               
002056   c14a     MOVFF     0x14a,0xfe6                                                                                     
002058   ffe6                                                                                                               
00205a   c14b     MOVFF     0x14b,0xfe6                                                                                     
00205c   ffe6                                                                                                               
00205e   ecad     CALL      0x395a,0x0                                                                                      
002060   f01c                                                                                                               
002062   0ead     MOVLW     0xad               ebb_print((far rom char *)" J1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002064   6e46     MOVWF     0x46,0x0                                                                                        
002066   0e7c     MOVLW     0x7c                                                                                            
002068   ecbe     CALL      0x317c,0x0                                                                                      
00206a   f018                                                                                                               
00206c   c140     MOVFF     0x140,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[0]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00206e   ffe6                                                                                                               
002070   c141     MOVFF     0x141,0xfe6                                                                                     
002072   ffe6                                                                                                               
002074   c142     MOVFF     0x142,0xfe6                                                                                     
002076   ffe6                                                                                                               
002078   c143     MOVFF     0x143,0xfe6                                                                                     
00207a   ffe6                                                                                                               
00207c   ecad     CALL      0x395a,0x0                                                                                      
00207e   f01c                                                                                                               
002080   ec87     CALL      0x3d0e,0x0         ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002082   f01e                                                                                                               
003d0e   0ea8     MOVLW     0xa8                                                                                            
003d10   6e46     MOVWF     0x46,0x0                                                                                        
003d12   0e7c     MOVLW     0x7c                                                                                            
003d14   ecbe     CALL      0x317c,0x0                                                                                      
003d16   f018                                                                                                               
002084   ecad     CALL      0x395a,0x0         ebb_print_int(gMoveTemp.m.sm.Rate[1].value);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002086   f01c                                                                                                               
003d18   ef21     GOTO      0x3642                                                                                          
003d1a   f01b                                                                                                               
002088   0ea3     MOVLW     0xa3               ebb_print((far rom char *)" A2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00208a   6e46     MOVWF     0x46,0x0                                                                                        
00208c   0e7c     MOVLW     0x7c                                                                                            
00208e   ec31     CALL      0x3c62,0x0                                                                                      
002090   f01e                                                                                                               
003c62   ecbe     CALL      0x317c,0x0                                                                                      
003c64   f018                                                                                                               
003c66   c13c     MOVFF     0x13c,0xfe6        ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c68   ffe6                                                                                                               
003c6a   c13d     MOVFF     0x13d,0xfe6                                                                                     
003c6c   ffe6                                                                                                               
003c6e   c13e     MOVFF     0x13e,0xfe6                                                                                     
003c70   ffe6                                                                                                               
003c72   c13f     MOVFF     0x13f,0xfe6                                                                                     
003c74   ffe6                                                                                                               
003c76   ef72     GOTO      0x32e4                                                                                          
003c78   f019                                                                                                               
002092   0e9e     MOVLW     0x9e               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002094   6e46     MOVWF     0x46,0x0                                                                                        
002096   0e7c     MOVLW     0x7c                                                                                            
002098   ecbe     CALL      0x317c,0x0                                                                                      
00209a   f018                                                                                                               
00209c   c14c     MOVFF     0x14c,0xfe6        ebb_print_int(gMoveTemp.m.sm.Accel[1]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00209e   ffe6                                                                                                               
0020a0   c14d     MOVFF     0x14d,0xfe6                                                                                     
0020a2   ffe6                                                                                                               
0020a4   c14e     MOVFF     0x14e,0xfe6                                                                                     
0020a6   ffe6                                                                                                               
0020a8   c14f     MOVFF     0x14f,0xfe6                                                                                     
0020aa   ffe6                                                                                                               
0020ac   ecad     CALL      0x395a,0x0                                                                                      
0020ae   f01c                                                                                                               
0020b0   0e99     MOVLW     0x99               ebb_print((far rom char *)" J2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020b2   6e46     MOVWF     0x46,0x0                                                                                        
0020b4   0e7c     MOVLW     0x7c                                                                                            
0020b6   ecbe     CALL      0x317c,0x0                                                                                      
0020b8   f018                                                                                                               
0020ba   c144     MOVFF     0x144,0xfe6        ebb_print_int(gMoveTemp.m.sm.Jerk[1]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020bc   ffe6                                                                                                               
0020be   c145     MOVFF     0x145,0xfe6                                                                                     
0020c0   ffe6                                                                                                               
0020c2   c146     MOVFF     0x146,0xfe6                                                                                     
0020c4   ffe6                                                                                                               
0020c6   c147     MOVFF     0x147,0xfe6                                                                                     
0020c8   ffe6                                                                                                               
0020ca   ecad     CALL      0x395a,0x0                                                                                      
0020cc   f01c                                                                                                               
0020ce   ecbb     CALL      0x3376,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020d0   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020d2   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020d4   d00a     BRA       0x20ea                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020d6   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020d8   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
0020da   e2fd     BC        0x20d6                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020dc   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020de   d005     BRA       0x20ea                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e0   eccd     CALL      0x319a,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e2   f018                                                                                                               
                                                 gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e4   e301     BNC       0x20e8               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e6   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020e8   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020ea   ec9b     CALL      0x3336,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020ec   f019                                                                                                               
0020ee   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020f0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0020f2   e202     BC        0x20f8                                                                                          
0020f4   6ae1     CLRF      0xe1,0x0                                                                                        
0020f6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0020f8   ef93     GOTO      0x3326                                                                                          
0020fa   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Stepper Motor command                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SM,<move_duration>,<axis1_steps>,<axis2_steps>,<CleaAccs><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> is 32 bit unsigned, indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisX_steps> is a signed 32 bit number indicating how many steps (and what direction) the axis should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE1: <axis2_steps> is optional and can be left off                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional value of 0, 1, 2 or 3.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 will leave accumulators alone at the beginning of the move               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 will clear Motor1 accumulator and leave Motor2 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 will clear Motor2 accumulator and leave Motor1 accumulator               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 will clear both Motor1 and Motor2 accumulators                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If the EBB can not make the move in the specified time, it will take as long as it needs to at max speed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // i.e. SM,1,1000 will not produce 1000steps in 1ms. Instead, it will take 40ms (25KHz max step rate) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // NOTE2: If you specify zero steps for the axis, then you effectively create a delay. Use for small D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // pauses before raising or lowering the pen, for example.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_SM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020fc   ec18     CALL      0x3a30,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0020fe   f01d                                                                                                               
003a30   d994     RCALL     0x3d5a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a32   0ec4     MOVLW     0xc4             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a34   6ee6     MOVWF     0xe6,0x0                                                                                        
003a36   0e01     MOVLW     0x1                                                                                             
003a38   d981     RCALL     0x3d3c                                                                                          
002100   0ed4     MOVLW     0xd4             extract_number(kLONG,  &gSteps1,  kREQUIRED);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002102   6ee6     MOVWF     0xe6,0x0                                                                                        
002104   0e01     MOVLW     0x1                                                                                             
002106   ec43     CALL      0x3c86,0x0                                                                                      
002108   f01e                                                                                                               
003a3a   6ae6     CLRF      0xe6,0x0                                                                                        
003a3c   0012     RETURN    0x0                                                                                             
00210a   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gSteps2,  kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00210c   0ee4     MOVLW     0xe4                                                                                            
00210e   6ee6     MOVWF     0xe6,0x0                                                                                        
002110   0e01     MOVLW     0x1                                                                                             
002112   ec95     CALL      0x392a,0x0                                                                                      
002114   f01c                                                                                                               
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002116   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002118   5197     MOVF      0x97,0x0,0x1                                                                                    
00211a   e001     BZ        0x211e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00211c   0012     RETURN    0x0                return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00211e   db43     RCALL     0x27a6           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002120   ef9b     GOTO      0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002122   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The Circle Move command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: CM,<frequency>,<dest_x>,<dest_y>,<center_x>,<center_y>,<direction><CR> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y>,<center_x>,<center_y> are required signed 16 bit numbers    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <frequency> is a required unsigned integer from 2 to 25000                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> is a required 0 for CW or 1 for CCW                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is an optional 0, 1, 2 or 3                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <dest_x>,<dest_y> are the relative coordinates where the arc should end up    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <center_x>,<center_y> are the relative coordinates where the center of the arc is D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <rate> is the step frequency in steps/second                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <direction> specifies which direction the arc should take                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> is the same as for SM                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002124   ec96     CALL      0x332c,0x0     void parse_CM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002126   f019                                                                                                               
002128   0e25     MOVLW     0x25                                                                                            
00212a   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00212c   6ade     CLRF      0xde,0x0         UINT16 frequency = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00212e   6add     CLRF      0xdd,0x0                                                                                        
002130   0e02     MOVLW     0x2              INT32 dest_x = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002132   6adb     CLRF      0xdb,0x0                                                                                        
002134   0e03     MOVLW     0x3                                                                                             
002136   6adb     CLRF      0xdb,0x0                                                                                        
002138   0e04     MOVLW     0x4                                                                                             
00213a   6adb     CLRF      0xdb,0x0                                                                                        
00213c   0e05     MOVLW     0x5                                                                                             
00213e   6adb     CLRF      0xdb,0x0                                                                                        
002140   0e06     MOVLW     0x6              INT32 dest_y = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002142   6adb     CLRF      0xdb,0x0                                                                                        
002144   0e07     MOVLW     0x7                                                                                             
002146   6adb     CLRF      0xdb,0x0                                                                                        
002148   0e08     MOVLW     0x8                                                                                             
00214a   6adb     CLRF      0xdb,0x0                                                                                        
00214c   0e09     MOVLW     0x9                                                                                             
00214e   6adb     CLRF      0xdb,0x0                                                                                        
002150   0e0a     MOVLW     0xa              INT32 center_x = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002152   6adb     CLRF      0xdb,0x0                                                                                        
002154   0e0b     MOVLW     0xb                                                                                             
002156   6adb     CLRF      0xdb,0x0                                                                                        
002158   0e0c     MOVLW     0xc                                                                                             
00215a   6adb     CLRF      0xdb,0x0                                                                                        
00215c   0e0d     MOVLW     0xd                                                                                             
00215e   6adb     CLRF      0xdb,0x0                                                                                        
002160   0e0e     MOVLW     0xe              INT32 center_y = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002162   6adb     CLRF      0xdb,0x0                                                                                        
002164   0e0f     MOVLW     0xf                                                                                             
002166   6adb     CLRF      0xdb,0x0                                                                                        
002168   0e10     MOVLW     0x10                                                                                            
00216a   6adb     CLRF      0xdb,0x0                                                                                        
00216c   0e11     MOVLW     0x11                                                                                            
00216e   6adb     CLRF      0xdb,0x0                                                                                        
002170   0e12     MOVLW     0x12             UINT8 direction = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002172   6adb     CLRF      0xdb,0x0                                                                                        
002174   0e13     MOVLW     0x13             UINT32 rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002176   6adb     CLRF      0xdb,0x0                                                                                        
002178   0e14     MOVLW     0x14                                                                                            
00217a   6adb     CLRF      0xdb,0x0                                                                                        
00217c   0e15     MOVLW     0x15                                                                                            
00217e   6adb     CLRF      0xdb,0x0                                                                                        
002180   0e16     MOVLW     0x16                                                                                            
002182   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT32 temp;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_1;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT16 sTemp16_2;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT32 radius;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 typ_seg_long;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002184   ecf6     CALL      0x17ec,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002186   f00b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002188   ec77     CALL      0x3cee,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218a   f01e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218c   ecd9     CALL      0x3bb2,0x0       extract_number(kUINT,  &frequency,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00218e   f01d                                                                                                               
002190   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &dest_x, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002192   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002194   0f02     ADDLW     0x2                                                                                             
002196   ec2b     CALL      0x3c56,0x0                                                                                      
002198   f01e                                                                                                               
00219a   0f06     ADDLW     0x6              extract_number(kLONG,  &dest_y,  kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00219c   ec2b     CALL      0x3c56,0x0                                                                                      
00219e   f01e                                                                                                               
0021a0   0f0a     ADDLW     0xa              extract_number(kLONG,  &center_x,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021a2   ec2b     CALL      0x3c56,0x0                                                                                      
0021a4   f01e                                                                                                               
0021a6   0f0e     ADDLW     0xe              extract_number(kLONG,  &center_y,  kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021a8   ec2b     CALL      0x3c56,0x0                                                                                      
0021aa   f01e                                                                                                               
003c56   6ee6     MOVWF     0xe6,0x0                                                                                        
003c58   0e00     MOVLW     0x0                                                                                             
003c5a   20da     ADDWFC    0xda,0x0,0x0                                                                                    
003c5c   de61     RCALL     0x3920                                                                                          
0021ac   0f12     ADDLW     0x12             extract_number(kUCHAR, &direction,  kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ae   ec36     CALL      0x3a6c,0x0                                                                                      
0021b0   f01d                                                                                                               
003c5e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003c60   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021b2   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021b4   51c2     MOVF      0xc2,0x0,0x1                                                                                    
0021b6   e101     BNZ       0x21ba                                                                                          
0021b8   d084     BRA       0x22c2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // direction can only be 0 or 1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ba   0e12     MOVLW     0x12               if (direction > 1u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021bc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0021be   0801     SUBLW     0x1                                                                                             
0021c0   e202     BC        0x21c6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021c2   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021c4   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Rate has to be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021c6   cfde     MOVFF     0xfde,0x46         if ((frequency < 1u) || (frequency > 25000u))                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021c8   f046                                                                                                               
0021ca   cfdd     MOVFF     0xfdd,0x47                                                                                      
0021cc   f047                                                                                                               
0021ce   0e01     MOVLW     0x1                                                                                             
0021d0   5c46     SUBWF     0x46,0x0,0x0                                                                                    
0021d2   0e00     MOVLW     0x0                                                                                             
0021d4   5847     SUBWFB    0x47,0x0,0x0                                                                                    
0021d6   e308     BNC       0x21e8                                                                                          
0021d8   ec50     CALL      0x3ca0,0x0                                                                                      
0021da   f01e                                                                                                               
0021dc   0ea8     MOVLW     0xa8                                                                                            
0021de   80d8     BSF       0xd8,0x0,0x0                                                                                    
0021e0   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0021e2   0e61     MOVLW     0x61                                                                                            
0021e4   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
0021e6   e202     BC        0x21ec                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021e8   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ea   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check four positions for out of bounds                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ec   0e02     MOVLW     0x2                if ((dest_x > 32768) || (dest_x < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0021ee   cfdb     MOVFF     0xfdb,0x39                                                                                      
0021f0   f039                                                                                                               
0021f2   0e03     MOVLW     0x3                                                                                             
0021f4   cfdb     MOVFF     0xfdb,0x3a                                                                                      
0021f6   f03a                                                                                                               
0021f8   0e04     MOVLW     0x4                                                                                             
0021fa   cfdb     MOVFF     0xfdb,0x3b                                                                                      
0021fc   f03b                                                                                                               
0021fe   0e05     MOVLW     0x5                                                                                             
002200   ec61     CALL      0x36c2,0x0                                                                                      
002202   f01b                                                                                                               
002204   e602     BN        0x220a                                                                                          
002206   ec70     CALL      0x34e0,0x0                                                                                      
002208   f01a                                                                                                               
00220a   e308     BNC       0x221c                                                                                          
00220c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00220e   0f02     ADDLW     0x2                                                                                             
002210   ecaa     CALL      0x3554,0x0                                                                                      
002212   f01a                                                                                                               
002214   e602     BN        0x221a                                                                                          
002216   ec7a     CALL      0x34f4,0x0                                                                                      
002218   f01a                                                                                                               
00221a   e202     BC        0x2220                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00221c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00221e   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002220   0e06     MOVLW     0x6                if ((dest_y > 32768) || (dest_y < -32768))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002222   cfdb     MOVFF     0xfdb,0x39                                                                                      
002224   f039                                                                                                               
002226   0e07     MOVLW     0x7                                                                                             
002228   cfdb     MOVFF     0xfdb,0x3a                                                                                      
00222a   f03a                                                                                                               
00222c   0e08     MOVLW     0x8                                                                                             
00222e   cfdb     MOVFF     0xfdb,0x3b                                                                                      
002230   f03b                                                                                                               
002232   0e09     MOVLW     0x9                                                                                             
002234   ec61     CALL      0x36c2,0x0                                                                                      
002236   f01b                                                                                                               
002238   e602     BN        0x223e                                                                                          
00223a   ec70     CALL      0x34e0,0x0                                                                                      
00223c   f01a                                                                                                               
00223e   e308     BNC       0x2250                                                                                          
002240   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002242   0f06     ADDLW     0x6                                                                                             
002244   ecaa     CALL      0x3554,0x0                                                                                      
002246   f01a                                                                                                               
002248   e602     BN        0x224e                                                                                          
00224a   ec7a     CALL      0x34f4,0x0                                                                                      
00224c   f01a                                                                                                               
00224e   e202     BC        0x2254                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002250   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002252   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002254   0e0a     MOVLW     0xa                if ((center_x > 32768) || (center_x < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002256   cfdb     MOVFF     0xfdb,0x39                                                                                      
002258   f039                                                                                                               
00225a   0e0b     MOVLW     0xb                                                                                             
00225c   cfdb     MOVFF     0xfdb,0x3a                                                                                      
00225e   f03a                                                                                                               
002260   0e0c     MOVLW     0xc                                                                                             
002262   cfdb     MOVFF     0xfdb,0x3b                                                                                      
002264   f03b                                                                                                               
002266   0e0d     MOVLW     0xd                                                                                             
002268   ec61     CALL      0x36c2,0x0                                                                                      
00226a   f01b                                                                                                               
00226c   e602     BN        0x2272                                                                                          
00226e   ec70     CALL      0x34e0,0x0                                                                                      
002270   f01a                                                                                                               
002272   e308     BNC       0x2284                                                                                          
002274   50d9     MOVF      0xd9,0x0,0x0                                                                                    
002276   0f0a     ADDLW     0xa                                                                                             
002278   ecaa     CALL      0x3554,0x0                                                                                      
00227a   f01a                                                                                                               
00227c   e602     BN        0x2282                                                                                          
00227e   ec7a     CALL      0x34f4,0x0                                                                                      
002280   f01a                                                                                                               
002282   e202     BC        0x2288                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002284   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002286   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002288   0e0e     MOVLW     0xe                if ((center_y > 32768) || (center_y < -32768))                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00228a   cfdb     MOVFF     0xfdb,0x39                                                                                      
00228c   f039                                                                                                               
00228e   0e0f     MOVLW     0xf                                                                                             
002290   cfdb     MOVFF     0xfdb,0x3a                                                                                      
002292   f03a                                                                                                               
002294   0e10     MOVLW     0x10                                                                                            
002296   cfdb     MOVFF     0xfdb,0x3b                                                                                      
002298   f03b                                                                                                               
00229a   0e11     MOVLW     0x11                                                                                            
00229c   ec61     CALL      0x36c2,0x0                                                                                      
00229e   f01b                                                                                                               
0022a0   e602     BN        0x22a6                                                                                          
0022a2   ec70     CALL      0x34e0,0x0                                                                                      
0022a4   f01a                                                                                                               
0022a6   e308     BNC       0x22b8                                                                                          
0022a8   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0022aa   0f0e     ADDLW     0xe                                                                                             
0022ac   ecaa     CALL      0x3554,0x0                                                                                      
0022ae   f01a                                                                                                               
0022b0   e602     BN        0x22b6                                                                                          
0022b2   ec7a     CALL      0x34f4,0x0                                                                                      
0022b4   f01a                                                                                                               
0022b6   e202     BC        0x22bc                                                                                          
0034e0   80d8     BSF       0xd8,0x0,0x0                                                                                    
0034e2   0e00     MOVLW     0x0                                                                                             
0034e4   5439     SUBFWB    0x39,0x0,0x0                                                                                    
0034e6   0e80     MOVLW     0x80                                                                                            
0034e8   543a     SUBFWB    0x3a,0x0,0x0                                                                                    
0034ea   0e00     MOVLW     0x0                                                                                             
0034ec   543b     SUBFWB    0x3b,0x0,0x0                                                                                    
0034ee   0e00     MOVLW     0x0                                                                                             
0034f0   543c     SUBFWB    0x3c,0x0,0x0                                                                                    
0034f2   0012     RETURN    0x0                                                                                             
0034f4   0e00     MOVLW     0x0                                                                                             
0034f6   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0034f8   0e80     MOVLW     0x80                                                                                            
0034fa   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
0034fc   0eff     MOVLW     0xff                                                                                            
0034fe   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003500   0eff     MOVLW     0xff                                                                                            
003502   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
003504   0012     RETURN    0x0                                                                                             
003554   6ee9     MOVWF     0xe9,0x0                                                                                        
003556   cfda     MOVFF     0xfda,0xfea                                                                                     
003558   ffea                                                                                                               
00355a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00355c   0e03     MOVLW     0x3                                                                                             
00355e   50eb     MOVF      0xeb,0x0,0x0                                                                                    
003560   0aff     XORLW     0xff                                                                                            
003562   0012     RETURN    0x0                                                                                             
0036c2   cfdb     MOVFF     0xfdb,0x3c                                                                                      
0036c4   f03c                                                                                                               
0036c6   343c     RLCF      0x3c,0x0,0x0                                                                                    
0036c8   0e00     MOVLW     0x0                                                                                             
0036ca   183c     XORWF     0x3c,0x0,0x0                                                                                    
0036cc   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022b8   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ba   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Bail if a there is a parameter limit error                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022bc   0100     MOVLB     0x0                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022be   5197     MOVF      0x97,0x0,0x1                                                                                    
0022c0   e144     BNZ       0x234a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022c2   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022c4   d042     BRA       0x234a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out input parameters for debugging                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022c6   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022c8   d039     BRA       0x233c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ca   0e93     MOVLW     0x93               ebb_print((far rom char *)"Freq=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022cc   6e46     MOVWF     0x46,0x0                                                                                        
0022ce   0e7c     MOVLW     0x7c                                                                                            
0022d0   ecbe     CALL      0x317c,0x0                                                                                      
0022d2   f018                                                                                                               
0022d4   cfde     MOVFF     0xfde,0x46         ebb_print_int(frequency);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022d6   f046                                                                                                               
0022d8   cfdd     MOVFF     0xfdd,0x47                                                                                      
0022da   f047                                                                                                               
0022dc   ec56     CALL      0x32ac,0x0                                                                                      
0022de   f019                                                                                                               
0022e0   0e8a     MOVLW     0x8a               ebb_print((far rom char *)" Dest_X=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022e2   6e46     MOVWF     0x46,0x0                                                                                        
0022e4   0e7c     MOVLW     0x7c                                                                                            
0022e6   ecbe     CALL      0x317c,0x0                                                                                      
0022e8   f018                                                                                                               
0022ea   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_x);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022ec   0f02     ADDLW     0x2                                                                                             
0022ee   ecdc     CALL      0x3bb8,0x0                                                                                      
0022f0   f01d                                                                                                               
0022f2   0e81     MOVLW     0x81               ebb_print((far rom char *)" Dest_Y=");                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022f4   6e46     MOVWF     0x46,0x0                                                                                        
0022f6   0e7c     MOVLW     0x7c                                                                                            
0022f8   ecbe     CALL      0x317c,0x0                                                                                      
0022fa   f018                                                                                                               
0022fc   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(dest_y);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0022fe   0f06     ADDLW     0x6                                                                                             
002300   ecdc     CALL      0x3bb8,0x0                                                                                      
002302   f01d                                                                                                               
002304   0e76     MOVLW     0x76               ebb_print((far rom char *)" Center_X=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002306   6e46     MOVWF     0x46,0x0                                                                                        
002308   0e7c     MOVLW     0x7c                                                                                            
00230a   ecbe     CALL      0x317c,0x0                                                                                      
00230c   f018                                                                                                               
00230e   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_x);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002310   0f0a     ADDLW     0xa                                                                                             
002312   ecdc     CALL      0x3bb8,0x0                                                                                      
002314   f01d                                                                                                               
002316   0e6b     MOVLW     0x6b               ebb_print((far rom char *)" Center_Y=");                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002318   6e46     MOVWF     0x46,0x0                                                                                        
00231a   0e7c     MOVLW     0x7c                                                                                            
00231c   ecbe     CALL      0x317c,0x0                                                                                      
00231e   f018                                                                                                               
002320   50d9     MOVF      0xd9,0x0,0x0       ebb_print_int(center_y);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002322   0f0e     ADDLW     0xe                                                                                             
002324   ecdc     CALL      0x3bb8,0x0                                                                                      
002326   f01d                                                                                                               
002328   0e5f     MOVLW     0x5f               ebb_print((far rom char *)" Direction=");                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00232a   6e46     MOVWF     0x46,0x0                                                                                        
00232c   0e7c     MOVLW     0x7c                                                                                            
00232e   ecbe     CALL      0x317c,0x0                                                                                      
002330   f018                                                                                                               
002332   0e12     MOVLW     0x12               ebb_print_int(direction);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002334   ec43     CALL      0x3a86,0x0                                                                                      
002336   f01d                                                                                                               
002338   ecbb     CALL      0x3376,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00233a   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 1                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00233c   0e3d     MOVLW     0x3d             ebb_print((far rom char *)"CM command disabled in this build");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00233e   6e46     MOVWF     0x46,0x0                                                                                        
002340   0e7c     MOVLW     0x7c                                                                                            
002342   eccb     CALL      0x3b96,0x0                                                                                      
002344   f01d                                                                                                               
                                             print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Current "turtle" position, relative to arc center: x_t, y_t:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_t = -center_x;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_t = -center_y;   // int32                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Final ("target") position, relative to arc center: x_f, y_f                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.x_f = dest_x - center_x; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.y_f = dest_y - center_y; // int16                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Here's that square root.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The argument, (center_x * center_x + center_y * center_y), is up to 31 bits. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = (center_x * center_x) + (center_y * center_y);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             radius = Sqrt(temp);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next calculate the "m_alpha" factor. This finds the smallest integer value m_alpha, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       such that 2^(2 * m_alpha + 3) >= radius                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   Possible values of m_alpha: 0 - 6                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       The radius can be as small as 5, such that 2^(2*0 + 3) = 8, already > radius 5. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 0 if radius = 5.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //       Since the radius can be as large as 32767, (2^15), 2*alpha + 3 = 15   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //           -> m_alpha = 6 if radius = 32767.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Once m_alpha is computed, each straight subsegment around the circle spans an arc of D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   alpha = 1/(2^m_alpha) radians between its vertices.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since m_alpha is in the range 0-6, each arc angle is between 0.9 and 57.3 degrees: D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At smallest radius, (1/2^0) = 1; angle between vertices is 1 radian (57.3). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   At largest radius, (1/2^6) = 1/64; angle between vertices is 1/64 =0.15625 radian, (0.9). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Rather than computing alpha (usually fractional), we keep track of m_alpha, and use it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   with bit shifts.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.m_alpha = 0; // uint8                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             temp = 1 << ((2 * 0) + 3);  // left this way for clarity                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while (temp < radius)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gMoveTemp.m.cm.m_alpha += 1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               temp = (1 << ((2 * gMoveTemp.m.cm.m_alpha) + 3)); // temp is uint16 (use bit shift instead of power) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Next, compute what 1.5 * the typical subsegment length is.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the final vertex is within this distance of the start, just use a single D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //   move between them, rather than an arc with multiple subsegments.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // The typical length of a subsegment around the circumference is:             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // (radius * angle_between_vertices_in_radians) = radius * alpha               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //                                   = radius * (1/2^m_alpha) = radius >> m_alpha D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // 0.5 times the length is radius >> (m_alpha + 1)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Thus 1.5 times the length is (radius >> m_alpha) + (radius >> (m_alpha + 1)): D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.m.cm.typ_seg = (radius >> gMoveTemp.m.cm.m_alpha);   // uint8        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             typ_seg_long = gMoveTemp.m.cm.typ_seg + (radius >> (gMoveTemp.m.cm.m_alpha + 1)); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Get absolute value of move length in X and Y                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_1 = (gMoveTemp.m.cm.x_t - gMoveTemp.m.cm.x_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_1 = -sTemp16_1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             sTemp16_2 = (gMoveTemp.m.cm.y_t - gMoveTemp.m.cm.y_f);  // signed 32 = signed 16 - signed 16 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (sTemp16_2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               sTemp16_2 = -sTemp16_2;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And if both x and y move length are too small, then just do a simple        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // straight move by calling process_simple_rate_move()                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if ((sTemp16_1 < (INT16)typ_seg_long) && (sTemp16_2 < (INT16)typ_seg_long))    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // This is a very short move; cannot make an arc here.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Instead, process it like an SM or HM move with:                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_x = x_f - x_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      step_dist_y = y_f - y_t                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               //      And step frequency given by StepFreq.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps1 = gMoveTemp.m.cm.x_f - gMoveTemp.m.cm.x_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gSteps2 = gMoveTemp.m.cm.y_f - gMoveTemp.m.cm.y_t;                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gHM_StepRate = frequency;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gClearAccs = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               process_simple_rate_move();                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // After making our short straight line, we're done.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_OK_NORM);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #if 0                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                              # Next: Precompute VScaleK (Velocity Scaling Factor K):                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This is a scaling factor that we will later use, in the ISR, to calculate the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   correct velocity in each axis from the number of steps in each axis.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # At a given vertex around the circle, the distance to the next vertex is (Dx, Dy). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   The velocity at that vertex is (K * Dx, K * Dy), where the velocity scale factor K D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   is K = (Forward_velocity/typical_length_of_subsegment)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^31/ 25000) / (radius * alpha)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28/ 3125) / (radius >> m_alpha)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #        = (StepFreq * 2^28 << m_alpha ) / ( 3125 * radius)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   (Here, we have noted that 25000 = 8 * 3125 = 3125 * 2^3)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # To keep the multiplication within the ISR as 16 x 16 bit, we need a final VScaleK D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   that can be represented by uint16 (without losing too many digits of precision). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   Most of the special cases are to manage the great variation in K that is possible D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   because radius can range from 5-32767, and StepFreq can range from 1-25000. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left = 28                  # Counter for bits remaining to shift (int8) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               bits_left += m_alpha                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (StepFreq >= 256):   # StepFreq is in range 256 - 25000                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 17                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 17                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 3.35E7 - 3.27E9 (Almost 2^25 - Almost 2^32)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # StepFreq is in range 1 - 255                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   StepFreq = StepFreq << 24                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 24                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # StepFreq now in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               denom = 3125 * radius # uint32                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # denom is in range 1.67E7 - 4.27E9 (2^24 - Almost 2^32)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (radius >= 256):     # Radius is in range 256 - 32767                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                       # Possibly implement by checking that high byte != 0. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 11                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 11                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 3906 - 50000 (Almost 2^12 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                   # Radius is in range 1 - 255                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   denom = denom >> 1                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left -= 1                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   # Denom now in range 1562 - 39843 (Almost 2^11 - Almost 2^16)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Now the "big" division operation -- just one, thankfully.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               VScaleK = int(StepFreq / denom) # (uint24?)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Largest possible VScaleK: 4.27E9 / 1562 = 2.733E6 (almost 2^22)            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Smallest possible VScaleK: 1.67E7 / 50000 = 334 (almost 2^9)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if VScaleK > 65536:             # possibly check that high bytes are nonzero. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   VScaleK = VScaleK >> 4                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   bits_left += 4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # VScaleK value range is now 334 - 42,703, all < 2^16.                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # ->  VScaleK can now be re-cast as a uint16.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Finally, set up variables to manage "local" position in ISR.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t # int16 Variables to store last (16-bit) position value     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t # int16                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Scale X, Y values up by 65536. The step positions are 16-bit signed, but   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   we need additional resolution to avoid adding rounding errors since we   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   do compute each new position from the last position.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t = x_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t = y_t << 16                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               -----------------------------------------                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # This concludes the "precomputation" stage. We now -- still in the "parsing" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   stage -- compute the velocities and step counts for the first subsegment only. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # The nominal step distances to move are:                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_x = -1 * ( x_t >> (2 * m_alpha + 1)) - (y_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   d_y = -1 * ( y_t >> (2 * m_alpha + 1)) + (x_t >> m_alpha)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # HOWEVER, right-shift division of negative integers isn't "clean" (e.g., -1 >> 1 == -1), D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               #   so we instead use several cases with positive integers and right shifts. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               alpha_shift = (m_alpha << 1) + 1                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = ( - x_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = -( - x_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_1 = -( x_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_2 = ( x_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_t < 0:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = ( - y_t >> alpha_shift)                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = -( - y_t >> m_alpha)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_1 = -( y_t >> alpha_shift)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_2 = ( y_t >> m_alpha)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if direction:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 + y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 - x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_x = x_1 - y_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   d_y = y_1 + x_2                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Update 32-bit position values:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t += d_x                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t += d_y                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find new 16-bit position value.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # In firmware, take two high bytes of position; do not actually shift/divide. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_t_16 = x_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_t_16 = y_t >> 16 # Psuedocode only;(DO NOT ACTUALLY SHIFT)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Find Step count and directions.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_steps = x_t_16 - x_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_steps = y_t_16 - y_pos_last                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if x_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = -x_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_x = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   x_stepcount = x_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if y_steps < 0:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 0 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = -y_steps                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   stepdir_y = 1 # Set direction bits                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   y_stepcount = y_steps                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               # Rate factors: Rate_x, Rate_y : 32-bit unsigned                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if bits_left >= 0:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) << bits_left                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               else:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_x = (x_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   Rate_y = (y_stepcount * VScaleK) >> -bits_left                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               x_pos_last = x_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               y_pos_last = y_t_16                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Now, begin an SM/XM/HM type linear move with:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * stepdir_x, stepdir_y                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * x_stepcount, y_stepcount                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   * Rate_x, Rate_y                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               In addition to the step/direction/rate values (normally in the FIFO),        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   I think we'll need the following values attached to this command:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - VScaleK       # uint16                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - m_alpha       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - bits_left     # int8                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_f           # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_t           # int32                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - direction     # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - y_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - x_pos_last    # int16                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                       - typ_seg       # uint8                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             /// For CM, how do we know which direction we need to move first?              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps1 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps1 = -gTmpSteps1;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  if (gTmpSteps2 < 0)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  {                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///    gTmpSteps2 = -gTmpSteps2;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  }                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[0].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[0] = gTmpSteps1;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[0] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Rate[1].value = gTmpIntervals;                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Steps[1] = gTmpSteps2;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           ///  gMoveTemp.m.sm.Accel[1] = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             gMoveTemp.Command = COMMAND_CM_OUTER_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_BIT_NUM))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002346   ec9b     CALL      0x3336,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002348   f019                                                                                                               
00234a   0e25     MOVLW     0x25           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00234c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00234e   e202     BC        0x2354                                                                                          
002350   6ae1     CLRF      0xe1,0x0                                                                                        
002352   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002354   ef93     GOTO      0x3326                                                                                          
002356   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Home the motors                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // "HM,<StepFrequency>,<Pos1>,<Pos2><CR>"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <StepFrequency> is the desired rate of the primary (larger) axis in steps/s.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   It is allowed to be from 1 to 25000.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both optional. If <Pos1> is present, <Pos2> must        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // also be present. If not present they are both assumed to be 0 (i.e.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a true 'home' move). If present, they will instruct the EBB to perform        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a move to the absolute position <Pos1>,<Pos2>.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Pos1> and <Pos2> are both signed 32 bit integers. Values from                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // -2147483647 to 2147483647 are allowed for each.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command uses the current global step counts compute the number of        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to reach the target position. (either 0,0 or Pos1,Pos2)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // There is a limitation to <Pos1> and <Pos2>. When they are each added          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to the negative of the current global position to compute the number of       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // steps necessary to complete this HM move, the sum must not overflow a         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // signed 32 bit number. An overflow like this will generate an error.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that this situation is very unlikely to occur, as 0x7FFFFFFF steps       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (the maximum number of steps a signed 32 bit int can represent) will take     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 23 hours to execute at the highest step rate (25Ks/s).                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The primary axis will be whichever one has to move more steps.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The secondary axis will be the non-primary axis.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For this function, if <StepFrequency> is too high or too low, we don't error  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // out, we just use a legal value instead (25,000 or 1 s/s).                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // When parsing this command, we always wait until both the FIFO is empty and    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the motion commands are finished. By waiting until both the FIFO (queue) and  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // motion commands are empty, we get an accurate picture of where the global     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // step position is.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Once the move has been figured out, we call process_simple_rate_move().       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Some global variables are used in this function instead of local ones:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_StepRate is used for StepRate                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos1 is used for Pos1                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_Pos2 is used for Pos2                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2 is used as parameter for process_simple_rate_move                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002358   ec96     CALL      0x3b2c,0x0     void parse_HM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00235a   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00235c   0e01     MOVLW     0x1              BOOL   CommandExecuting = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00235e   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002360   ecb1     CALL      0x3962,0x0       clear_parmaeter_globals();  // Note: clears gHM_Pos1 and 2                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002362   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002364   0e01     MOVLW     0x1              extract_number(kLONG,  &gHM_Pos1,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002366   6ee6     MOVWF     0xe6,0x0                                                                                        
002368   0ed8     MOVLW     0xd8                                                                                            
00236a   6ee6     MOVWF     0xe6,0x0                                                                                        
00236c   0e01     MOVLW     0x1                                                                                             
00236e   ec43     CALL      0x3c86,0x0                                                                                      
002370   f01e                                                                                                               
002372   6ee6     MOVWF     0xe6,0x0         extract_number(kLONG,  &gHM_Pos2,     kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002374   0ee8     MOVLW     0xe8                                                                                            
002376   6ee6     MOVWF     0xe6,0x0                                                                                        
002378   0e01     MOVLW     0x1                                                                                             
00237a   ec43     CALL      0x3c86,0x0                                                                                      
00237c   f01e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // StepRate must be from 1 to 25000                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00237e   0101     MOVLB     0x1              if (gHM_StepRate < 1u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002380   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
002382   0e00     MOVLW     0x0                                                                                             
002384   59c9     SUBWFB    0xc9,0x0,0x1                                                                                    
002386   0e00     MOVLW     0x0                                                                                             
002388   59ca     SUBWFB    0xca,0x0,0x1                                                                                    
00238a   0e00     MOVLW     0x0                                                                                             
00238c   59cb     SUBWFB    0xcb,0x0,0x1                                                                                    
00238e   e204     BC        0x2398                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002390   0e01     MOVLW     0x1                gHM_StepRate = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002392   6fc8     MOVWF     0xc8,0x1                                                                                        
002394   6bc9     CLRF      0xc9,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002396   d009     BRA       0x23aa           else if (gHM_StepRate > 25000u)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002398   80d8     BSF       0xd8,0x0,0x0                                                                                    
00239a   0ea8     MOVLW     0xa8                                                                                            
00239c   ec15     CALL      0x382a,0x0                                                                                      
00239e   f01c                                                                                                               
0023a0   e206     BC        0x23ae                                                                                          
00382a   55c8     SUBFWB    0xc8,0x0,0x1                                                                                    
00382c   0e61     MOVLW     0x61                                                                                            
00382e   55c9     SUBFWB    0xc9,0x0,0x1                                                                                    
003830   0e00     MOVLW     0x0                                                                                             
003832   55ca     SUBFWB    0xca,0x0,0x1                                                                                    
003834   0e00     MOVLW     0x0                                                                                             
003836   55cb     SUBFWB    0xcb,0x0,0x1                                                                                    
003838   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023a2   0ea8     MOVLW     0xa8               gHM_StepRate = 25000;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023a4   6fc8     MOVWF     0xc8,0x1                                                                                        
0023a6   0e61     MOVLW     0x61                                                                                            
0023a8   6fc9     MOVWF     0xc9,0x1                                                                                        
0023aa   6bca     CLRF      0xca,0x1                                                                                        
0023ac   6bcb     CLRF      0xcb,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Wait until FIFO is empty                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023ae   5013     MOVF      0x13,0x0,0x0     while(gFIFOLength >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023b0   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
0023b2   e2fd     BC        0x23ae                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Then wait for motion command to finish (if one's running)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023b4   04df     DECF      0xdf,0x0,0x0     while (CommandExecuting == TRUE)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023b6   e10a     BNZ       0x23cc                                                                                          
0023ca   d7f4     BRA       0x23b4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023b8   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // See if there is either a delay or a command executing                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023ba   0101     MOVLB     0x1                if ((CurrentCommand.m.sm.DelayCounter == 0u) && (CurrentCommand.Command == COMMAND_NONE)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023bc   ecf6     CALL      0x37ec,0x0                                                                                      
0023be   f01b                                                                                                               
0023c0   e103     BNZ       0x23c8                                                                                          
0023c2   5185     MOVF      0x85,0x0,0x1                                                                                    
0023c4   e101     BNZ       0x23c8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c6   6adf     CLRF      0xdf,0x0             CommandExecuting = FALSE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Re-enable interrupts                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023c8   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about. This is how far we need to move. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023cc   c016     MOVFF     0x16,0x38        gSteps1 = -globalStepCounter1 + gHM_Pos1;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023ce   f038                                                                                                               
0023d0   c017     MOVFF     0x17,0x39                                                                                       
0023d2   f039                                                                                                               
0023d4   c018     MOVFF     0x18,0x3a                                                                                       
0023d6   f03a                                                                                                               
0023d8   c019     MOVFF     0x19,0x3b                                                                                       
0023da   f03b                                                                                                               
0023dc   ec1d     CALL      0x383a,0x0                                                                                      
0023de   f01c                                                                                                               
0023e0   0101     MOVLB     0x1                                                                                             
0023e2   25d8     ADDWF     0xd8,0x0,0x1                                                                                    
0023e4   6fd4     MOVWF     0xd4,0x1                                                                                        
0023e6   5035     MOVF      0x35,0x0,0x0                                                                                    
0023e8   21d9     ADDWFC    0xd9,0x0,0x1                                                                                    
0023ea   6fd5     MOVWF     0xd5,0x1                                                                                        
0023ec   5036     MOVF      0x36,0x0,0x0                                                                                    
0023ee   21da     ADDWFC    0xda,0x0,0x1                                                                                    
0023f0   6fd6     MOVWF     0xd6,0x1                                                                                        
0023f2   5037     MOVF      0x37,0x0,0x0                                                                                    
0023f4   21db     ADDWFC    0xdb,0x0,0x1                                                                                    
0023f6   6fd7     MOVWF     0xd7,0x1                                                                                        
00383a   d9a0     RCALL     0x3b7c                                                                                          
00383c   5034     MOVF      0x34,0x0,0x0                                                                                    
00383e   0012     RETURN    0x0                                                                                             
0023f8   c01a     MOVFF     0x1a,0x38        gSteps2 = -globalStepCounter2 + gHM_Pos2;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0023fa   f038                                                                                                               
0023fc   c01b     MOVFF     0x1b,0x39                                                                                       
0023fe   f039                                                                                                               
002400   c01c     MOVFF     0x1c,0x3a                                                                                       
002402   f03a                                                                                                               
002404   c01d     MOVFF     0x1d,0x3b                                                                                       
002406   f03b                                                                                                               
002408   ec1d     CALL      0x383a,0x0                                                                                      
00240a   f01c                                                                                                               
00240c   0101     MOVLB     0x1                                                                                             
00240e   25e8     ADDWF     0xe8,0x0,0x1                                                                                    
002410   6fe4     MOVWF     0xe4,0x1                                                                                        
002412   5035     MOVF      0x35,0x0,0x0                                                                                    
002414   21e9     ADDWFC    0xe9,0x0,0x1                                                                                    
002416   6fe5     MOVWF     0xe5,0x1                                                                                        
002418   5036     MOVF      0x36,0x0,0x0                                                                                    
00241a   21ea     ADDWFC    0xea,0x0,0x1                                                                                    
00241c   6fe6     MOVWF     0xe6,0x1                                                                                        
00241e   5037     MOVF      0x37,0x0,0x0                                                                                    
002420   21eb     ADDWFC    0xeb,0x0,0x1                                                                                    
002422   6fe7     MOVWF     0xe7,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Always clear accumulators for this type of move                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002424   6bcc     CLRF      0xcc,0x1         gClearAccs = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002426   6bcd     CLRF      0xcd,0x1                                                                                        
002428   6bce     CLRF      0xce,0x1                                                                                        
00242a   6bcf     CLRF      0xcf,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gHM_StepRate                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00242c   d811     RCALL     0x2450           process_simple_rate_move();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00242e   ec9b     CALL      0x3336,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002430   f019                                                                                                               
002432   efb2     GOTO      0x3564         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002434   f01a                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Test Rate                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simple function to allow testing of the process_simple_rate_move() command.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Simply take the parameters from the user and pass them on to the move.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_TR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002436   ecb1     CALL      0x3962,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002438   f01c                                                                                                               
003962   d9fb     RCALL     0x3d5a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract the three parameters                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003964   0ec8     MOVLW     0xc8             extract_number(kULONG, &gHM_StepRate, kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003966   6ee6     MOVWF     0xe6,0x0                                                                                        
003968   0e01     MOVLW     0x1                                                                                             
00396a   ef9e     GOTO      0x3d3c                                                                                          
00396c   f01e                                                                                                               
003d3c   6ee6     MOVWF     0xe6,0x0                                                                                        
003d3e   0e07     MOVLW     0x7                                                                                             
003d40   efb8     GOTO      0x3170                                                                                          
003d42   f018                                                                                                               
00243a   6ae6     CLRF      0xe6,0x0         extract_number(kLONG,  &gSteps1,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00243c   0ed4     MOVLW     0xd4                                                                                            
00243e   6ee6     MOVWF     0xe6,0x0                                                                                        
002440   0e01     MOVLW     0x1                                                                                             
002442   ec72     CALL      0x3ce4,0x0                                                                                      
002444   f01e                                                                                                               
002446   ec95     CALL      0x392a,0x0       extract_number(kLONG,  &gSteps2,      kREQUIRED);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002448   f01c                                                                                                               
                                             extract_number(kULONG, &gClearAccs,   kOPTIONAL);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set up these values as input parameters                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gHM_StepRate                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps1                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gSteps2                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             //  gClearAccs                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00244a   d802     RCALL     0x2450           process_simple_rate_move();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00244c   ef9b     GOTO      0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00244e   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is the generic function for processing simple moves which use a          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 'rate' input parameter rather than a duration. The 'rate' parameter           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // is applied to the axis that has more steps (primary axis). The other axis     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (secondary axis) gets a rate which is appropriate to making a straight line.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gHM_StepRate can be between 1 and 25000 inclusive                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // gSteps1 and gSteps2 are signed 32 bit numbers                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gHM_StepRate    (not modified)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps1         (modified)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gSteps2         (modified)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gClearAccs      (not modified)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002450   ec76     CALL      0x3aec,0x0     void process_simple_rate_move(void)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002452   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float f;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002454   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002456   d01b     BRA       0x248e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002458   0e37     MOVLW     0x37               ebb_print((far rom char *)"Rate=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00245a   6e46     MOVWF     0x46,0x0                                                                                        
00245c   0e7c     MOVLW     0x7c                                                                                            
00245e   ecbe     CALL      0x317c,0x0                                                                                      
002460   f018                                                                                                               
002462   c1c8     MOVFF     0x1c8,0xfe6        ebb_print_uint(gHM_StepRate);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002464   ffe6                                                                                                               
002466   c1c9     MOVFF     0x1c9,0xfe6                                                                                     
002468   ffe6                                                                                                               
00246a   c1ca     MOVFF     0x1ca,0xfe6                                                                                     
00246c   ffe6                                                                                                               
00246e   c1cb     MOVFF     0x1cb,0xfe6                                                                                     
002470   ffe6                                                                                                               
002472   ec72     CALL      0x32e4,0x0                                                                                      
002474   f019                                                                                                               
002476   0eb7     MOVLW     0xb7               ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002478   6e46     MOVWF     0x46,0x0                                                                                        
00247a   0e7c     MOVLW     0x7c                                                                                            
00247c   ecbe     CALL      0x317c,0x0                                                                                      
00247e   f018                                                                                                               
002480   ecf3     CALL      0x35e6,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002482   f01a                                                                                                               
0035e6   c1d4     MOVFF     0x1d4,0xfe6                                                                                     
0035e8   ffe6                                                                                                               
0035ea   c1d5     MOVFF     0x1d5,0xfe6                                                                                     
0035ec   ffe6                                                                                                               
0035ee   c1d6     MOVFF     0x1d6,0xfe6                                                                                     
0035f0   ffe6                                                                                                               
0035f2   c1d7     MOVFF     0x1d7,0xfe6                                                                                     
0035f4   ffe6                                                                                                               
0035f6   efad     GOTO      0x395a                                                                                          
0035f8   f01c                                                                                                               
00395a   ec87     CALL      0x870e,0x0                                                                                      
00395c   f043                                                                                                               
00395e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003960   d1a4     BRA       0x3caa                                                                                          
003caa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003cac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003cae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003cb0   0012     RETURN    0x0                                                                                             
002484   0e9e     MOVLW     0x9e               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002486   6e46     MOVWF     0x46,0x0                                                                                        
002488   0e7c     MOVLW     0x7c                                                                                            
00248a   ec1e     CALL      0x3c3c,0x0                                                                                      
00248c   f01e                                                                                                               
003c3c   ecbe     CALL      0x317c,0x0                                                                                      
003c3e   f018                                                                                                               
003c40   c1e4     MOVFF     0x1e4,0xfe6        ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c42   ffe6                                                                                                               
003c44   c1e5     MOVFF     0x1e5,0xfe6                                                                                     
003c46   ffe6                                                                                                               
003c48   c1e6     MOVFF     0x1e6,0xfe6                                                                                     
003c4a   ffe6                                                                                                               
003c4c   c1e7     MOVFF     0x1e7,0xfe6                                                                                     
003c4e   ffe6                                                                                                               
003c50   de84     RCALL     0x395a                                                                                          
003c52   efbb     GOTO      0x3376             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003c54   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00248e   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002490   d0a3     BRA       0x25d8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // And check for a bad rate value                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002492   80d8     BSF       0xd8,0x0,0x0     if ((gHM_StepRate > 25000u) || (gHM_StepRate == 0u))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002494   0ea8     MOVLW     0xa8                                                                                            
002496   0101     MOVLB     0x1                                                                                             
002498   ec15     CALL      0x382a,0x0                                                                                      
00249a   f01c                                                                                                               
00249c   e303     BNC       0x24a4                                                                                          
00249e   ec88     CALL      0x3710,0x0                                                                                      
0024a0   f01b                                                                                                               
0024a2   e106     BNZ       0x24b0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024a4   0e17     MOVLW     0x17               ebb_print((far rom char *)"!0 Err: StepRate invalid value.");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024a6   6e46     MOVWF     0x46,0x0                                                                                        
0024a8   0e7c     MOVLW     0x7c                                                                                            
0024aa   eccb     CALL      0x3b96,0x0                                                                                      
0024ac   f01d                                                                                                               
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ae   d094     BRA       0x25d8             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If, for some reason, we're called with zero steps for both axis, then bail  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b0   ec57     CALL      0x36ae,0x0       if ((gSteps1 == 0) && (gSteps2 == 0))                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024b2   f01b                                                                                                               
0024b4   e104     BNZ       0x24be                                                                                          
0024b6   ec5c     CALL      0x36b8,0x0                                                                                      
0024b8   f01b                                                                                                               
0024ba   e101     BNZ       0x24be                                                                                          
0024bc   d08d     BRA       0x25d8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024be   c1cc     MOVFF     0x1cc,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c0   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c2   ecb2     CALL      0x3764,0x0       gMoveTemp.m.sm.DelayCounter = 0;    // A rate move is never a delay, so clear  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c4   f01b                                                                                                               
003764   0101     MOVLB     0x1                                                                                             
003766   6b2b     CLRF      0x2b,0x1                                                                                        
003768   6b2c     CLRF      0x2c,0x1                                                                                        
00376a   6b2d     CLRF      0x2d,0x1                                                                                        
00376c   6b2e     CLRF      0x2e,0x1                                                                                        
00376e   6b2a     CLRF      0x2a,0x1         gMoveTemp.m.sm.DirBits = 0;         // Start with positive direction for both  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c6   e102     BNZ       0x24cc           if (gAutomaticMotorEnable == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003770   0100     MOVLB     0x0                                                                                             
003772   05d9     DECF      0xd9,0x0,0x1                                                                                    
003774   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Enable both motors when we want to move them                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024c8   908d     BCF       0x8d,0x0,0x0       Enable1IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ca   928b     BCF       0x8b,0x1,0x0       Enable2IO = ENABLE_MOTOR;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First, set the direction bits                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024cc   0101     MOVLB     0x1              if (gSteps1 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024ce   0e80     MOVLW     0x80                                                                                            
0024d0   15d7     ANDWF     0xd7,0x0,0x1                                                                                    
0024d2   e002     BZ        0x24d8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d4   ec3f     CALL      0x367e,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d6   f01b                                                                                                               
00367e   0e80     MOVLW     0x80                                                                                            
003680   0101     MOVLB     0x1                                                                                             
003682   112a     IORWF     0x2a,0x0,0x1                                                                                    
003684   6f2a     MOVWF     0x2a,0x1                                                                                        
003686   0e00     MOVLW     0x0                gSteps1 = -gSteps1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003688   0101     MOVLB     0x1                                                                                             
00368a   ef7f     GOTO      0x3afe                                                                                          
00368c   f01d                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024d8   0e80     MOVLW     0x80             if (gSteps2 < 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024da   15e7     ANDWF     0xe7,0x0,0x1                                                                                    
0024dc   e002     BZ        0x24e2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024de   ec47     CALL      0x368e,0x0         gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024e0   f01b                                                                                                               
00368e   0e20     MOVLW     0x20                                                                                            
003690   0101     MOVLB     0x1                                                                                             
003692   112a     IORWF     0x2a,0x0,0x1                                                                                    
003694   6f2a     MOVWF     0x2a,0x1                                                                                        
003696   0e00     MOVLW     0x0                gSteps2 = -gSteps2;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003698   0101     MOVLB     0x1                                                                                             
00369a   ef87     GOTO      0x3b0e                                                                                          
00369c   f01d                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Both Steps values are now positive because our directions are set. From     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // now on we're dealing only with step counts and rates, no directions.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Figure out which axis is major                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024e2   0ed4     MOVLW     0xd4             if (gSteps1 >= gSteps2)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0024e4   6ee9     MOVWF     0xe9,0x0                                                                                        
0024e6   0e01     MOVLW     0x1                                                                                             
0024e8   6eea     MOVWF     0xea,0x0                                                                                        
0024ea   0e03     MOVLW     0x3                                                                                             
0024ec   50eb     MOVF      0xeb,0x0,0x0                                                                                    
0024ee   19e7     XORWF     0xe7,0x0,0x1                                                                                    
0024f0   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0024f2   d002     BRA       0x24f8                                                                                          
0024f4   35e7     RLCF      0xe7,0x0,0x1                                                                                    
0024f6   d008     BRA       0x2508                                                                                          
0024f8   51e4     MOVF      0xe4,0x0,0x1                                                                                    
0024fa   5cee     SUBWF     0xee,0x0,0x0                                                                                    
0024fc   51e5     MOVF      0xe5,0x0,0x1                                                                                    
0024fe   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002500   51e6     MOVF      0xe6,0x0,0x1                                                                                    
002502   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002504   51e7     MOVF      0xe7,0x0,0x1                                                                                    
002506   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
002508   e32a     BNC       0x255e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis1 is major, Axis2 is minor                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Computing the gMoveTemp.m.sm.Rate value for the primary axis is simple.   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // gMoveTemp.m.sm.Rate is simply gHM_StepRate * 85899.34592.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00250a   ecf2     CALL      0x33e4,0x0         gMoveTemp.m.sm.Rate[0].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00250c   f019                                                                                                               
00250e   ecbb     CALL      0x3776,0x0                                                                                      
002510   f01b                                                                                                               
0033e4   ec69     CALL      0x3cd2,0x0                                                                                      
0033e6   f01e                                                                                                               
0033e8   ecef     CALL      0x75de,0x0                                                                                      
0033ea   f03a                                                                                                               
0033ec   db36     RCALL     0x3a5a                                                                                          
0033ee   0eac     MOVLW     0xac                                                                                            
0033f0   6e3e     MOVWF     0x3e,0x0                                                                                        
0033f2   0ec5     MOVLW     0xc5                                                                                            
0033f4   6e3f     MOVWF     0x3f,0x0                                                                                        
0033f6   0ea7     MOVLW     0xa7                                                                                            
0033f8   6e40     MOVWF     0x40,0x0                                                                                        
0033fa   0e47     MOVLW     0x47                                                                                            
0033fc   6e41     MOVWF     0x41,0x0                                                                                        
0033fe   ec5d     CALL      0x76ba,0x0                                                                                      
003400   f03b                                                                                                               
003402   effe     GOTO      0x77fc                                                                                          
003404   f03b                                                                                                               
003776   c038     MOVFF     0x38,0x130                                                                                      
003778   f130                                                                                                               
00377a   c039     MOVFF     0x39,0x131                                                                                      
00377c   f131                                                                                                               
00377e   c03a     MOVFF     0x3a,0x132                                                                                      
003780   f132                                                                                                               
003782   c03b     MOVFF     0x3b,0x133                                                                                      
003784   f133                                                                                                               
003786   0012     RETURN    0x0                                                                                             
003a5a   c039     MOVFF     0x39,0x46                                                                                       
003a5c   f046                                                                                                               
003a5e   c03a     MOVFF     0x3a,0x47                                                                                       
003a60   f047                                                                                                               
003a62   c03b     MOVFF     0x3b,0x48                                                                                       
003a64   f048                                                                                                               
003a66   c03c     MOVFF     0x3c,0x49                                                                                       
003a68   f049                                                                                                               
003a6a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002512   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002514   ec5c     CALL      0x36b8,0x0                                                                                      
002516   f01b                                                                                                               
002518   e01c     BZ        0x2552                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know secondary axis is non-zero move length, so compute it's rate    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // such that the ratio of primary steps/rate is the same as secondary      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // steps/rate.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 //                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // The ratio of steps/rate will need to be the same for both axis          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // to make a straight line. So if S1 is axis1 steps, S2 is axis2 steps,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R1 is axis1 rate and R2 is axis2 rate, then                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // S1/R1 = S2/R2.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We know all but R2, so solving for R2 we get                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // R2 = (S2*R1)/S1                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We break one of the EBB firmware rules here and use floating point      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // operations, as it is the perfect solution to maintaining as much        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // resolution as possible when computing the secondary rate. And it's not  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // even that slow - both the above primary rate multiply and the following D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // two multiplies and a divide, this whole function take less than 350 uS. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00251a   ec8c     CALL      0x3518,0x0           f = (float)gSteps2 * (float)gHM_StepRate;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00251c   f01a                                                                                                               
00251e   ec89     CALL      0x3312,0x0                                                                                      
002520   f019                                                                                                               
003312   ecf1     CALL      0x75e2,0x0                                                                                      
003314   f03a                                                                                                               
003316   dba1     RCALL     0x3a5a                                                                                          
003318   ec69     CALL      0x3cd2,0x0                                                                                      
00331a   f01e                                                                                                               
00331c   db28     RCALL     0x396e                                                                                          
00331e   ec5d     CALL      0x76ba,0x0                                                                                      
003320   f03b                                                                                                               
003322   ef48     GOTO      0x3a90                                                                                          
003324   f01d                                                                                                               
003cd2   c1c8     MOVFF     0x1c8,0x38                                                                                      
003cd4   f038                                                                                                               
003cd6   c1c9     MOVFF     0x1c9,0x39                                                                                      
003cd8   f039                                                                                                               
003cda   c1ca     MOVFF     0x1ca,0x3a                                                                                      
003cdc   f03a                                                                                                               
003cde   c1cb     MOVFF     0x1cb,0x3b                                                                                      
003ce0   f03b                                                                                                               
003ce2   0012     RETURN    0x0                                                                                             
002522   ec83     CALL      0x3506,0x0           f /= (float)gSteps1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002524   f01a                                                                                                               
002526   ec32     CALL      0x3264,0x0                                                                                      
002528   f019                                                                                                               
003264   ecf1     CALL      0x75e2,0x0                                                                                      
003266   f03a                                                                                                               
003268   dbf8     RCALL     0x3a5a                                                                                          
00326a   dbba     RCALL     0x39e0                                                                                          
00326c   c049     MOVFF     0x49,0x41                                                                                       
00326e   f041                                                                                                               
003270   ec0a     CALL      0x7614,0x0                                                                                      
003272   f03b                                                                                                               
003274   ec67     CALL      0x3ace,0x0                                                                                      
003276   f01d                                                                                                               
0039e0   d95f     RCALL     0x3ca0                                                                                          
0039e2   cfee     MOVFF     0xfee,0x39                                                                                      
0039e4   f039                                                                                                               
0039e6   cfee     MOVFF     0xfee,0x3a                                                                                      
0039e8   f03a                                                                                                               
0039ea   cfee     MOVFF     0xfee,0x3b                                                                                      
0039ec   f03b                                                                                                               
0039ee   cfef     MOVFF     0xfef,0x3c                                                                                      
0039f0   f03c                                                                                                               
0039f2   c046     MOVFF     0x46,0x3e                                                                                       
0039f4   f03e                                                                                                               
0039f6   c047     MOVFF     0x47,0x3f                                                                                       
0039f8   f03f                                                                                                               
0039fa   c048     MOVFF     0x48,0x40                                                                                       
0039fc   f040                                                                                                               
0039fe   0012     RETURN    0x0                                                                                             
003ace   c03c     MOVFF     0x3c,0xfed                                                                                      
003ad0   ffed                                                                                                               
003ad2   c03b     MOVFF     0x3b,0xfed                                                                                      
003ad4   ffed                                                                                                               
003ad6   c03a     MOVFF     0x3a,0xfed                                                                                      
003ad8   ffed                                                                                                               
003ada   c039     MOVFF     0x39,0xfef                                                                                      
003adc   ffef                                                                                                               
003ade   0012     RETURN    0x0                                                                                             
003ca0   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
003ca2   ffe9                                                                                                               
003ca4   cfda     MOVFF     0xfda,0xfea                                                                                     
003ca6   ffea                                                                                                               
003ca8   0012     RETURN    0x0                                                                                             
003278   0eac     MOVLW     0xac                 f *= 85899.34592f;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00327a   6e46     MOVWF     0x46,0x0                                                                                        
00327c   0ec5     MOVLW     0xc5                                                                                            
00327e   6e47     MOVWF     0x47,0x0                                                                                        
003280   0ea7     MOVLW     0xa7                                                                                            
003282   6e48     MOVWF     0x48,0x0                                                                                        
003284   0e47     MOVLW     0x47                                                                                            
003286   6e49     MOVWF     0x49,0x0                                                                                        
003288   dbab     RCALL     0x39e0                                                                                          
00328a   6e41     MOVWF     0x41,0x0                                                                                        
00328c   ec5d     CALL      0x76ba,0x0                                                                                      
00328e   f03b                                                                                                               
003290   ec67     CALL      0x3ace,0x0                                                                                      
003292   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Limit check out results                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00252a   e104     BNZ       0x2534               if (f < 1.0f)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003294   db81     RCALL     0x3998                                                                                          
003296   6a3e     CLRF      0x3e,0x0                                                                                        
003298   6a3f     CLRF      0x3f,0x0                                                                                        
00329a   0e80     MOVLW     0x80                                                                                            
00329c   6e40     MOVWF     0x40,0x0                                                                                        
00329e   0e3f     MOVLW     0x3f                                                                                            
0032a0   ec53     CALL      0x3aa6,0x0                                                                                      
0032a2   f01d                                                                                                               
0032a4   ec3e     CALL      0x787c,0x0                                                                                      
0032a6   f03c                                                                                                               
0032a8   0a01     XORLW     0x1                                                                                             
0032aa   0012     RETURN    0x0                                                                                             
003aa6   6e41     MOVWF     0x41,0x0                                                                                        
003aa8   d104     BRA       0x3cb2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00252c   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00252e   0e01     MOVLW     0x1                                                                                             
002530   6f34     MOVWF     0x34,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002532   d011     BRA       0x2556               else if (f > 2147483647.0f)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002534   ec22     CALL      0x3444,0x0                                                                                      
002536   f01a                                                                                                               
002538   e107     BNZ       0x2548                                                                                          
003444   daa9     RCALL     0x3998                                                                                          
003446   6a3e     CLRF      0x3e,0x0                                                                                        
003448   6a3f     CLRF      0x3f,0x0                                                                                        
00344a   6a40     CLRF      0x40,0x0                                                                                        
00344c   0e4f     MOVLW     0x4f                                                                                            
00344e   db2b     RCALL     0x3aa6                                                                                          
003450   ec35     CALL      0x786a,0x0                                                                                      
003452   f03c                                                                                                               
003454   0a01     XORLW     0x1                                                                                             
003456   0012     RETURN    0x0                                                                                             
003998   d983     RCALL     0x3ca0                                                                                          
00399a   cfee     MOVFF     0xfee,0x46                                                                                      
00399c   f046                                                                                                               
00399e   cfee     MOVFF     0xfee,0x47                                                                                      
0039a0   f047                                                                                                               
0039a2   cfee     MOVFF     0xfee,0x48                                                                                      
0039a4   f048                                                                                                               
0039a6   cfef     MOVFF     0xfef,0x49                                                                                      
0039a8   f049                                                                                                               
0039aa   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00253a   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[1].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00253c   6934     SETF      0x34,0x1                                                                                        
00253e   6935     SETF      0x35,0x1                                                                                        
002540   6936     SETF      0x36,0x1                                                                                        
002542   0e7f     MOVLW     0x7f                                                                                            
002544   6f37     MOVWF     0x37,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002546   d034     BRA       0x25b0               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002548   ec54     CALL      0x36a8,0x0             gMoveTemp.m.sm.Rate[1].value = (INT32)f;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00254a   f01b                                                                                                               
00254c   ecc4     CALL      0x3788,0x0                                                                                      
00254e   f01b                                                                                                               
0036a8   d9ab     RCALL     0x3a00                                                                                          
0036aa   effe     GOTO      0x77fc                                                                                          
0036ac   f03b                                                                                                               
003788   c038     MOVFF     0x38,0x134                                                                                      
00378a   f134                                                                                                               
00378c   c039     MOVFF     0x39,0x135                                                                                      
00378e   f135                                                                                                               
003790   c03a     MOVFF     0x3a,0x136                                                                                      
003792   f136                                                                                                               
003794   c03b     MOVFF     0x3b,0x137                                                                                      
003796   f137                                                                                                               
003798   0012     RETURN    0x0                                                                                             
003a00   cfde     MOVFF     0xfde,0x39                                                                                      
003a02   f039                                                                                                               
003a04   cfde     MOVFF     0xfde,0x3a                                                                                      
003a06   f03a                                                                                                               
003a08   cfde     MOVFF     0xfde,0x3b                                                                                      
003a0a   f03b                                                                                                               
003a0c   cfdd     MOVFF     0xfdd,0x3c                                                                                      
003a0e   f03c                                                                                                               
003a10   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003a12   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003a14   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002550   d02f     BRA       0x25b0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Because we know Axis2 doesn't need to move, zero everything out         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002552   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002554   6b34     CLRF      0x34,0x1                                                                                        
002556   6b35     CLRF      0x35,0x1                                                                                        
002558   6b36     CLRF      0x36,0x1                                                                                        
00255a   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00255c   d029     BRA       0x25b0           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Axis2 is major, Axis1 is minor, other than that same as above             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00255e   ecf2     CALL      0x33e4,0x0         gMoveTemp.m.sm.Rate[1].value = (INT32)((float)gHM_StepRate * 85899.34592f);  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002560   f019                                                                                                               
002562   ecc4     CALL      0x3788,0x0                                                                                      
002564   f01b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002566   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002568   ec57     CALL      0x36ae,0x0                                                                                      
00256a   f01b                                                                                                               
00256c   e01c     BZ        0x25a6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00256e   ec83     CALL      0x3506,0x0           f = (float)gSteps1 * (float)gHM_StepRate;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002570   f01a                                                                                                               
002572   ec89     CALL      0x3312,0x0                                                                                      
002574   f019                                                                                                               
002576   ec8c     CALL      0x3518,0x0           f /= (float)gSteps2;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002578   f01a                                                                                                               
00257a   ec32     CALL      0x3264,0x0                                                                                      
00257c   f019                                                                                                               
                                                 f *= 85899.34592f;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00257e   e104     BNZ       0x2588               if (f < 1.0f)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002580   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002582   0e01     MOVLW     0x1                                                                                             
002584   6f30     MOVWF     0x30,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002586   d011     BRA       0x25aa               else if (f > 2147483647.0f)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002588   ec22     CALL      0x3444,0x0                                                                                      
00258a   f01a                                                                                                               
00258c   e107     BNZ       0x259c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00258e   0101     MOVLB     0x1                    gMoveTemp.m.sm.Rate[0].value = 2147483647u;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002590   6930     SETF      0x30,0x1                                                                                        
002592   6931     SETF      0x31,0x1                                                                                        
002594   6932     SETF      0x32,0x1                                                                                        
002596   0e7f     MOVLW     0x7f                                                                                            
002598   6f33     MOVWF     0x33,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00259a   d00a     BRA       0x25b0               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00259c   ec54     CALL      0x36a8,0x0             gMoveTemp.m.sm.Rate[0].value = (INT32)f;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00259e   f01b                                                                                                               
0025a0   ecbb     CALL      0x3776,0x0                                                                                      
0025a2   f01b                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a4   d005     BRA       0x25b0             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a6   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025a8   6b30     CLRF      0x30,0x1                                                                                        
0025aa   6b31     CLRF      0x31,0x1                                                                                        
0025ac   6b32     CLRF      0x32,0x1                                                                                        
0025ae   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b0   ec8f     CALL      0x3b1e,0x0       gMoveTemp.m.sm.Steps[0] = gSteps1;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b2   f01d                                                                                                               
003b1e   dd76     RCALL     0x360c                                                                                          
003b20   0101     MOVLB     0x1              gMoveTemp.m.sm.Accel[0] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b22   6b48     CLRF      0x48,0x1                                                                                        
003b24   6b49     CLRF      0x49,0x1                                                                                        
003b26   6b4a     CLRF      0x4a,0x1                                                                                        
003b28   6b4b     CLRF      0x4b,0x1                                                                                        
003b2a   0012     RETURN    0x0                                                                                             
0025b4   ec0f     CALL      0x361e,0x0       gMoveTemp.m.sm.Steps[1] = gSteps2;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025b6   f01b                                                                                                               
0025b8   ec3d     CALL      0x387a,0x0       gMoveTemp.m.sm.Accel[1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ba   f01c                                                                                                               
00387a   6b4c     CLRF      0x4c,0x1                                                                                        
00387c   6b4d     CLRF      0x4d,0x1                                                                                        
00387e   6b4e     CLRF      0x4e,0x1                                                                                        
003880   6b4f     CLRF      0x4f,0x1                                                                                        
003882   0e05     MOVLW     0x5              gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003884   6f29     MOVWF     0x29,0x1                                                                                        
003886   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025bc   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025be   d002     BRA       0x25c4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c0   ec9c     CALL      0x3938,0x0         ebb_print((far rom char *)"R1=");                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c2   f01c                                                                                                               
003938   d9e3     RCALL     0x3d00                                                                                          
00393a   dcd4     RCALL     0x32e4             ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00393c   d970     RCALL     0x3c1e             ebb_print((far rom char *)" S1=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00393e   d9e7     RCALL     0x3d0e             ebb_print((far rom char *)" R2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003940   dcd1     RCALL     0x32e4             ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003942   0e9e     MOVLW     0x9e               ebb_print((far rom char *)" S2=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003944   6e46     MOVWF     0x46,0x0                                                                                        
003946   0e7c     MOVLW     0x7c                                                                                            
003948   d98c     RCALL     0x3c62                                                                                          
                                               ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00394a   efbb     GOTO      0x3376             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00394c   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Spin here until there's space in the FIFO                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c4   5013     MOVF      0x13,0x0,0x0     while (gFIFOLength >= gCurrentFIFOLength)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025c6   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
0025c8   e2fd     BC        0x25c4                                                                                          
                                             ;                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If the limit switch feature has triggered, then ignore this move command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Maybe the limit switch has become true between the top of this function     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // and here? Better check for it.                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ca   b00e     BTFSC     0xe,0x0,0x0      if (!bittstzero(gLimitSwitchTriggered))                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025cc   d005     BRA       0x25d8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now, quick copy over the computed command data to the command FIFO        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ce   eccd     CALL      0x319a,0x0         FIFOPtr[gFIFOIn] = gMoveTemp;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d0   f018                                                                                                               
                                               gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d2   e301     BNC       0x25d6             if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d4   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d6   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025d8   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025da   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0025dc   e202     BC        0x25e2                                                                                          
0025de   6ae1     CLRF      0xe1,0x0                                                                                        
0025e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0025e2   ef93     GOTO      0x3326                                                                                          
0025e4   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The X Stepper Motor command                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: XM,<move_duration>,<axisA_steps>,<axisB_steps><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <move_duration> is a number from 1 to 16777215, indicating the number of milliseconds this move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <axisA_steps> and <axisB_stetsp> are signed 24 bit numbers.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command differs from the normal "SM" command in that it is designed to drive 'mixed-axis' geometry D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // machines like H-Bot and CoreXY. Using XM will effectively call SM with Axis1 = <axisA_steps> + <axisB_steps> and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Axis2 = <axisA_steps> - <axisB_steps>.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // To save on RAM, we will re-use some of the 'gTmp' variables here which aren't D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // needed for their original purpose.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gTmpAccel1 will be used for ASteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   gTmpAccel2 will be used for BSteps                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025e6   ec96     CALL      0x332c,0x0     void parse_XM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025e8   f019                                                                                                               
0025ea   0e04     MOVLW     0x4                                                                                             
0025ec   ec0d     CALL      0x381a,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025ee   f01c                                INT32 Steps = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025f0   ec18     CALL      0x3a30,0x0       clear_parmaeter_globals();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025f2   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kULONG, &gDurationMS, kREQUIRED);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025f4   0ed8     MOVLW     0xd8             extract_number(kLONG, &gAccel1, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025f6   6ee6     MOVWF     0xe6,0x0                                                                                        
0025f8   0e01     MOVLW     0x1                                                                                             
0025fa   ec3d     CALL      0x3c7a,0x0                                                                                      
0025fc   f01e                                                                                                               
003920   6ee6     MOVWF     0xe6,0x0                                                                                        
003922   0e06     MOVLW     0x6                                                                                             
003924   dc25     RCALL     0x3170                                                                                          
003926   6ae6     CLRF      0xe6,0x0         extract_number(kLONG, &gAccel2, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003928   0012     RETURN    0x0                                                                                             
                                             extract_number(kULONG, &gClearAccs, kOPTIONAL);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0025fe   ec9b     CALL      0x3536,0x0       if (gClearAccs > 3u)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002600   f01a                                                                                                               
002602   e205     BC        0x260e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002604   0e03     MOVLW     0x3                gClearAccs = 3;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002606   6fcc     MOVWF     0xcc,0x1                                                                                        
002608   6bcd     CLRF      0xcd,0x1                                                                                        
00260a   6bce     CLRF      0xce,0x1                                                                                        
00260c   6bcf     CLRF      0xcf,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00260e   51c2     MOVF      0xc2,0x0,0x1     if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002610   e007     BZ        0x2620                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check for invalid duration                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002612   51c4     MOVF      0xc4,0x0,0x1       if (gDurationMS == 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002614   11c5     IORWF     0xc5,0x0,0x1                                                                                    
002616   11c6     IORWF     0xc6,0x0,0x1                                                                                    
002618   11c7     IORWF     0xc7,0x0,0x1                                                                                    
00261a   e102     BNZ       0x2620                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00261c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00261e   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Do the math to convert to Axis1 and Axis2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002620   ec5a     CALL      0x38b4,0x0       gSteps1 = gAccel1 + gAccel2;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002622   f01c                                                                                                               
002624   0101     MOVLB     0x1                                                                                             
002626   51d8     MOVF      0xd8,0x0,0x1                                                                                    
002628   24ee     ADDWF     0xee,0x0,0x0                                                                                    
00262a   6fd4     MOVWF     0xd4,0x1                                                                                        
00262c   51d9     MOVF      0xd9,0x0,0x1                                                                                    
00262e   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002630   6fd5     MOVWF     0xd5,0x1                                                                                        
002632   51da     MOVF      0xda,0x0,0x1                                                                                    
002634   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
002636   6fd6     MOVWF     0xd6,0x1                                                                                        
002638   51db     MOVF      0xdb,0x0,0x1                                                                                    
00263a   20ee     ADDWFC    0xee,0x0,0x0                                                                                    
00263c   6fd7     MOVWF     0xd7,0x1                                                                                        
00263e   ec5a     CALL      0x38b4,0x0       gSteps2 = gAccel1 - gAccel2;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002640   f01c                                                                                                               
002642   50ee     MOVF      0xee,0x0,0x0                                                                                    
002644   5dd8     SUBWF     0xd8,0x0,0x1                                                                                    
002646   6fe4     MOVWF     0xe4,0x1                                                                                        
002648   50ee     MOVF      0xee,0x0,0x0                                                                                    
00264a   59d9     SUBWFB    0xd9,0x0,0x1                                                                                    
00264c   6fe5     MOVWF     0xe5,0x1                                                                                        
00264e   50ee     MOVF      0xee,0x0,0x0                                                                                    
002650   59da     SUBWFB    0xda,0x0,0x1                                                                                    
002652   6fe6     MOVWF     0xe6,0x1                                                                                        
002654   50ee     MOVF      0xee,0x0,0x0                                                                                    
002656   59db     SUBWFB    0xdb,0x0,0x1                                                                                    
002658   6fe7     MOVWF     0xe7,0x1                                                                                        
0038b4   0ee8     MOVLW     0xe8                                                                                            
0038b6   6ee9     MOVWF     0xe9,0x0                                                                                        
0038b8   0e01     MOVLW     0x1                                                                                             
0038ba   6eea     MOVWF     0xea,0x0                                                                                        
0038bc   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for too-fast step request (>25KHz)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // First get absolute value of steps, then check if it's asking for >25KHz     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00265a   35d7     RLCF      0xd7,0x0,0x1     if (gSteps1 > 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00265c   0e00     MOVLW     0x0                                                                                             
00265e   19d7     XORWF     0xd7,0x0,0x1                                                                                    
002660   e609     BN        0x2674                                                                                          
002662   80d8     BSF       0xd8,0x0,0x0                                                                                    
002664   0e00     MOVLW     0x0                                                                                             
002666   55d4     SUBFWB    0xd4,0x0,0x1                                                                                    
002668   0e00     MOVLW     0x0                                                                                             
00266a   55d5     SUBFWB    0xd5,0x0,0x1                                                                                    
00266c   0e00     MOVLW     0x0                                                                                             
00266e   55d6     SUBFWB    0xd6,0x0,0x1                                                                                    
002670   0e00     MOVLW     0x0                                                                                             
002672   55d7     SUBFWB    0xd7,0x0,0x1                                                                                    
002674   e20c     BC        0x268e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002676   c1d4     MOVFF     0x1d4,0xfdf        Steps = gSteps1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002678   ffdf                                                                                                               
00267a   0e01     MOVLW     0x1                                                                                             
00267c   c1d5     MOVFF     0x1d5,0xfdb                                                                                     
00267e   ffdb                                                                                                               
002680   0e02     MOVLW     0x2                                                                                             
002682   c1d6     MOVFF     0x1d6,0xfdb                                                                                     
002684   ffdb                                                                                                               
002686   0e03     MOVLW     0x3                                                                                             
002688   c1d7     MOVFF     0x1d7,0xfdb                                                                                     
00268a   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00268c   d004     BRA       0x2696           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00268e   ec83     CALL      0x3506,0x0         Steps = -gSteps1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002690   f01a                                                                                                               
002692   eccb     CALL      0x3596,0x0                                                                                      
002694   f01a                                                                                                               
003596   daf2     RCALL     0x3b7c                                                                                          
003598   c034     MOVFF     0x34,0xfde                                                                                      
00359a   ffde                                                                                                               
00359c   c035     MOVFF     0x35,0xfde                                                                                      
00359e   ffde                                                                                                               
0035a0   c036     MOVFF     0x36,0xfde                                                                                      
0035a2   ffde                                                                                                               
0035a4   c037     MOVFF     0x37,0xfdd                                                                                      
0035a6   ffdd                                                                                                               
0035a8   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0035aa   52dd     MOVF      0xdd,0x1,0x0                                                                                    
0035ac   0012     RETURN    0x0                                                                                             
003b7c   683d     SETF      0x3d,0x0                                                                                        
003b7e   683e     SETF      0x3e,0x0                                                                                        
003b80   683f     SETF      0x3f,0x0                                                                                        
003b82   6840     SETF      0x40,0x0                                                                                        
003b84   ef05     GOTO      0x900a                                                                                          
003b86   f048                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002696   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002698   51c2     MOVF      0xc2,0x0,0x1                                                                                    
00269a   e02f     BZ        0x26fa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Limit each parameter to just 3 bytes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00269c   80d8     BSF       0xd8,0x0,0x0       if (gDurationMS > 0xFFFFFF)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00269e   0eff     MOVLW     0xff                                                                                            
0026a0   55c4     SUBFWB    0xc4,0x0,0x1                                                                                    
0026a2   0eff     MOVLW     0xff                                                                                            
0026a4   55c5     SUBFWB    0xc5,0x0,0x1                                                                                    
0026a6   0eff     MOVLW     0xff                                                                                            
0026a8   55c6     SUBFWB    0xc6,0x0,0x1                                                                                    
0026aa   0e00     MOVLW     0x0                                                                                             
0026ac   55c7     SUBFWB    0xc7,0x0,0x1                                                                                    
0026ae   e204     BC        0x26b8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b0   0ee6     MOVLW     0xe6                 ebb_print((far rom char *)"!0 Err: <move_duration> larger than 16777215 ms."); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b2   6e46     MOVWF     0x46,0x0                                                                                        
0026b4   0e7b     MOVLW     0x7b                                                                                            
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b6   d063     BRA       0x277e               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026b8   ec4f     CALL      0x369e,0x0         if (Steps > 0xFFFFFFl)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ba   f01b                                                                                                               
0026bc   e602     BN        0x26c2                                                                                          
0026be   ec8d     CALL      0x371a,0x0                                                                                      
0026c0   f01b                                                                                                               
0026c2   e204     BC        0x26cc                                                                                          
00369e   d9b0     RCALL     0x3a00                                                                                          
0036a0   343c     RLCF      0x3c,0x0,0x0                                                                                    
0036a2   0e00     MOVLW     0x0                                                                                             
0036a4   183c     XORWF     0x3c,0x0,0x0                                                                                    
0036a6   0012     RETURN    0x0                                                                                             
00371a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00371c   0eff     MOVLW     0xff                                                                                            
00371e   5439     SUBFWB    0x39,0x0,0x0                                                                                    
003720   0eff     MOVLW     0xff                                                                                            
003722   543a     SUBFWB    0x3a,0x0,0x0                                                                                    
003724   0eff     MOVLW     0xff                                                                                            
003726   543b     SUBFWB    0x3b,0x0,0x0                                                                                    
003728   0e00     MOVLW     0x0                                                                                             
00372a   543c     SUBFWB    0x3c,0x0,0x0                                                                                    
00372c   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c4   0eba     MOVLW     0xba                 ebb_print((far rom char *)"!0 Err: <axis1> larger than 16777215 steps.");  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026c6   6e46     MOVWF     0x46,0x0                                                                                        
0026c8   0e7b     MOVLW     0x7b                                                                                            
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ca   d059     BRA       0x277e               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check for too fast                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026cc   ec03     CALL      0x3406,0x0         if ((Steps/gDurationMS) > HIGH_ISR_TICKS_PER_MS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026ce   f01a                                                                                                               
0026d0   e204     BC        0x26da                                                                                          
003406   c1c4     MOVFF     0x1c4,0x3d                                                                                      
003408   f03d                                                                                                               
00340a   c1c5     MOVFF     0x1c5,0x3e                                                                                      
00340c   f03e                                                                                                               
00340e   c1c6     MOVFF     0x1c6,0x3f                                                                                      
003410   f03f                                                                                                               
003412   c1c7     MOVFF     0x1c7,0x40                                                                                      
003414   f040                                                                                                               
003416   cfdf     MOVFF     0xfdf,0x38                                                                                      
003418   f038                                                                                                               
00341a   0e01     MOVLW     0x1                                                                                             
00341c   cfdb     MOVFF     0xfdb,0x39                                                                                      
00341e   f039                                                                                                               
003420   0e02     MOVLW     0x2                                                                                             
003422   cfdb     MOVFF     0xfdb,0x3a                                                                                      
003424   f03a                                                                                                               
003426   0e03     MOVLW     0x3                                                                                             
003428   cfdb     MOVFF     0xfdb,0x3b                                                                                      
00342a   f03b                                                                                                               
00342c   ec69     CALL      0x90d2,0x0                                                                                      
00342e   f048                                                                                                               
003430   80d8     BSF       0xd8,0x0,0x0                                                                                    
003432   0e19     MOVLW     0x19                                                                                            
003434   5438     SUBFWB    0x38,0x0,0x0                                                                                    
003436   0e00     MOVLW     0x0                                                                                             
003438   5439     SUBFWB    0x39,0x0,0x0                                                                                    
00343a   0e00     MOVLW     0x0                                                                                             
00343c   543a     SUBFWB    0x3a,0x0,0x0                                                                                    
00343e   0e00     MOVLW     0x0                                                                                             
003440   543b     SUBFWB    0x3b,0x0,0x0                                                                                    
003442   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d2   0e8c     MOVLW     0x8c                 ebb_print((far rom char *)"!0 Err: <axis1> step rate > 25K steps/second."); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d4   6e46     MOVWF     0x46,0x0                                                                                        
0026d6   0e7b     MOVLW     0x7b                                                                                            
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026d8   d052     BRA       0x277e               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // And check for too slow                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026da   ec9e     CALL      0x333c,0x0         if ((INT32)(gDurationMS/1311) >= Steps && Steps != 0)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026dc   f019                                                                                                               
0026de   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0026e0   d002     BRA       0x26e6                                                                                          
0026e2   343c     RLCF      0x3c,0x0,0x0                                                                                    
0026e4   d002     BRA       0x26ea                                                                                          
0026e6   eccd     CALL      0x379a,0x0                                                                                      
0026e8   f01b                                                                                                               
0026ea   e307     BNC       0x26fa                                                                                          
0026ec   ecd7     CALL      0x35ae,0x0                                                                                      
0026ee   f01a                                                                                                               
0026f0   e004     BZ        0x26fa                                                                                          
00333c   c1c4     MOVFF     0x1c4,0x46                                                                                      
00333e   f046                                                                                                               
003340   c1c5     MOVFF     0x1c5,0x47                                                                                      
003342   f047                                                                                                               
003344   c1c6     MOVFF     0x1c6,0x48                                                                                      
003346   f048                                                                                                               
003348   c1c7     MOVFF     0x1c7,0x49                                                                                      
00334a   f049                                                                                                               
00334c   0e1f     MOVLW     0x1f                                                                                            
00334e   6e3d     MOVWF     0x3d,0x0                                                                                        
003350   0e05     MOVLW     0x5                                                                                             
003352   6e3e     MOVWF     0x3e,0x0                                                                                        
003354   6a3f     CLRF      0x3f,0x0                                                                                        
003356   6a40     CLRF      0x40,0x0                                                                                        
003358   db77     RCALL     0x3a48                                                                                          
00335a   ec69     CALL      0x90d2,0x0                                                                                      
00335c   f048                                                                                                               
00335e   c038     MOVFF     0x38,0x46                                                                                       
003360   f046                                                                                                               
003362   c039     MOVFF     0x39,0x47                                                                                       
003364   f047                                                                                                               
003366   c03a     MOVFF     0x3a,0x48                                                                                       
003368   f048                                                                                                               
00336a   c03b     MOVFF     0x3b,0x49                                                                                       
00336c   f049                                                                                                               
00336e   db48     RCALL     0x3a00                                                                                          
003370   5049     MOVF      0x49,0x0,0x0                                                                                    
003372   183c     XORWF     0x3c,0x0,0x0                                                                                    
003374   0012     RETURN    0x0                                                                                             
0035ae   db78     RCALL     0x3ca0                                                                                          
0035b0   cfee     MOVFF     0xfee,0x4a                                                                                      
0035b2   f04a                                                                                                               
0035b4   cfee     MOVFF     0xfee,0x4b                                                                                      
0035b6   f04b                                                                                                               
0035b8   cfee     MOVFF     0xfee,0x4c                                                                                      
0035ba   f04c                                                                                                               
0035bc   cfef     MOVFF     0xfef,0x4d                                                                                      
0035be   f04d                                                                                                               
0035c0   504a     MOVF      0x4a,0x0,0x0                                                                                    
0035c2   104b     IORWF     0x4b,0x0,0x0                                                                                    
0035c4   104c     IORWF     0x4c,0x0,0x0                                                                                    
0035c6   104d     IORWF     0x4d,0x0,0x0                                                                                    
0035c8   0012     RETURN    0x0                                                                                             
00379a   5039     MOVF      0x39,0x0,0x0                                                                                    
00379c   5c46     SUBWF     0x46,0x0,0x0                                                                                    
00379e   503a     MOVF      0x3a,0x0,0x0                                                                                    
0037a0   5847     SUBWFB    0x47,0x0,0x0                                                                                    
0037a2   503b     MOVF      0x3b,0x0,0x0                                                                                    
0037a4   5848     SUBWFB    0x48,0x0,0x0                                                                                    
0037a6   503c     MOVF      0x3c,0x0,0x0                                                                                    
0037a8   5849     SUBWFB    0x49,0x0,0x0                                                                                    
0037aa   0012     RETURN    0x0                                                                                             
003a48   c1c4     MOVFF     0x1c4,0x38                                                                                      
003a4a   f038                                                                                                               
003a4c   c1c5     MOVFF     0x1c5,0x39                                                                                      
003a4e   f039                                                                                                               
003a50   c1c6     MOVFF     0x1c6,0x3a                                                                                      
003a52   f03a                                                                                                               
003a54   c1c7     MOVFF     0x1c7,0x3b                                                                                      
003a56   f03b                                                                                                               
003a58   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f2   0e68     MOVLW     0x68                 ebb_print((far rom char *)"!0 Err: <axis1> step rate < 1.31Hz.");          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f4   6e46     MOVWF     0x46,0x0                                                                                        
0026f6   0e7b     MOVLW     0x7b                                                                                            
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026f8   d042     BRA       0x277e               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026fa   0101     MOVLB     0x1              if (gSteps2 > 0)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0026fc   35e7     RLCF      0xe7,0x0,0x1                                                                                    
0026fe   0e00     MOVLW     0x0                                                                                             
002700   19e7     XORWF     0xe7,0x0,0x1                                                                                    
002702   e609     BN        0x2716                                                                                          
002704   80d8     BSF       0xd8,0x0,0x0                                                                                    
002706   0e00     MOVLW     0x0                                                                                             
002708   55e4     SUBFWB    0xe4,0x0,0x1                                                                                    
00270a   0e00     MOVLW     0x0                                                                                             
00270c   55e5     SUBFWB    0xe5,0x0,0x1                                                                                    
00270e   0e00     MOVLW     0x0                                                                                             
002710   55e6     SUBFWB    0xe6,0x0,0x1                                                                                    
002712   0e00     MOVLW     0x0                                                                                             
002714   55e7     SUBFWB    0xe7,0x0,0x1                                                                                    
002716   e20c     BC        0x2730                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002718   c1e4     MOVFF     0x1e4,0xfdf        Steps = gSteps2;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00271a   ffdf                                                                                                               
00271c   0e01     MOVLW     0x1                                                                                             
00271e   c1e5     MOVFF     0x1e5,0xfdb                                                                                     
002720   ffdb                                                                                                               
002722   0e02     MOVLW     0x2                                                                                             
002724   c1e6     MOVFF     0x1e6,0xfdb                                                                                     
002726   ffdb                                                                                                               
002728   0e03     MOVLW     0x3                                                                                             
00272a   c1e7     MOVFF     0x1e7,0xfdb                                                                                     
00272c   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00272e   d004     BRA       0x2738           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002730   ec8c     CALL      0x3518,0x0         Steps = -gSteps2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002732   f01a                                                                                                               
002734   eccb     CALL      0x3596,0x0                                                                                      
002736   f01a                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002738   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273a   51c2     MOVF      0xc2,0x0,0x1                                                                                    
00273c   e025     BZ        0x2788                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00273e   ec4f     CALL      0x369e,0x0         if (Steps > 0xFFFFFFl)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002740   f01b                                                                                                               
002742   e602     BN        0x2748                                                                                          
002744   ec8d     CALL      0x371a,0x0                                                                                      
002746   f01b                                                                                                               
002748   e204     BC        0x2752                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00274a   0e3c     MOVLW     0x3c                 ebb_print((far rom char *)"!0 Err: <axis2> larger than 16777215 steps.");  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00274c   6e46     MOVWF     0x46,0x0                                                                                        
00274e   0e7b     MOVLW     0x7b                                                                                            
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002750   d016     BRA       0x277e               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002752   ec03     CALL      0x3406,0x0         if ((Steps/gDurationMS) > HIGH_ISR_TICKS_PER_MS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002754   f01a                                                                                                               
002756   e204     BC        0x2760                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002758   0e0e     MOVLW     0xe                  ebb_print((far rom char *)"!0 Err: <axis2> step rate > 25K steps/second."); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00275a   6e46     MOVWF     0x46,0x0                                                                                        
00275c   0e7b     MOVLW     0x7b                                                                                            
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00275e   d00f     BRA       0x277e               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002760   ec9e     CALL      0x333c,0x0         if ((INT32)(gDurationMS/1311) >= Steps && Steps != 0)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002762   f019                                                                                                               
002764   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
002766   d002     BRA       0x276c                                                                                          
002768   343c     RLCF      0x3c,0x0,0x0                                                                                    
00276a   d002     BRA       0x2770                                                                                          
00276c   eccd     CALL      0x379a,0x0                                                                                      
00276e   f01b                                                                                                               
002770   e30b     BNC       0x2788                                                                                          
002772   ecd7     CALL      0x35ae,0x0                                                                                      
002774   f01a                                                                                                               
002776   e008     BZ        0x2788                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002778   0eea     MOVLW     0xea                 ebb_print((far rom char *)"!0 Err: <axis2> step rate < 1.31Hz.");          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00277a   6e46     MOVWF     0x46,0x0                                                                                        
00277c   0e7a     MOVLW     0x7a                                                                                            
00277e   ecbe     CALL      0x317c,0x0                                                                                      
002780   f018                                                                                                               
002782   0e02     MOVLW     0x2                  print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002784   6ee6     MOVWF     0xe6,0x0                                                                                        
002786   d005     BRA       0x2792               return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002788   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00278a   5197     MOVF      0x97,0x0,0x1                                                                                    
00278c   e105     BNZ       0x2798                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we get here, we know that step rate for both A1 and A2 is                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // between 25KHz and 1.31Hz which are the limits of what EBB can do.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00278e   d80b     RCALL     0x27a6           process_simple_motor_move_fp();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002790   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002792   ec4f     CALL      0x4c9e,0x0                                                                                      
002794   f026                                                                                                               
002796   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002798   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00279a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00279c   e202     BC        0x27a2                                                                                          
00279e   6ae1     CLRF      0xe1,0x0                                                                                        
0027a0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0027a2   ef93     GOTO      0x3326                                                                                          
0027a4   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Main stepper move function. This is the reason EBB exists.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is a 32 bit unsigned int, the number of mS that the move should take D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <A1Stp> and <A2Stp> are the Axis 1 and Axis 2 number of steps to take in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  <Duration> mS, as 32 bit signed values, where the sign determines the motor  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  direction.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <ClearAccs> clears the accumulators (both if 3, none if 0)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function waits until there is room in the FIFO before placing            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the data in the FIFO.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration>, <A1Stp> and <A2Stp> can accept any values. However, if a step     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // rate of more than 25kHz is asked for, it will be capped at 25kHz. And if      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // a step rate of less than 0.00001164 Hz it will be set to 0.00001164 Hz.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that if used as a delay, the duration value is capped at 100000ms.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Because we are now using global values to pass in parameters to this          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // function, and because this function will modify the values 'passed in' to it  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // the caller should make copies of any parameter values that it requires        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // after the call.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses these as input parameters:                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpDurationMS    (UINT32) (not modified)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps1        (INT32)  (modified)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpSteps2        (INT32)  (modified)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpClearAccs     (UINT32) (modified)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // And it uses (clobbers) these as temporary values (not being used for their    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // normal purpose, thus the names aren't right):                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //  gTmpIntervals as temp                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a6   ec76     CALL      0x3aec,0x0     static void process_simple_motor_move_fp(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027a8   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             float tempF;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we have a triggered limit switch, then ignore this move command          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027aa   b00e     BTFSC     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ac   d100     BRA       0x29ae                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ae   aa09     BTFSS     0x9,0x5,0x0      if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b0   d01b     BRA       0x27e8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b2   0ee0     MOVLW     0xe0               ebb_print((far rom char *)"Duration=");                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027b4   6e46     MOVWF     0x46,0x0                                                                                        
0027b6   0e7a     MOVLW     0x7a                                                                                            
0027b8   ecbe     CALL      0x317c,0x0                                                                                      
0027ba   f018                                                                                                               
0027bc   c1c4     MOVFF     0x1c4,0xfe6        ebb_print_uint(gDurationMS);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027be   ffe6                                                                                                               
0027c0   c1c5     MOVFF     0x1c5,0xfe6                                                                                     
0027c2   ffe6                                                                                                               
0027c4   c1c6     MOVFF     0x1c6,0xfe6                                                                                     
0027c6   ffe6                                                                                                               
0027c8   c1c7     MOVFF     0x1c7,0xfe6                                                                                     
0027ca   ffe6                                                                                                               
0027cc   ec72     CALL      0x32e4,0x0                                                                                      
0027ce   f019                                                                                                               
0027d0   0eda     MOVLW     0xda               ebb_print((far rom char *)" SA1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027d2   6e46     MOVWF     0x46,0x0                                                                                        
0027d4   0e7a     MOVLW     0x7a                                                                                            
0027d6   ecbe     CALL      0x317c,0x0                                                                                      
0027d8   f018                                                                                                               
0027da   ecf3     CALL      0x35e6,0x0         ebb_print_int(gSteps1);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027dc   f01a                                                                                                               
0027de   0ed4     MOVLW     0xd4               ebb_print((far rom char *)" SA2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027e0   6e46     MOVWF     0x46,0x0                                                                                        
0027e2   0e7a     MOVLW     0x7a                                                                                            
0027e4   ec1e     CALL      0x3c3c,0x0                                                                                      
0027e6   f01e                                                                                                               
                                               ebb_print_int(gSteps2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027e8   0101     MOVLB     0x1              if (gLimitChecks)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ea   51c2     MOVF      0xc2,0x0,0x1                                                                                    
0027ec   e010     BZ        0x280e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Check for invalid duration                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027ee   51c4     MOVF      0xc4,0x0,0x1       if (gDurationMS == 0u)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027f0   11c5     IORWF     0xc5,0x0,0x1                                                                                    
0027f2   11c6     IORWF     0xc6,0x0,0x1                                                                                    
0027f4   11c7     IORWF     0xc7,0x0,0x1                                                                                    
0027f6   e102     BNZ       0x27fc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027f8   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027fa   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027fc   ec9b     CALL      0x3536,0x0         if (gClearAccs > 3u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0027fe   f01a                                                                                                               
002800   e202     BC        0x2806                                                                                          
003536   80d8     BSF       0xd8,0x0,0x0                                                                                    
003538   0e03     MOVLW     0x3                                                                                             
00353a   0101     MOVLB     0x1                                                                                             
00353c   55cc     SUBFWB    0xcc,0x0,0x1                                                                                    
00353e   0e00     MOVLW     0x0                                                                                             
003540   55cd     SUBFWB    0xcd,0x0,0x1                                                                                    
003542   0e00     MOVLW     0x0                                                                                             
003544   55ce     SUBFWB    0xce,0x0,0x1                                                                                    
003546   0e00     MOVLW     0x0                                                                                             
003548   55cf     SUBFWB    0xcf,0x0,0x1                                                                                    
00354a   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002802   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002804   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002806   0100     MOVLB     0x0                if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002808   5197     MOVF      0x97,0x0,0x1                                                                                    
00280a   e001     BZ        0x280e                                                                                          
00280c   d0d0     BRA       0x29ae                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00280e   c1cc     MOVFF     0x1cc,0x12f      gMoveTemp.m.sm.SEState = (UINT8)gClearAccs;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002810   f12f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Check for delay                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002812   0101     MOVLB     0x1              if (gSteps1 == 0 && gSteps2 == 0)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002814   ec57     CALL      0x36ae,0x0                                                                                      
002816   f01b                                                                                                               
002818   e131     BNZ       0x287c                                                                                          
00281a   ec5c     CALL      0x36b8,0x0                                                                                      
00281c   f01b                                                                                                               
00281e   e12e     BNZ       0x287c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002820   0101     MOVLB     0x1                gMoveTemp.Command = COMMAND_DELAY;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002822   0e01     MOVLW     0x1                                                                                             
002824   6f29     MOVWF     0x29,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Delays over 100000ms long are capped at 100000ms.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002826   0ea0     MOVLW     0xa0               if (gDurationMS >= 100000u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002828   0101     MOVLB     0x1                                                                                             
00282a   5dc4     SUBWF     0xc4,0x0,0x1                                                                                    
00282c   0e86     MOVLW     0x86                                                                                            
00282e   59c5     SUBWFB    0xc5,0x0,0x1                                                                                    
002830   0e01     MOVLW     0x1                                                                                             
002832   59c6     SUBWFB    0xc6,0x0,0x1                                                                                    
002834   0e00     MOVLW     0x0                                                                                             
002836   59c7     SUBWFB    0xc7,0x0,0x1                                                                                    
002838   e307     BNC       0x2848                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00283a   0ea0     MOVLW     0xa0                 gDurationMS = 100000u;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00283c   6fc4     MOVWF     0xc4,0x1                                                                                        
00283e   0e86     MOVLW     0x86                                                                                            
002840   6fc5     MOVWF     0xc5,0x1                                                                                        
002842   0e01     MOVLW     0x1                                                                                             
002844   6fc6     MOVWF     0xc6,0x1                                                                                        
002846   6bc7     CLRF      0xc7,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002848   c1c4     MOVFF     0x1c4,0x12b        gMoveTemp.m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * gDurationMS;           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00284a   f12b                                                                                                               
00284c   c1c5     MOVFF     0x1c5,0x12c                                                                                     
00284e   f12c                                                                                                               
002850   c1c6     MOVFF     0x1c6,0x12d                                                                                     
002852   f12d                                                                                                               
002854   c1c7     MOVFF     0x1c7,0x12e                                                                                     
002856   f12e                                                                                                               
002858   0e19     MOVLW     0x19                                                                                            
00285a   6e3d     MOVWF     0x3d,0x0                                                                                        
00285c   6a3e     CLRF      0x3e,0x0                                                                                        
00285e   6a3f     CLRF      0x3f,0x0                                                                                        
002860   6a40     CLRF      0x40,0x0                                                                                        
002862   ec24     CALL      0x3a48,0x0                                                                                      
002864   f01d                                                                                                               
002866   ec05     CALL      0x900a,0x0                                                                                      
002868   f048                                                                                                               
00286a   c034     MOVFF     0x34,0x12b                                                                                      
00286c   f12b                                                                                                               
00286e   c035     MOVFF     0x35,0x12c                                                                                      
002870   f12c                                                                                                               
002872   c036     MOVFF     0x36,0x12d                                                                                      
002874   f12d                                                                                                               
002876   c037     MOVFF     0x37,0x12e                                                                                      
002878   f12e                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00287a   d08d     BRA       0x2996           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00287c   ecb2     CALL      0x3764,0x0         gMoveTemp.m.sm.DelayCounter = 0; // No delay for motor moves                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00287e   f01b                                                                                                               
                                               gMoveTemp.m.sm.DirBits = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002880   e102     BNZ       0x2886             if (gAutomaticMotorEnable == TRUE)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Enable both motors when we want to move them                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002882   908d     BCF       0x8d,0x0,0x0         Enable1IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002884   928b     BCF       0x8b,0x1,0x0         Enable2IO = ENABLE_MOTOR;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // First, set the direction bits                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002886   0101     MOVLB     0x1                if (gSteps1 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002888   0e80     MOVLW     0x80                                                                                            
00288a   15d7     ANDWF     0xd7,0x0,0x1                                                                                    
00288c   e002     BZ        0x2892                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00288e   ec3f     CALL      0x367e,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR1_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002890   f01b                                                                                                               
                                                 gSteps1 = -gSteps1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002892   0e80     MOVLW     0x80               if (gSteps2 < 0)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002894   15e7     ANDWF     0xe7,0x0,0x1                                                                                    
002896   e002     BZ        0x289c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002898   ec47     CALL      0x368e,0x0           gMoveTemp.m.sm.DirBits = gMoveTemp.m.sm.DirBits | DIR2_BIT;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00289a   f01b                                                                                                               
                                                 gSteps2 = -gSteps2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // As an optimization, pre-compute the common term used for both axes        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00289c   0e0a     MOVLW     0xa                tempF = 85899345.92f / (float)gDurationMS;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00289e   6e46     MOVWF     0x46,0x0                                                                                        
0028a0   0ed7     MOVLW     0xd7                                                                                            
0028a2   6e47     MOVWF     0x47,0x0                                                                                        
0028a4   0ea3     MOVLW     0xa3                                                                                            
0028a6   6e48     MOVWF     0x48,0x0                                                                                        
0028a8   0e4c     MOVLW     0x4c                                                                                            
0028aa   6e49     MOVWF     0x49,0x0                                                                                        
0028ac   ec24     CALL      0x3a48,0x0                                                                                      
0028ae   f01d                                                                                                               
0028b0   ecb7     CALL      0x396e,0x0                                                                                      
0028b2   f01c                                                                                                               
0028b4   ec0a     CALL      0x7614,0x0                                                                                      
0028b6   f03b                                                                                                               
0028b8   ec48     CALL      0x3a90,0x0                                                                                      
0028ba   f01d                                                                                                               
00396e   ecef     CALL      0x75de,0x0                                                                                      
003970   f03a                                                                                                               
003972   c039     MOVFF     0x39,0x4a                                                                                       
003974   f04a                                                                                                               
003976   c03a     MOVFF     0x3a,0x4b                                                                                       
003978   f04b                                                                                                               
00397a   c03b     MOVFF     0x3b,0x4c                                                                                       
00397c   f04c                                                                                                               
00397e   c03c     MOVFF     0x3c,0x4d                                                                                       
003980   f04d                                                                                                               
003982   c039     MOVFF     0x39,0x3e                                                                                       
003984   f03e                                                                                                               
003986   c03a     MOVFF     0x3a,0x3f                                                                                       
003988   f03f                                                                                                               
00398a   c03b     MOVFF     0x3b,0x40                                                                                       
00398c   f040                                                                                                               
00398e   c03c     MOVFF     0x3c,0x41                                                                                       
003990   f041                                                                                                               
003992   d18f     BRA       0x3cb2                                                                                          
003a90   c039     MOVFF     0x39,0xfde                                                                                      
003a92   ffde                                                                                                               
003a94   c03a     MOVFF     0x3a,0xfde                                                                                      
003a96   ffde                                                                                                               
003a98   c03b     MOVFF     0x3b,0xfde                                                                                      
003a9a   ffde                                                                                                               
003a9c   c03c     MOVFF     0x3c,0xfdd                                                                                      
003a9e   ffdd                                                                                                               
003aa0   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003aa2   52dd     MOVF      0xdd,0x1,0x0                                                                                    
003aa4   0012     RETURN    0x0                                                                                             
003cb2   c046     MOVFF     0x46,0x39                                                                                       
003cb4   f039                                                                                                               
003cb6   c047     MOVFF     0x47,0x3a                                                                                       
003cb8   f03a                                                                                                               
003cba   c048     MOVFF     0x48,0x3b                                                                                       
003cbc   f03b                                                                                                               
003cbe   c049     MOVFF     0x49,0x3c                                                                                       
003cc0   f03c                                                                                                               
003cc2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028bc   0101     MOVLB     0x1                if (gSteps1 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028be   ec57     CALL      0x36ae,0x0                                                                                      
0028c0   f01b                                                                                                               
0028c2   e027     BZ        0x2912                                                                                          
0036ae   51d4     MOVF      0xd4,0x0,0x1                                                                                    
0036b0   11d5     IORWF     0xd5,0x0,0x1                                                                                    
0036b2   11d6     IORWF     0xd6,0x0,0x1                                                                                    
0036b4   11d7     IORWF     0xd7,0x0,0x1                                                                                    
0036b6   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // We need the Rate values for the ISR. We have the duration and the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // number of steps. Use the formula:                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = (steps/duration)*85899.34592                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Rearranging a bit, we can also use:                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // rate = steps * ((85899.34592 * 1000)/duration)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c4   ec83     CALL      0x3506,0x0           gIntervals = (UINT32)((float)(gSteps1) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028c6   f01a                                                                                                               
0028c8   ecc4     CALL      0x3388,0x0                                                                                      
0028ca   f019                                                                                                               
003388   ecf1     CALL      0x75e2,0x0                                                                                      
00338a   f03a                                                                                                               
00338c   0e00     MOVLW     0x0                                                                                             
00338e   cfdf     MOVFF     0xfdf,0x3e                                                                                      
003390   f03e                                                                                                               
003392   0e01     MOVLW     0x1                                                                                             
003394   cfdb     MOVFF     0xfdb,0x3f                                                                                      
003396   f03f                                                                                                               
003398   0e02     MOVLW     0x2                                                                                             
00339a   cfdb     MOVFF     0xfdb,0x40                                                                                      
00339c   f040                                                                                                               
00339e   0e03     MOVLW     0x3                                                                                             
0033a0   cfdb     MOVFF     0xfdb,0x41                                                                                      
0033a2   f041                                                                                                               
0033a4   ec5d     CALL      0x76ba,0x0                                                                                      
0033a6   f03b                                                                                                               
0033a8   ecfe     CALL      0x77fc,0x0                                                                                      
0033aa   f03b                                                                                                               
0033ac   c038     MOVFF     0x38,0x1c8                                                                                      
0033ae   f1c8                                                                                                               
0033b0   c039     MOVFF     0x39,0x1c9                                                                                      
0033b2   f1c9                                                                                                               
0033b4   c03a     MOVFF     0x3a,0x1ca                                                                                      
0033b6   f1ca                                                                                                               
0033b8   c03b     MOVFF     0x3b,0x1cb                                                                                      
0033ba   f1cb                                                                                                               
003506   c1d4     MOVFF     0x1d4,0x38                                                                                      
003508   f038                                                                                                               
00350a   c1d5     MOVFF     0x1d5,0x39                                                                                      
00350c   f039                                                                                                               
00350e   c1d6     MOVFF     0x1d6,0x3a                                                                                      
003510   f03a                                                                                                               
003512   c1d7     MOVFF     0x1d7,0x3b                                                                                      
003514   f03b                                                                                                               
003516   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028cc   e20b     BC        0x28e4               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0033bc   80d8     BSF       0xd8,0x0,0x0                                                                                    
0033be   0e00     MOVLW     0x0                                                                                             
0033c0   0101     MOVLB     0x1                                                                                             
0033c2   5438     SUBFWB    0x38,0x0,0x0                                                                                    
0033c4   0e00     MOVLW     0x0                                                                                             
0033c6   5439     SUBFWB    0x39,0x0,0x0                                                                                    
0033c8   0e00     MOVLW     0x0                                                                                             
0033ca   543a     SUBFWB    0x3a,0x0,0x0                                                                                    
0033cc   0e80     MOVLW     0x80                                                                                            
0033ce   543b     SUBFWB    0x3b,0x0,0x0                                                                                    
0033d0   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ce   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d0   e004     BZ        0x28da                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d2   0eb0     MOVLW     0xb0                     ebb_print((far rom char *)"!0 Err: <axis1> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d4   6e46     MOVWF     0x46,0x0                                                                                        
0028d6   0e7a     MOVLW     0x7a                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028d8   d03f     BRA       0x2958                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028da   6bc8     CLRF      0xc8,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028dc   6bc9     CLRF      0xc9,0x1                                                                                        
0028de   6bca     CLRF      0xca,0x1                                                                                        
0028e0   0e80     MOVLW     0x80                                                                                            
0028e2   6fcb     MOVWF     0xcb,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e4   ec88     CALL      0x3710,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028e6   f01b                                                                                                               
0028e8   e10b     BNZ       0x2900                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ea   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ec   e004     BZ        0x28f6                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028ee   0e8c     MOVLW     0x8c                     ebb_print((far rom char *)"!0 Err: <axis1> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f0   6e46     MOVWF     0x46,0x0                                                                                        
0028f2   0e7a     MOVLW     0x7a                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f4   d031     BRA       0x2958                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f6   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0028f8   6fc8     MOVWF     0xc8,0x1                                                                                        
0028fa   6bc9     CLRF      0xc9,0x1                                                                                        
0028fc   6bca     CLRF      0xca,0x1                                                                                        
0028fe   6bcb     CLRF      0xcb,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002900   c1c8     MOVFF     0x1c8,0x130          gMoveTemp.m.sm.Rate[0].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002902   f130                                                                                                               
002904   c1c9     MOVFF     0x1c9,0x131                                                                                     
002906   f131                                                                                                               
002908   c1ca     MOVFF     0x1ca,0x132                                                                                     
00290a   f132                                                                                                               
00290c   c1cb     MOVFF     0x1cb,0x133                                                                                     
00290e   f133                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002910   d005     BRA       0x291c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002912   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[0].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002914   6b30     CLRF      0x30,0x1                                                                                        
002916   6b31     CLRF      0x31,0x1                                                                                        
002918   6b32     CLRF      0x32,0x1                                                                                        
00291a   6b33     CLRF      0x33,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00291c   ec8f     CALL      0x3b1e,0x0         gMoveTemp.m.sm.Steps[0] = (UINT32)gSteps1;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00291e   f01d                                                                                                               
00360c   c1d4     MOVFF     0x1d4,0x138                                                                                     
00360e   f138                                                                                                               
003610   c1d5     MOVFF     0x1d5,0x139                                                                                     
003612   f139                                                                                                               
003614   c1d6     MOVFF     0x1d6,0x13a                                                                                     
003616   f13a                                                                                                               
003618   c1d7     MOVFF     0x1d7,0x13b                                                                                     
00361a   f13b                                                                                                               
00361c   0012     RETURN    0x0                                                                                             
                                               gMoveTemp.m.sm.Accel[0] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002920   0101     MOVLB     0x1                if (gSteps2 != 0)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002922   ec5c     CALL      0x36b8,0x0                                                                                      
002924   f01b                                                                                                               
002926   e029     BZ        0x297a                                                                                          
0036b8   51e4     MOVF      0xe4,0x0,0x1                                                                                    
0036ba   11e5     IORWF     0xe5,0x0,0x1                                                                                    
0036bc   11e6     IORWF     0xe6,0x0,0x1                                                                                    
0036be   11e7     IORWF     0xe7,0x0,0x1                                                                                    
0036c0   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002928   ec8c     CALL      0x3518,0x0           gIntervals = (UINT32)((float)(gSteps2) * tempF);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00292a   f01a                                                                                                               
00292c   ecc4     CALL      0x3388,0x0                                                                                      
00292e   f019                                                                                                               
003518   c1e4     MOVFF     0x1e4,0x38                                                                                      
00351a   f038                                                                                                               
00351c   c1e5     MOVFF     0x1e5,0x39                                                                                      
00351e   f039                                                                                                               
003520   c1e6     MOVFF     0x1e6,0x3a                                                                                      
003522   f03a                                                                                                               
003524   c1e7     MOVFF     0x1e7,0x3b                                                                                      
003526   f03b                                                                                                               
003528   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002930   e20b     BC        0x2948               if (gIntervals > 0x80000000u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002932   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002934   e004     BZ        0x293e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002936   0e68     MOVLW     0x68                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too high.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002938   6e46     MOVWF     0x46,0x0                                                                                        
00293a   0e7a     MOVLW     0x7a                                                                                            
                                                     print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293c   d00d     BRA       0x2958                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00293e   6bc8     CLRF      0xc8,0x1               gIntervals = 0x80000000;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002940   6bc9     CLRF      0xc9,0x1                                                                                        
002942   6bca     CLRF      0xca,0x1                                                                                        
002944   0e80     MOVLW     0x80                                                                                            
002946   6fcb     MOVWF     0xcb,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002948   ec88     CALL      0x3710,0x0           if (gIntervals == 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00294a   f01b                                                                                                               
00294c   e10d     BNZ       0x2968                                                                                          
003710   51c8     MOVF      0xc8,0x0,0x1                                                                                    
003712   11c9     IORWF     0xc9,0x0,0x1                                                                                    
003714   11ca     IORWF     0xca,0x0,0x1                                                                                    
003716   11cb     IORWF     0xcb,0x0,0x1                                                                                    
003718   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00294e   51c2     MOVF      0xc2,0x0,0x1           if (gLimitChecks)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002950   e006     BZ        0x295e                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002952   0e44     MOVLW     0x44                     ebb_print((far rom char *)"!0 Err: <axis2> step rate too slow.");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002954   6e46     MOVWF     0x46,0x0                                                                                        
002956   0e7a     MOVLW     0x7a                                                                                            
002958   eccb     CALL      0x3b96,0x0                                                                                      
00295a   f01d                                                                                                               
003b96   ecbe     CALL      0x317c,0x0                                                                                      
003b98   f018                                                                                                               
003b9a   efbb     GOTO      0x3376                   print_line_ending(kLE_REV);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003b9c   f019                                                                                                               
00295c   d028     BRA       0x29ae                   return;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00295e   0e01     MOVLW     0x1                    gIntervals = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002960   6fc8     MOVWF     0xc8,0x1                                                                                        
002962   6bc9     CLRF      0xc9,0x1                                                                                        
002964   6bca     CLRF      0xca,0x1                                                                                        
002966   6bcb     CLRF      0xcb,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002968   c1c8     MOVFF     0x1c8,0x134          gMoveTemp.m.sm.Rate[1].value = gIntervals;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00296a   f134                                                                                                               
00296c   c1c9     MOVFF     0x1c9,0x135                                                                                     
00296e   f135                                                                                                               
002970   c1ca     MOVFF     0x1ca,0x136                                                                                     
002972   f136                                                                                                               
002974   c1cb     MOVFF     0x1cb,0x137                                                                                     
002976   f137                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002978   d005     BRA       0x2984             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00297a   0101     MOVLB     0x1                  gMoveTemp.m.sm.Rate[1].value = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00297c   6b34     CLRF      0x34,0x1                                                                                        
00297e   6b35     CLRF      0x35,0x1                                                                                        
002980   6b36     CLRF      0x36,0x1                                                                                        
002982   6b37     CLRF      0x37,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002984   ec0f     CALL      0x361e,0x0         gMoveTemp.m.sm.Steps[1] = (UINT32)gSteps2;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002986   f01b                                                                                                               
00361e   c1e4     MOVFF     0x1e4,0x13c                                                                                     
003620   f13c                                                                                                               
003622   c1e5     MOVFF     0x1e5,0x13d                                                                                     
003624   f13d                                                                                                               
003626   c1e6     MOVFF     0x1e6,0x13e                                                                                     
003628   f13e                                                                                                               
00362a   c1e7     MOVFF     0x1e7,0x13f                                                                                     
00362c   f13f                                                                                                               
00362e   0012     RETURN    0x0                                                                                             
002988   0101     MOVLB     0x1                gMoveTemp.m.sm.Accel[1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00298a   ec3d     CALL      0x387a,0x0                                                                                      
00298c   f01c                                                                                                               
                                               gMoveTemp.Command = COMMAND_SM_XM_HM_MOVE;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00298e   aa09     BTFSS     0x9,0x5,0x0        if(bittst(TestMode, TEST_MODE_DEBUG_COMMAND_NUM))                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002990   d002     BRA       0x2996                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002992   ec9c     CALL      0x3938,0x0           ebb_print((far rom char *)"R1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002994   f01c                                                                                                               
00317c   6e47     MOVWF     0x47,0x0                                                                                        
00317e   6a48     CLRF      0x48,0x0                                                                                        
003180   c046     MOVFF     0x46,0xfe6                                                                                      
003182   ffe6                                                                                                               
003184   6ee6     MOVWF     0xe6,0x0                                                                                        
003186   c048     MOVFF     0x48,0xfe6                                                                                      
003188   ffe6                                                                                                               
00318a   ec14     CALL      0x8628,0x0                                                                                      
00318c   f043                                                                                                               
00318e   ef55     GOTO      0x3caa                                                                                          
003190   f01e                                                                                                               
003630   c130     MOVFF     0x130,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[0].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003632   ffe6                                                                                                               
003634   c131     MOVFF     0x131,0xfe6                                                                                     
003636   ffe6                                                                                                               
003638   c132     MOVFF     0x132,0xfe6                                                                                     
00363a   ffe6                                                                                                               
00363c   c133     MOVFF     0x133,0xfe6                                                                                     
00363e   ffe6                                                                                                               
003640   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S1=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[0]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print((far rom char *)" R2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003642   c134     MOVFF     0x134,0xfe6          ebb_print_uint(gMoveTemp.m.sm.Rate[1].value);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003644   ffe6                                                                                                               
003646   c135     MOVFF     0x135,0xfe6                                                                                     
003648   ffe6                                                                                                               
00364a   c136     MOVFF     0x136,0xfe6                                                                                     
00364c   ffe6                                                                                                               
00364e   c137     MOVFF     0x137,0xfe6                                                                                     
003650   ffe6                                                                                                               
003652   0012     RETURN    0x0                                                                                             
                                                 ebb_print((far rom char *)" S2=");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 ebb_print_uint(gMoveTemp.m.sm.Steps[1]);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 print_line_ending(kLE_REV);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002996   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002998   d00a     BRA       0x29ae                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Spin here until there's space in the FIFO                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00299a   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00299c   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
00299e   e2fd     BC        0x299a                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // If the limit switch feature has triggered, then ignore this move command  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Maybe the limit switch has become true between the top of this function   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // and here? Better check for it.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a0   b00e     BTFSC     0xe,0x0,0x0        if (!bittstzero(gLimitSwitchTriggered))                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a2   d005     BRA       0x29ae                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Now, quick copy over the computed command data to the command FIFO      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a4   eccd     CALL      0x319a,0x0           FIFOPtr[gFIFOIn] = gMoveTemp;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a6   f018                                                                                                               
00319a   5010     MOVF      0x10,0x0,0x0                                                                                    
00319c   ec7c     CALL      0x3cf8,0x0                                                                                      
00319e   f01e                                                                                                               
0031a0   c129     MOVFF     0x129,0xfee                                                                                     
0031a2   ffee                                                                                                               
0031a4   c12a     MOVFF     0x12a,0xfee                                                                                     
0031a6   ffee                                                                                                               
0031a8   c12b     MOVFF     0x12b,0xfee                                                                                     
0031aa   ffee                                                                                                               
0031ac   c12c     MOVFF     0x12c,0xfee                                                                                     
0031ae   ffee                                                                                                               
0031b0   c12d     MOVFF     0x12d,0xfee                                                                                     
0031b2   ffee                                                                                                               
0031b4   c12e     MOVFF     0x12e,0xfee                                                                                     
0031b6   ffee                                                                                                               
0031b8   c12f     MOVFF     0x12f,0xfee                                                                                     
0031ba   ffee                                                                                                               
0031bc   c130     MOVFF     0x130,0xfee                                                                                     
0031be   ffee                                                                                                               
0031c0   c131     MOVFF     0x131,0xfee                                                                                     
0031c2   ffee                                                                                                               
0031c4   c132     MOVFF     0x132,0xfee                                                                                     
0031c6   ffee                                                                                                               
0031c8   c133     MOVFF     0x133,0xfee                                                                                     
0031ca   ffee                                                                                                               
0031cc   c134     MOVFF     0x134,0xfee                                                                                     
0031ce   ffee                                                                                                               
0031d0   c135     MOVFF     0x135,0xfee                                                                                     
0031d2   ffee                                                                                                               
0031d4   c136     MOVFF     0x136,0xfee                                                                                     
0031d6   ffee                                                                                                               
0031d8   c137     MOVFF     0x137,0xfee                                                                                     
0031da   ffee                                                                                                               
0031dc   c138     MOVFF     0x138,0xfee                                                                                     
0031de   ffee                                                                                                               
0031e0   c139     MOVFF     0x139,0xfee                                                                                     
0031e2   ffee                                                                                                               
0031e4   c13a     MOVFF     0x13a,0xfee                                                                                     
0031e6   ffee                                                                                                               
0031e8   c13b     MOVFF     0x13b,0xfee                                                                                     
0031ea   ffee                                                                                                               
0031ec   c13c     MOVFF     0x13c,0xfee                                                                                     
0031ee   ffee                                                                                                               
0031f0   c13d     MOVFF     0x13d,0xfee                                                                                     
0031f2   ffee                                                                                                               
0031f4   c13e     MOVFF     0x13e,0xfee                                                                                     
0031f6   ffee                                                                                                               
0031f8   c13f     MOVFF     0x13f,0xfee                                                                                     
0031fa   ffee                                                                                                               
0031fc   c140     MOVFF     0x140,0xfee                                                                                     
0031fe   ffee                                                                                                               
003200   c141     MOVFF     0x141,0xfee                                                                                     
003202   ffee                                                                                                               
003204   c142     MOVFF     0x142,0xfee                                                                                     
003206   ffee                                                                                                               
003208   c143     MOVFF     0x143,0xfee                                                                                     
00320a   ffee                                                                                                               
00320c   c144     MOVFF     0x144,0xfee                                                                                     
00320e   ffee                                                                                                               
003210   c145     MOVFF     0x145,0xfee                                                                                     
003212   ffee                                                                                                               
003214   c146     MOVFF     0x146,0xfee                                                                                     
003216   ffee                                                                                                               
003218   c147     MOVFF     0x147,0xfee                                                                                     
00321a   ffee                                                                                                               
00321c   c148     MOVFF     0x148,0xfee                                                                                     
00321e   ffee                                                                                                               
003220   c149     MOVFF     0x149,0xfee                                                                                     
003222   ffee                                                                                                               
003224   c14a     MOVFF     0x14a,0xfee                                                                                     
003226   ffee                                                                                                               
003228   c14b     MOVFF     0x14b,0xfee                                                                                     
00322a   ffee                                                                                                               
00322c   c14c     MOVFF     0x14c,0xfee                                                                                     
00322e   ffee                                                                                                               
003230   c14d     MOVFF     0x14d,0xfee                                                                                     
003232   ffee                                                                                                               
003234   c14e     MOVFF     0x14e,0xfee                                                                                     
003236   ffee                                                                                                               
003238   c14f     MOVFF     0x14f,0xfee                                                                                     
00323a   ffee                                                                                                               
00323c   c150     MOVFF     0x150,0xfee                                                                                     
00323e   ffee                                                                                                               
003240   c151     MOVFF     0x151,0xfee                                                                                     
003242   ffee                                                                                                               
003244   c152     MOVFF     0x152,0xfee                                                                                     
003246   ffee                                                                                                               
003248   c153     MOVFF     0x153,0xfee                                                                                     
00324a   ffee                                                                                                               
00324c   c154     MOVFF     0x154,0xfee                                                                                     
00324e   ffee                                                                                                               
003250   c155     MOVFF     0x155,0xfee                                                                                     
003252   ffee                                                                                                               
003254   c156     MOVFF     0x156,0xfee                                                                                     
003256   ffee                                                                                                               
003258   c157     MOVFF     0x157,0xfee                                                                                     
00325a   ffee                                                                                                               
00325c   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029a8   e301     BNC       0x29ac               if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00325e   5013     MOVF      0x13,0x0,0x0                                                                                    
003260   5c10     SUBWF     0x10,0x0,0x0                                                                                    
003262   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029aa   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ac   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ae   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029b0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0029b2   e202     BC        0x29b8                                                                                          
0029b4   6ae1     CLRF      0xe1,0x0                                                                                        
0029b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0029b8   ef93     GOTO      0x3326                                                                                          
0029ba   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // E-Stop                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ES,<disable_motors><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <command_interrupted><CR>OK<CR>                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This command will abort any in-progress motor move command.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // It will also clear out any pending command(s) in the FIFO.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <disable_motors> This parameter is optional. If present, and if it is a 1,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  then both stepper drivers will be disabled as part of the command. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  If this parameter is not present or is not equal to 1, then  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                  the motors will not be disabled. (added in v2.8.0)           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <command_interrupted> = 0 if no FIFO or in-progress move commands were interrupted, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                         1 if a motor move command was in progress or in the FIFO D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029bc   ec96     CALL      0x332c,0x0     void parse_ES_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029be   f019                                                                                                               
0029c0   0e03     MOVLW     0x3                                                                                             
0029c2   ec3b     CALL      0x3a76,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c4   f01d                                UINT8 disable_motors = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 command_interrupted = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the value.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c6   ec44     CALL      0x3888,0x0       extract_number(kUCHAR, &disable_motors, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029c8   f01c                                                                                                               
0029ca   dbd2     RCALL     0x3170                                                                                          
003888   0e01     MOVLW     0x1                                                                                             
00388a   6ee6     MOVWF     0xe6,0x0                                                                                        
00388c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00388e   ffe6                                                                                                               
003890   cfda     MOVFF     0xfda,0xfe6                                                                                     
003892   ffe6                                                                                                               
003894   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029cc   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ce   5197     MOVF      0x97,0x0,0x1                                                                                    
0029d0   e13c     BNZ       0x2a4a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to mess with ISR command parameters D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d2   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             if                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             (                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d4   0e05     MOVLW     0x5                CurrentCommand.Command == COMMAND_SM_XM_HM_MOVE                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d6   0101     MOVLB     0x1                ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029d8   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0029dc   0e06     MOVLW     0x6                CurrentCommand.Command == COMMAND_LM_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029da   e006     BZ        0x29e8             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029de   5d85     SUBWF     0x85,0x0,0x1                                                                                    
0029e0   e003     BZ        0x29e8                                                                                          
0029e2   0e07     MOVLW     0x7                CurrentCommand.Command == COMMAND_LT_MOVE                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e4   5d85     SUBWF     0x85,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e6   e103     BNZ       0x29ee                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029e8   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ea   0e01     MOVLW     0x1                                                                                             
0029ec   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029ee   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength != 0u)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f0   e003     BZ        0x29f8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f2   52de     MOVF      0xde,0x1,0x0       command_interrupted = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f4   0e01     MOVLW     0x1                                                                                             
0029f6   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear the currently executing motion command                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029f8   6b85     CLRF      0x85,0x1         CurrentCommand.Command = COMMAND_NONE;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the entire FIFO                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029fa   0e02     MOVLW     0x2              for (i = 0; i < COMMAND_FIFO_MAX_LENGTH; i++)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0029fc   6adb     CLRF      0xdb,0x0                                                                                        
0029fe   0e20     MOVLW     0x20                                                                                            
002a00   6ef3     MOVWF     0xf3,0x0                                                                                        
002a02   0e02     MOVLW     0x2                                                                                             
002a04   cfdb     MOVFF     0xfdb,0xff4                                                                                     
002a06   fff4                                                                                                               
002a08   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002a0a   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
002a0c   e207     BC        0x2a1c                                                                                          
002a16   0e02     MOVLW     0x2                                                                                             
002a18   2adb     INCF      0xdb,0x1,0x0                                                                                    
002a1a   d7f1     BRA       0x29fe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a0e   0e02     MOVLW     0x2                FIFOPtr[i].Command = COMMAND_NONE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a10   50db     MOVF      0xdb,0x0,0x0                                                                                    
002a12   ece5     CALL      0x35ca,0x0                                                                                      
002a14   f01a                                                                                                               
0035ca   db96     RCALL     0x3cf8                                                                                          
0035cc   6aef     CLRF      0xef,0x0                                                                                        
0035ce   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a1c   6a10     CLRF      0x10,0x0         gFIFOIn = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a1e   6a11     CLRF      0x11,0x0         gFIFOOut = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a20   6a0f     CLRF      0xf,0x0          gFIFOLength = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a22   04df     DECF      0xdf,0x0,0x0     if (disable_motors == 1u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a24   e109     BNZ       0x2a38                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a26   5004     MOVF      0x4,0x0,0x0        if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a28   e103     BNZ       0x2a30                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a2a   808d     BSF       0x8d,0x0,0x0         Enable1IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a2c   828b     BSF       0x8b,0x1,0x0         Enable2IO = DISABLE_MOTOR;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a2e   d004     BRA       0x2a38             else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a30   0404     DECF      0x4,0x0,0x0                                                                                     
002a32   e102     BNZ       0x2a38                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a34   828c     BSF       0x8c,0x1,0x0         Enable1AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a36   8289     BSF       0x89,0x1,0x0         Enable2AltIO = DISABLE_MOTOR;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a38   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;    // Turn high priority interrupts on                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a3a   ec62     CALL      0x3cc4,0x0       ebb_print_uint(command_interrupted);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a3c   f01e                                                                                                               
003cc4   0e01     MOVLW     0x1                                                                                             
003cc6   cfdb     MOVFF     0xfdb,0x46                                                                                      
003cc8   f046                                                                                                               
003cca   6a47     CLRF      0x47,0x0                                                                                        
003ccc   de40     RCALL     0x394e                                                                                          
003cce   ef9a     GOTO      0x3b34                                                                                          
003cd0   f01d                                                                                                               
002a3e   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a40   d002     BRA       0x2a46                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a42   ecbb     CALL      0x3376,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a44   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a46   ec9b     CALL      0x3336,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a48   f019                                                                                                               
002a4a   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a4c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002a4e   e202     BC        0x2a54                                                                                          
002a50   6ae1     CLRF      0xe1,0x0                                                                                        
002a52   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002a54   ef93     GOTO      0x3326                                                                                          
002a56   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Pen                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QP<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: 0 for down, 1 for up, then OK<CR>                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a58   ec3f     CALL      0x3a7e,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a5a   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a5c   c1b9     MOVFF     0x1b9,0x46       ebb_print_uint(PenState);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a5e   f046                                                                                                               
002a60   6a47     CLRF      0x47,0x0                                                                                        
002a62   6a48     CLRF      0x48,0x0                                                                                        
002a64   6a49     CLRF      0x49,0x0                                                                                        
002a66   ae46     BTFSS     0x46,0x7,0x0                                                                                    
002a68   d003     BRA       0x2a70                                                                                          
002a6a   6847     SETF      0x47,0x0                                                                                        
002a6c   6848     SETF      0x48,0x0                                                                                        
002a6e   6849     SETF      0x49,0x0                                                                                        
002a70   c046     MOVFF     0x46,0xfe6                                                                                      
002a72   ffe6                                                                                                               
002a74   ec49     CALL      0x3c92,0x0                                                                                      
002a76   f01e                                                                                                               
002a78   ec9a     CALL      0x3b34,0x0                                                                                      
002a7a   f01d                                                                                                               
002a7c   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a7e   d002     BRA       0x2a84                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a80   ecbb     CALL      0x3376,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a82   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a84   ef9b     GOTO      0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a86   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query motor Enables and resolution                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QE<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <motor1_state>,<motor2_state><CR>OK<CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <motor1_state> and <motor2_state> are one of the following values:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 0 = Motor is disabled                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 1 = Motor is enabled and step resolution is full steps                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 2 = Motor is enabled and step resolution is 1/2 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 4 = Motor is enabled and step resolution is 1/4 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 8 = Motor is enabled and step resolution is 1/8 steps                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // 16 = Motor is enabled and step resolution is 1/16 steps                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a88   ec96     CALL      0x332c,0x0     void parse_QE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a8a   f019                                                                                                               
002a8c   0e03     MOVLW     0x3                                                                                             
002a8e   ec3b     CALL      0x3a76,0x0                                                                                      
00332c   cfd9                                                                                                               
00332e   ffe6     WORD2     0xfe6                                                                                           
003330   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
003332   ffd9                                                                                                               
003334   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a90   f01d     WORD2     0x1d             UINT8 motor1_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 motor2_state = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 temp;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a92   5084     MOVF      0x84,0x0,0x0     if (MS1_IO_PORT == 0u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002a94   0b04     ANDLW     0x4                                                                                             
002a96   e108     BNZ       0x2aa8                                                                                          
002a98   5084     MOVF      0x84,0x0,0x0                                                                                    
002a9a   0b02     ANDLW     0x2                                                                                             
002a9c   e105     BNZ       0x2aa8                                                                                          
002a9e   5080     MOVF      0x80,0x0,0x0                                                                                    
002aa0   0b40     ANDLW     0x40                                                                                            
002aa2   e102     BNZ       0x2aa8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa4   0e01     MOVLW     0x1                temp = 1;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa6   d023     BRA       0x2aee           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 0u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aa8   5084     MOVF      0x84,0x0,0x0                                                                                    
002aaa   0b04     ANDLW     0x4                                                                                             
002aac   e009     BZ        0x2ac0                                                                                          
002aae   5084     MOVF      0x84,0x0,0x0                                                                                    
002ab0   0b02     ANDLW     0x2                                                                                             
002ab2   e106     BNZ       0x2ac0                                                                                          
002ab4   5080     MOVF      0x80,0x0,0x0                                                                                    
002ab6   0b40     ANDLW     0x40                                                                                            
002ab8   e103     BNZ       0x2ac0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aba   0e02     MOVLW     0x2                temp = 2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002abc   6ef3     MOVWF     0xf3,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002abe   d019     BRA       0x2af2           else if (MS1_IO_PORT == 0u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ac0   5084     MOVF      0x84,0x0,0x0                                                                                    
002ac2   0b04     ANDLW     0x4                                                                                             
002ac4   e108     BNZ       0x2ad6                                                                                          
002ac6   5084     MOVF      0x84,0x0,0x0                                                                                    
002ac8   0b02     ANDLW     0x2                                                                                             
002aca   e005     BZ        0x2ad6                                                                                          
002acc   5080     MOVF      0x80,0x0,0x0                                                                                    
002ace   0b40     ANDLW     0x40                                                                                            
002ad0   e102     BNZ       0x2ad6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad2   0e04     MOVLW     0x4                temp = 4;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad4   d00c     BRA       0x2aee           else if (MS1_IO_PORT == 1u && MS2_IO_PORT == 1u && MS3_IO_PORT == 0u)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ad6   5084     MOVF      0x84,0x0,0x0                                                                                    
002ad8   0b04     ANDLW     0x4                                                                                             
002ada   e008     BZ        0x2aec                                                                                          
002adc   5084     MOVF      0x84,0x0,0x0                                                                                    
002ade   0b02     ANDLW     0x2                                                                                             
002ae0   e005     BZ        0x2aec                                                                                          
002ae2   5080     MOVF      0x80,0x0,0x0                                                                                    
002ae4   0b40     ANDLW     0x40                                                                                            
002ae6   e102     BNZ       0x2aec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ae8   0e08     MOVLW     0x8                temp = 8;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aea   d001     BRA       0x2aee           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aec   0e10     MOVLW     0x10               temp = 16;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002aee   6ef3     MOVWF     0xf3,0x0                                                                                        
002af0   0e02     MOVLW     0x2                                                                                             
002af2   cff3     MOVFF     0xff3,0xfdb                                                                                     
002af4   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af6   5004     MOVF      0x4,0x0,0x0      if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002af8   e108     BNZ       0x2b0a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afa   b084     BTFSC     0x84,0x0,0x0       if (Enable1IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afc   d003     BRA       0x2b04                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002afe   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b00   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b02   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b04   b282     BTFSC     0x82,0x1,0x0       if (Enable2IO_PORT == ENABLE_MOTOR)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b06   d010     BRA       0x2b28                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b08   d009     BRA       0x2b1c           else if (DriverConfiguration == PIC_CONTROLS_EXTERNAL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b0a   0404     DECF      0x4,0x0,0x0                                                                                     
002b0c   e10d     BNZ       0x2b28                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b0e   b283     BTFSC     0x83,0x1,0x0       if (Enable1AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b10   d003     BRA       0x2b18                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b12   0e02     MOVLW     0x2                  motor1_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b14   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b16   6edf     MOVWF     0xdf,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b18   b280     BTFSC     0x80,0x1,0x0       if (Enable2AltIO_PORT == ENABLE_MOTOR)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b1a   d006     BRA       0x2b28                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b1c   0e02     MOVLW     0x2                  motor2_state = temp;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b1e   50db     MOVF      0xdb,0x0,0x0                                                                                    
002b20   6ee7     MOVWF     0xe7,0x0                                                                                        
002b22   0e01     MOVLW     0x1                                                                                             
002b24   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002b26   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b28   cfdf     MOVFF     0xfdf,0x46       ebb_print_uint(motor1_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b2a   f046                                                                                                               
002b2c   6a47     CLRF      0x47,0x0                                                                                        
002b2e   eca7     CALL      0x394e,0x0                                                                                      
002b30   f01c                                                                                                               
002b32   dbd8     RCALL     0x32e4                                                                                          
002b34   ecb4     CALL      0x3568,0x0       ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b36   f01a                                                                                                               
002b38   ec62     CALL      0x3cc4,0x0       ebb_print_uint(motor2_state);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b3a   f01e                                                                                                               
002b3c   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b3e   d002     BRA       0x2b44                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b40   ecbb     CALL      0x3376,0x0         print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b42   f019                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b44   ec9b     CALL      0x3336,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b46   f019                                                                                                               
002b48   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b4a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002b4c   e202     BC        0x2b52                                                                                          
002b4e   6ae1     CLRF      0xe1,0x0                                                                                        
002b50   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002b52   d3e9     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Toggle Pen                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: TP,<duration><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: OK<CR>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <duration> is optional, and defaults to 0mS                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just toggles state of pen arm, then delays for the optional <duration>        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Duration is in units of 1ms                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b54   dbeb     RCALL     0x332c         void parse_TP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b56   0e02     MOVLW     0x2                                                                                             
002b58   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b5a   6ade     CLRF      0xde,0x0         UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b5c   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b5e   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b60   dbbb     RCALL     0x32d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b62   ec44     CALL      0x3888,0x0       extract_number (kUINT, &CommandDuration, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b64   f01c                                                                                                               
002b66   ecd9     CALL      0x3bb2,0x0                                                                                      
002b68   f01d                                                                                                               
003bb2   0e03     MOVLW     0x3                                                                                             
003bb4   efb8     GOTO      0x3170                                                                                          
003bb6   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b6a   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b6c   5197     MOVF      0x97,0x0,0x1                                                                                    
002b6e   e10e     BNZ       0x2b8c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b70   0101     MOVLB     0x1              if (PenState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b72   05b9     DECF      0xb9,0x0,0x1                                                                                    
002b74   e104     BNZ       0x2b7e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b76   ec5f     CALL      0x38be,0x0         process_SP(PEN_DOWN, CommandDuration);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b78   f01c                                                                                                               
002b7a   6ae6     CLRF      0xe6,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b7c   d004     BRA       0x2b86           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b7e   ec5f     CALL      0x38be,0x0         process_SP(PEN_UP, CommandDuration);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b80   f01c                                                                                                               
002b82   0e01     MOVLW     0x1                                                                                             
002b84   6ee6     MOVWF     0xe6,0x0                                                                                        
002b86   ece8     CALL      0x37d0,0x0                                                                                      
002b88   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b8a   dbd5     RCALL     0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b8c   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b8e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002b90   e202     BC        0x2b96                                                                                          
002b92   6ae1     CLRF      0xe1,0x0                                                                                        
002b94   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002b96   d3c7     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Pen                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SP,<State>,<Duration>,<PortB_Pin><CR>                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <State> is 0 (for goto servo_max) or 1 (for goto servo_min)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Duration> is how long to wait before the next command in the motion control  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      FIFO should start. (defaults to 0mS)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      Note that the units of this parameter is either 1ms                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <PortB_Pin> Is a value from 0 to 7 and allows you to re-assign the Pen        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      RC Servo output to different PortB pins.                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This is a command that the user can send from the PC to set the pen state.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that there is only one pen RC servo output - if you use the <PortB_Pin>  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // parameter, then that new pin becomes the pen RC servo output. This command    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // does not allow for multiple servo signals at the same time from port B pins.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Use the S2 command for that.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function will use the values for <serv_min>, <servo_max>,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <servo_rate_up> and <servo_rate_down> (SC,4 SC,5, SC,11, SC,10 commands)      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // when it schedules the servo command.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internally, the parse_SP_packet() function makes a call to                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // process_SP() function to actually make the change in the servo output.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b98   ec70     CALL      0x3ae0,0x0     void parse_SP_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b9a   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 CommandDuration = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b9c   ec67     CALL      0x36ce,0x0       UINT8 Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002b9e   f01b                                                                                                               
                                             ExtractReturnType Ret;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba0   ec8e     CALL      0x3d1c,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba2   f01e                                                                                                               
003d1c   de3b     RCALL     0x3994                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d1e   ec37     CALL      0x346e,0x0       extract_number(kUINT, &CommandDuration, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d20   f01a                                                                                                               
003d22   efd9     GOTO      0x3bb2                                                                                          
003d24   f01d                                                                                                               
002ba4   ec93     CALL      0x3d26,0x0       Ret = extract_number(kUCHAR, &Pin, kOPTIONAL);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ba6   f01e                                                                                                               
002ba8   ec00     CALL      0x3800,0x0                                                                                      
002baa   f01c                                                                                                               
003d26   0e01     MOVLW     0x1                                                                                             
003d28   6ee6     MOVWF     0xe6,0x0                                                                                        
003d2a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
003d2c   0f03     ADDLW     0x3                                                                                             
003d2e   ef36     GOTO      0x3a6c                                                                                          
003d30   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bac   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bae   5197     MOVF      0x97,0x0,0x1                                                                                    
002bb0   e123     BNZ       0x2bf8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Error check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bb2   0e03     MOVLW     0x3              if (Pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bb4   50db     MOVF      0xdb,0x0,0x0                                                                                    
002bb6   0807     SUBLW     0x7                                                                                             
002bb8   e202     BC        0x2bbe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bba   ec67     CALL      0x36ce,0x0         Pin = DEFAULT_EBB_SERVO_PORTB_PIN;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bbc   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bbe   50df     MOVF      0xdf,0x0,0x0     if (State > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc0   0801     SUBLW     0x1                                                                                             
002bc2   e202     BC        0x2bc8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc4   0e01     MOVLW     0x1                State = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc6   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set the PRn of the Pen Servo output                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Add 3 to get from PORTB pin number to RPn number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bc8   0e03     MOVLW     0x3              if (g_servo2_RPn != (Pin + 3))                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bca   50db     MOVF      0xdb,0x0,0x0                                                                                    
002bcc   0f03     ADDLW     0x3                                                                                             
002bce   0100     MOVLB     0x0                                                                                             
002bd0   5d8a     SUBWF     0x8a,0x0,0x1                                                                                    
002bd2   e007     BZ        0x2be2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // if we are changing which pin the pen servo is on, we need to cancel       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // the servo output on the old channel first                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd4   ece8     CALL      0x35d0,0x0         RCServo2_Move(0, g_servo2_RPn, 0, 0);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd6   f01a                                                                                                               
                                               // Now record the new RPn                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bd8   0e03     MOVLW     0x3                g_servo2_RPn = Pin + 3;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bda   50db     MOVF      0xdb,0x0,0x0                                                                                    
002bdc   0f03     ADDLW     0x3                                                                                             
002bde   0100     MOVLB     0x0                                                                                             
002be0   6f8a     MOVWF     0x8a,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Execute the servo state change                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002be2   0e01     MOVLW     0x1              process_SP(State, CommandDuration);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002be4   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002be6   ffe6                                                                                                               
002be8   0e02     MOVLW     0x2                                                                                             
002bea   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002bec   ffe6                                                                                                               
002bee   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
002bf0   ffe6                                                                                                               
002bf2   ece8     CALL      0x37d0,0x0                                                                                      
002bf4   f01b                                                                                                               
0037d0   ec02     CALL      0x2c04,0x0                                                                                      
0037d2   f016                                                                                                               
0037d4   d26a     BRA       0x3caa                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bf6   db9f     RCALL     0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bf8   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002bfa   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002bfc   e202     BC        0x2c02                                                                                          
002bfe   6ae1     CLRF      0xe1,0x0                                                                                        
002c00   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002c02   d391     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Internal use function -                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform a state change on the pen RC servo output. Move it up or move it down D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <NewState> is either PEN_UP or PEN_DOWN.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <CommandDuration> is the number of milliseconds to wait before executing the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //      next command in the motion control FIFO                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // This function uses the g_servo2_min, max, rate_up, rate_down variables        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // to schedule an RC Servo change with the RCServo2_Move() function.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c04   ec76     CALL      0x3aec,0x0     void process_SP(PenStateType NewState, UINT16 CommandDuration)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c06   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Position;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Rate;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c08   0efe     MOVLW     0xfe             if (NewState == PEN_UP)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c0a   04db     DECF      0xdb,0x0,0x0                                                                                    
002c0c   e10b     BNZ       0x2c24                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c0e   c084     MOVFF     0x84,0xfde         Position = g_servo2_min;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c10   ffde                                                                                                               
002c12   c085     MOVFF     0x85,0xfdd                                                                                      
002c14   ffdd                                                                                                               
002c16   0e02     MOVLW     0x2                Rate = g_servo2_rate_up;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c18   c086     MOVFF     0x86,0xfdb                                                                                      
002c1a   ffdb                                                                                                               
002c1c   0e03     MOVLW     0x3                                                                                             
002c1e   c087     MOVFF     0x87,0xfdb                                                                                      
002c20   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c22   d00a     BRA       0x2c38           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c24   c082     MOVFF     0x82,0xfde         Position = g_servo2_max;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c26   ffde                                                                                                               
002c28   c083     MOVFF     0x83,0xfdd                                                                                      
002c2a   ffdd                                                                                                               
002c2c   0e02     MOVLW     0x2                Rate = g_servo2_rate_down;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c2e   c088     MOVFF     0x88,0xfdb                                                                                      
002c30   ffdb                                                                                                               
002c32   0e03     MOVLW     0x3                                                                                             
002c34   c089     MOVFF     0x89,0xfdb                                                                                      
002c36   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c38   8689     BSF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_ON;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c3a   c0d5     MOVFF     0xd5,0xd1        gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c3c   f0d1                                                                                                               
002c3e   c0d6     MOVFF     0xd6,0xd2                                                                                       
002c40   f0d2                                                                                                               
002c42   c0d7     MOVFF     0xd7,0xd3                                                                                       
002c44   f0d3                                                                                                               
002c46   c0d8     MOVFF     0xd8,0xd4                                                                                       
002c48   f0d4                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Now schedule the movement with the RCServo2 function                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c4a   0efc     MOVLW     0xfc             RCServo2_Move(Position, g_servo2_RPn, Rate, CommandDuration);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c4c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002c4e   ffe6                                                                                                               
002c50   0efd     MOVLW     0xfd                                                                                            
002c52   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002c54   ffe6                                                                                                               
002c56   0e02     MOVLW     0x2                                                                                             
002c58   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002c5a   ffe6                                                                                                               
002c5c   0e03     MOVLW     0x3                                                                                             
002c5e   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
002c60   ffe6                                                                                                               
002c62   c08a     MOVFF     0x8a,0xfe6                                                                                      
002c64   ffe6                                                                                                               
002c66   ec5f     CALL      0x38be,0x0                                                                                      
002c68   f01c                                                                                                               
002c6a   ecb7     CALL      0x3b6e,0x0                                                                                      
002c6c   f01d                                                                                                               
0038be   cfde     MOVFF     0xfde,0xfe6                                                                                     
0038c0   ffe6                                                                                                               
0038c2   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
0038c4   ffe6                                                                                                               
0038c6   0012     RETURN    0x0                                                                                             
003b6e   ec02     CALL      0x8004,0x0                                                                                      
003b70   f040                                                                                                               
003b72   6e46     MOVWF     0x46,0x0                                                                                        
003b74   0e07     MOVLW     0x7                                                                                             
003b76   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
003b78   5046     MOVF      0x46,0x0,0x0                                                                                    
003b7a   0012     RETURN    0x0                                                                                             
002c6e   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c70   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002c72   e202     BC        0x2c78                                                                                          
002c74   6ae1     CLRF      0xe1,0x0                                                                                        
002c76   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002c78   d356     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Enable Motor                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: EM,<EnableAxis1>,<EnableAxis2><CR>                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Everything after EnableAxis1 is optional                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each parameter can have a value of                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    0 to disable that motor driver                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // FOR OLD DRIVER CHIP (A3967) - can do separate enables for each axis           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 to enable the driver in 1/8th step mode                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 to enable the driver in 1/4 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 to enable the driver in 1/2 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    4 to enable the driver in full step mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // FOR NEW DRIVER CHIP (A4988/A4983)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // (only first parameter applies, and it applies to both drivers)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    1 to enable the driver in 1/16th step mode                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    2 to enable the driver in 1/8 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    3 to enable the driver in 1/4 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    4 to enable the driver in 1/2 step mode                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //    5 to enable the driver in full step mode                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If you disable a motor, it goes 'limp' (we clear the ENABLE pin on that motor's D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // driver chip)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that when using 0 or 1 for a parameter, you can use both axis even       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // on a 'new' driver chip board. (i.e. EM,0,1 will disable motor 1 and enable 2) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note that the MSx lines do not come to any headers, so even when an external  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // source is controlling the drivers, the PIC still needs to control the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // MSx lines.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.7.0 : We always clear out the step accumulators when the EM command   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of 2.8.0 : This command is now handled as part of the motion queue         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   is executed.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c7a   ec76     CALL      0x3aec,0x0     void parse_EM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c7c   f01d                                                                                                               
003aec   dc1f     RCALL     0x332c                                                                                          
003aee   0e04     MOVLW     0x4                                                                                             
003af0   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
003af2   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned char EA1, EA2;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c7e   ecca     CALL      0x3994,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c80   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c82   6ee7     MOVWF     0xe7,0x0         RetVal1 = extract_number (kUCHAR, &EA1, kREQUIRED);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c84   0e02     MOVLW     0x2                                                                                             
002c86   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002c88   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c8a   0100     MOVLB     0x0              if (error_byte || kEXTRACT_OK != RetVal1)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c8c   5197     MOVF      0x97,0x0,0x1                                                                                    
002c8e   e128     BNZ       0x2ce0                                                                                          
002c90   0e02     MOVLW     0x2                                                                                             
002c92   50db     MOVF      0xdb,0x0,0x0                                                                                    
002c94   e125     BNZ       0x2ce0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c96   ec74     CALL      0x3ae8,0x0       RetVal2 = extract_number (kUCHAR, &EA2, kOPTIONAL);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002c98   f01d                                                                                                               
002c9a   6ee7     MOVWF     0xe7,0x0                                                                                        
002c9c   0e03     MOVLW     0x3                                                                                             
002c9e   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
002ca0   ffdb                                                                                                               
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ca2   0100     MOVLB     0x0              if (error_byte || kEXTRACT_OK != RetVal2)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ca4   5197     MOVF      0x97,0x0,0x1                                                                                    
002ca6   e11c     BNZ       0x2ce0                                                                                          
002ca8   0e03     MOVLW     0x3                                                                                             
002caa   50db     MOVF      0xdb,0x0,0x0                                                                                    
002cac   e119     BNZ       0x2ce0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cae   bc09     BTFSC     0x9,0x6,0x0      if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb0   d016     BRA       0x2cde                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Trial: Spin here until there's space in the fifo                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb2   5013     MOVF      0x13,0x0,0x0       while(gFIFOLength >= gCurrentFIFOLength)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb4   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002cb6   e2fd     BC        0x2cb2                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up the motion queue command                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cb8   ec78     CALL      0x36f0,0x0       FIFOPtr[gFIFOIn].m.sm.DirBits = EA1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cba   f01b                                                                                                               
002cbc   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002cbe   ffef                                                                                                               
0036f0   5010     MOVF      0x10,0x0,0x0                                                                                    
0036f2   db02     RCALL     0x3cf8                                                                                          
0036f4   52ee     MOVF      0xee,0x1,0x0                                                                                    
0036f6   0012     RETURN    0x0                                                                                             
0039ac   51fe     MOVF      0xfe,0x0,0x1                                                                                    
0039ae   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
0039b0   6ee9     MOVWF     0xe9,0x0                                                                                        
0039b2   51ff     MOVF      0xff,0x0,0x1                                                                                    
0039b4   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
0039b6   6eea     MOVWF     0xea,0x0                                                                                        
0039b8   0012     RETURN    0x0                                                                                             
003cf8   0d2f     MULLW     0x2f                                                                                            
003cfa   0102     MOVLB     0x2                                                                                             
003cfc   efd6     GOTO      0x39ac                                                                                          
003cfe   f01c                                                                                                               
002cc0   dbda     RCALL     0x3476           FIFOPtr[gFIFOIn].m.sm.ServoRPn = EA2;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cc2   ece5     CALL      0x37ca,0x0                                                                                      
002cc4   f01b                                                                                                               
002cc6   0e01     MOVLW     0x1                                                                                             
002cc8   cfdb     MOVFF     0xfdb,0xfef                                                                                     
002cca   ffef                                                                                                               
002ccc   dbd4     RCALL     0x3476           FIFOPtr[gFIFOIn].Command = COMMAND_EM;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cce   0e04     MOVLW     0x4                                                                                             
002cd0   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cd2   2a10     INCF      0x10,0x1,0x0       gFIFOIn++;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cd4   5013     MOVF      0x13,0x0,0x0       if (gFIFOIn >= gCurrentFIFOLength)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cd6   5c10     SUBWF     0x10,0x0,0x0                                                                                    
002cd8   e301     BNC       0x2cdc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cda   6a10     CLRF      0x10,0x0             gFIFOIn = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cdc   2a0f     INCF      0xf,0x1,0x0        gFIFOLength++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cde   db2b     RCALL     0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ce0   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ce2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002ce4   e202     BC        0x2cea                                                                                          
002ce6   6ae1     CLRF      0xe1,0x0                                                                                        
002ce8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002cea   d31d     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter increment                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: NI<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_NI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cec   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cee   daf4     RCALL     0x32d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cf0   0efe     MOVLW     0xfe             if (NodeCount < 0xFFFFFFFEUL)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002cf2   0101     MOVLB     0x1                                                                                             
002cf4   5dba     SUBWF     0xba,0x0,0x1                                                                                    
002cf6   0eff     MOVLW     0xff                                                                                            
002cf8   59bb     SUBWFB    0xbb,0x0,0x1                                                                                    
002cfa   0eff     MOVLW     0xff                                                                                            
002cfc   59bc     SUBWFB    0xbc,0x0,0x1                                                                                    
002cfe   0eff     MOVLW     0xff                                                                                            
002d00   59bd     SUBWFB    0xbd,0x0,0x1                                                                                    
002d02   e205     BC        0x2d0e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d04   2bba     INCF      0xba,0x1,0x1       NodeCount++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d06   0e00     MOVLW     0x0                                                                                             
002d08   23bb     ADDWFC    0xbb,0x1,0x1                                                                                    
002d0a   23bc     ADDWFC    0xbc,0x1,0x1                                                                                    
002d0c   23bd     ADDWFC    0xbd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d0e   ef9b     GOTO      0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d10   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Node counter Decrement                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: ND<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_ND_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d12   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d14   dae1     RCALL     0x32d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d16   0101     MOVLB     0x1              if (NodeCount)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d18   51ba     MOVF      0xba,0x0,0x1                                                                                    
002d1a   11bb     IORWF     0xbb,0x0,0x1                                                                                    
002d1c   11bc     IORWF     0xbc,0x0,0x1                                                                                    
002d1e   11bd     IORWF     0xbd,0x0,0x1                                                                                    
002d20   e005     BZ        0x2d2c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d22   07ba     DECF      0xba,0x1,0x1       NodeCount--;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d24   0e00     MOVLW     0x0                                                                                             
002d26   5bbb     SUBWFB    0xbb,0x1,0x1                                                                                    
002d28   5bbc     SUBWFB    0xbc,0x1,0x1                                                                                    
002d2a   5bbd     SUBWFB    0xbd,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d2c   ef9b     GOTO      0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d2e   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Node counter                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SN,<value><CR>                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <value> is a 4 byte unsigned value                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d30   dafd     RCALL     0x332c         void parse_SN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d32   0e05     MOVLW     0x5                                                                                             
002d34   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             unsigned long Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d36   ec77     CALL      0x3cee,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d38   f01e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d3a   0e07     MOVLW     0x7              RetVal = extract_number(kULONG, &Temp, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d3c   da19     RCALL     0x3170                                                                                          
002d3e   ec00     CALL      0x3800,0x0                                                                                      
002d40   f01c                                                                                                               
002d42   50db     MOVF      0xdb,0x0,0x0     if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d44   e10b     BNZ       0x2d5c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d46   cfdf     MOVFF     0xfdf,0x1ba        NodeCount = Temp;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d48   f1ba                                                                                                               
002d4a   0e01     MOVLW     0x1                                                                                             
002d4c   cfdb     MOVFF     0xfdb,0x1bb                                                                                     
002d4e   f1bb                                                                                                               
002d50   0e02     MOVLW     0x2                                                                                             
002d52   cfdb     MOVFF     0xfdb,0x1bc                                                                                     
002d54   f1bc                                                                                                               
002d56   0e03     MOVLW     0x3                                                                                             
002d58   cfdb     MOVFF     0xfdb,0x1bd                                                                                     
002d5a   f1bd                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d5c   daec     RCALL     0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d5e   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d60   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002d62   e202     BC        0x2d68                                                                                          
002d64   6ae1     CLRF      0xe1,0x0                                                                                        
002d66   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002d68   d2de     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Node counter                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QN<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <NodeCount><CR>                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QN_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d6a   ec3f     CALL      0x3a7e,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d6c   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d6e   c1ba     MOVFF     0x1ba,0xfe6      ebb_print_uint(NodeCount);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d70   ffe6                                                                                                               
002d72   c1bb     MOVFF     0x1bb,0xfe6                                                                                     
002d74   ffe6                                                                                                               
002d76   c1bc     MOVFF     0x1bc,0xfe6                                                                                     
002d78   ffe6                                                                                                               
002d7a   c1bd     MOVFF     0x1bd,0xfe6                                                                                     
002d7c   ffe6                                                                                                               
002d7e   ec9a     CALL      0x3b34,0x0                                                                                      
002d80   f01d                                                                                                               
002d82   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d84   d002     BRA       0x2d8a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d86   ec30     CALL      0x3660,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d88   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d8a   ef9b     GOTO      0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d8c   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Layer                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SL,<Value>[,<Index>]<CR>                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Value> is an unsigned 8-bit decimal number and                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <Index> is an optional parameter from 0 to 31. If not present then            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <index> is assumed to be 0.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Store <Value> in <Index> (variable space) in RAM                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Retrieve the values using the QL command                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d8e   dace     RCALL     0x332c         void parse_SL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d90   0e02     MOVLW     0x2                                                                                             
002d92   ec99     CALL      0x3d32,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d94   f01e                                UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d96   ecca     CALL      0x3994,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d98   f01c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d9a   ec74     CALL      0x3ae8,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d9c   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002d9e   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002da0   5197     MOVF      0x97,0x0,0x1                                                                                    
002da2   e10c     BNZ       0x2dbc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002da4   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002da6   50db     MOVF      0xdb,0x0,0x0                                                                                    
002da8   081f     SUBLW     0x1f                                                                                            
002daa   e203     BC        0x2db2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dac   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dae   0e1f     MOVLW     0x1f                                                                                            
002db0   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db2   ec20     CALL      0x3840,0x0       gSL_Storage[Index] = Value;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002db4   f01c                                                                                                               
002db6   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002db8   ffef                                                                                                               
003840   0e01     MOVLW     0x1                                                                                             
003842   50db     MOVF      0xdb,0x0,0x0                                                                                    
003844   6aea     CLRF      0xea,0x0                                                                                        
003846   0f58     ADDLW     0x58                                                                                            
003848   6ee9     MOVWF     0xe9,0x0                                                                                        
00384a   0e01     MOVLW     0x1                                                                                             
00384c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00384e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dba   dabd     RCALL     0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dbc   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dbe   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002dc0   e202     BC        0x2dc6                                                                                          
002dc2   6ae1     CLRF      0xe1,0x0                                                                                        
002dc4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002dc6   d2af     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Layer                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QL[,<Index>]<CR>                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: QL,<ValueAtIndex><CR>                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <Index> is an optional parameter from 0 to 31                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // If not present, <Index> is set to 0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The <ValueAtIndex> is an unsigned byte which was previously stored at <Index> D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dc8   dab1     RCALL     0x332c         void parse_QL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dca   0e02     MOVLW     0x2                                                                                             
002dcc   ec3b     CALL      0x3a76,0x0                                                                                      
003a76   d95d                                                                                                               
003d32   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dce   f01d     WORD2     0x1d             UINT8 Value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d34   6adf     CLRF      0xdf,0x0                                                                                        
003d36   0e01     MOVLW     0x1              UINT8 Index = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003d38   6adb     CLRF      0xdb,0x0                                                                                        
003d3a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a78   6ee6     MOVWF     0xe6,0x0         print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003a7a   ef6c     GOTO      0x32d8                                                                                          
003a7c   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd0   ec74     CALL      0x3ae8,0x0       extract_number(kUCHAR, &Index, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd2   f01d                                                                                                               
003ae8   dcc2     RCALL     0x346e                                                                                          
003aea   d12c     BRA       0x3d44                                                                                          
003d44   0e01     MOVLW     0x1                                                                                             
003d46   efb8     GOTO      0x3170                                                                                          
003d48   f018                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd4   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dd6   5197     MOVF      0x97,0x0,0x1                                                                                    
002dd8   e115     BNZ       0x2e04                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dda   0e01     MOVLW     0x1              if (Index > (SL_STORAGE_SIZE - 1))                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ddc   50db     MOVF      0xdb,0x0,0x0                                                                                    
002dde   081f     SUBLW     0x1f                                                                                            
002de0   e203     BC        0x2de8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de2   52de     MOVF      0xde,0x1,0x0       Index = (SL_STORAGE_SIZE - 1);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de4   0e1f     MOVLW     0x1f                                                                                            
002de6   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002de8   ec20     CALL      0x3840,0x0       ebb_print_uint(gSL_Storage[Index]);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dea   f01c                                                                                                               
002dec   cfef     MOVFF     0xfef,0x46                                                                                      
002dee   f046                                                                                                               
002df0   6a47     CLRF      0x47,0x0                                                                                        
002df2   eca7     CALL      0x394e,0x0                                                                                      
002df4   f01c                                                                                                               
002df6   ec9a     CALL      0x3b34,0x0                                                                                      
002df8   f01d                                                                                                               
00394e   6a48     CLRF      0x48,0x0                                                                                        
003950   6a49     CLRF      0x49,0x0                                                                                        
003952   c046     MOVFF     0x46,0xfe6                                                                                      
003954   ffe6                                                                                                               
003956   ef49     GOTO      0x3c92                                                                                          
003958   f01e                                                                                                               
002dfa   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dfc   d002     BRA       0x2e02                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002dfe   ec30     CALL      0x3660,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e00   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e02   da99     RCALL     0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e04   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e06   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002e08   e202     BC        0x2e0e                                                                                          
002e0a   6ae1     CLRF      0xe1,0x0                                                                                        
002e0c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002e0e   d28b     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Button                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QB<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <HasButtonBeenPushedSinceLastQB><CR> (0 or 1)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void  parse_QB_packet(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e10   ec3f     CALL      0x3a7e,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e12   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e14   5007     MOVF      0x7,0x0,0x0      ebb_print_uint(ButtonPushed);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e16   6e46     MOVWF     0x46,0x0                                                                                        
002e18   6a47     CLRF      0x47,0x0                                                                                        
002e1a   6a48     CLRF      0x48,0x0                                                                                        
002e1c   6a49     CLRF      0x49,0x0                                                                                        
002e1e   6ee6     MOVWF     0xe6,0x0                                                                                        
002e20   ec49     CALL      0x3c92,0x0                                                                                      
002e22   f01e                                                                                                               
002e24   ec9a     CALL      0x3b34,0x0                                                                                      
002e26   f01d                                                                                                               
0032e4   ec6b     CALL      0x86d6,0x0                                                                                      
0032e6   f043                                                                                                               
0032e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032ea   ef55     GOTO      0x3caa                                                                                          
0032ec   f01e                                                                                                               
003b34   ec72     CALL      0x32e4,0x0                                                                                      
003b36   f019                                                                                                               
003c92   c047     MOVFF     0x47,0xfe6                                                                                      
003c94   ffe6                                                                                                               
003c96   c048     MOVFF     0x48,0xfe6                                                                                      
003c98   ffe6                                                                                                               
003c9a   c049     MOVFF     0x49,0xfe6                                                                                      
003c9c   ffe6                                                                                                               
003c9e   0012     RETURN    0x0                                                                                             
002e28   b1c3     BTFSC     0xc3,0x0,0x1     if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e2a   d002     BRA       0x2e30                                                                                          
003b38   0101     MOVLB     0x1                                                                                             
003b3a   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e2c   ec30     CALL      0x3660,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e2e   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e30   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e32   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e34   ef9b     GOTO      0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e36   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query Current                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QC<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <voltage_on_REF_RA0_net>,<voltage_on_v+_net><CR>                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Both values have a range of 0 to 1023 (10-bit ADC)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The ADC is set up with 0V = 0 and 3.3V = 1023                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the REF_RA0 (current adjustment pot) a value of 0V-ADC (0 counts) = 46mA  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.58V-ADC (800 counts) = 1.35A                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For the V+ net a value of 0V-ADC (0 counts) = 0V on V+                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // and a value of 2.79V-ADC (870 counts) = 31.4V on V+                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // REF_RA0 comes in on AN0 (RA0)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // V+ comes in on AN11 (RC2)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_QC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Since access to ISR_A_FIFO[] is not protected in any way from ISR and       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // mainline code accessing at the same time, we will just wait for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // the cycle of ADC readings to finish before we spit out our value.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e38   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e3a   d7fe     BRA       0x2e38                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Print out our results                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e3c   ec3f     CALL      0x3a7e,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e3e   f01d                                                                                                               
002e40   c100     MOVFF     0x100,0x46       ebb_print_int(ISR_A_FIFO[0]);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e42   f046                                                                                                               
002e44   c101     MOVFF     0x101,0x47                                                                                      
002e46   f047                                                                                                               
002e48   da31     RCALL     0x32ac                                                                                          
002e4a   db8e     RCALL     0x3568           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e4c   c116     MOVFF     0x116,0x46       ebb_print_int(ISR_A_FIFO[11]);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e4e   f046                                                                                                               
002e50   c117     MOVFF     0x117,0x47                                                                                      
002e52   f047                                                                                                               
002e54   da2b     RCALL     0x32ac                                                                                          
002e56   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e58   b1c3     BTFSC     0xc3,0x0,0x1                                                                                    
002e5a   d002     BRA       0x2e60                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e5c   ec30     CALL      0x3660,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e5e   f01b                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e60   ef9b     GOTO      0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e62   f019                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Query General                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: QG<CR>                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Returns: <status><NL><CR>                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <status> is a 16 bit value, printed as a hexadecimal number "00" to "FF".     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Each bit in the byte represents the status of a single bit of information in the EBB. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 0 : Motion FIFO status (0 = FIFO empty, 1 = FIFO not empty)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 1 : Motor2 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 2 : Motor1 status (0 = not moving, 1 = moving)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 3 : CommandExecuting (0 = no command currently executing, 1 = a command is currently executing) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 4 : Pen status (0 = up, 1 = down)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 5 : PRG button status (0 = not pressed since last query, 1 = pressed since last query) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 6 : Power Lost (1 = V+ went below g_PowerMonitorThresholdADC, 0 = it did not) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Bit 7 : gLimitSwitchTriggered                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Just like the QB command, the PRG button status is cleared (after being printed) if pressed since last QB/QG command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e64   ec96     CALL      0x3b2c,0x0     void parse_QG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e66   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e68   d8cf     RCALL     0x3008           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e6a   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e6c   ec3f     CALL      0x3a7e,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e6e   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // process_QM() gives us the low 4 bits of our output result.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e70   0e0f     MOVLW     0xf              result = result & 0x0F;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e72   14df     ANDWF     0xdf,0x0,0x0                                                                                    
002e74   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e76   0101     MOVLB     0x1              if (PenState)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e78   51b9     MOVF      0xb9,0x0,0x1                                                                                    
002e7a   e003     BZ        0x2e82                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e7c   0e10     MOVLW     0x10               result = result | (1 << 4);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e7e   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e80   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e82   a007     BTFSS     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e84   d003     BRA       0x2e8c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e86   0e20     MOVLW     0x20               result = result | (1 << 5);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e88   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e8a   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e8c   0100     MOVLB     0x0              if (g_PowerDropDetected)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e8e   51a7     MOVF      0xa7,0x0,0x1                                                                                    
002e90   e004     BZ        0x2e9a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e92   0e40     MOVLW     0x40               result = result | (1 << 6);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e94   10df     IORWF     0xdf,0x0,0x0                                                                                    
002e96   6edf     MOVWF     0xdf,0x0                                                                                        
002e98   6ba7     CLRF      0xa7,0x1           g_PowerDropDetected = FALSE;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e9a   a00e     BTFSS     0xe,0x0,0x0      if (bittstzero(gLimitSwitchTriggered))                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e9c   d003     BRA       0x2ea4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002e9e   0e80     MOVLW     0x80               result = result | (1 << 7);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ea0   10df     IORWF     0xdf,0x0,0x0                                                                                    
002ea2   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ea4   0e02     MOVLW     0x2              ebb_print_hex(result, 2);                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ea6   6ee6     MOVWF     0xe6,0x0                                                                                        
002ea8   cfdf     MOVFF     0xfdf,0x46                                                                                      
002eaa   f046                                                                                                               
002eac   6a47     CLRF      0x47,0x0                                                                                        
002eae   eca7     CALL      0x394e,0x0                                                                                      
002eb0   f01c                                                                                                               
002eb2   ec31     CALL      0x8662,0x0                                                                                      
002eb4   f043                                                                                                               
002eb6   6e4a     MOVWF     0x4a,0x0                                                                                        
002eb8   0e05     MOVLW     0x5                                                                                             
002eba   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
002ebc   504a     MOVF      0x4a,0x0,0x0                                                                                    
002ebe   dbd0     RCALL     0x3660           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003660   0e01     MOVLW     0x1                                                                                             
003662   6ee6     MOVWF     0xe6,0x0                                                                                        
003664   d2a0     BRA       0x3ba6                                                                                          
003ba6   ec4f     CALL      0x4c9e,0x0                                                                                      
003ba8   f026                                                                                                               
003baa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003bac   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Reset the button pushed flag                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec0   b007     BTFSC     0x7,0x0,0x0      if (bittstzero(ButtonPushed))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec2   9007     BCF       0x7,0x0,0x0        bitclrzero(ButtonPushed);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec4   d34f     BRA       0x3564         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003564   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003566   d31b     BRA       0x3b9e                                                                                          
003b9e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003ba0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
003ba2   ffd9                                                                                                               
003ba4   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Set Engraver                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Usage: SE,<state>,<power>,<use_motion_queue><CR>                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <state> is 0 for off and 1 for on (required)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <power> is 10 bit PWM power level (optional). 0 = 0%, 1023 = 100%             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // <use_motion_queue> if 1 then put this command in motion queue (optional))     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // We boot up with <power> at 0                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // The engraver motor is always assumed to be on RB3                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // So our init routine will map ECCP1                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer1 is stepper                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer2 and ECCP1 is engraver PWM                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer3 and ECCP2 is RC servo2 output                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Timer4 is 1ms ISR                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec6   ec70     CALL      0x3ae0,0x0     void parse_SE_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ec8   f01d                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 State = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT16 Power = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eca   0e03     MOVLW     0x3              UINT8 SEUseMotionQueue = FALSE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ecc   6adb     CLRF      0xdb,0x0                                                                                        
                                             ExtractReturnType PowerExtract;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ece   ec8e     CALL      0x3d1c,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed0   f01e                                                                                                               
0032d8   6ae6     CLRF      0xe6,0x0                                                                                        
0032da   ec31     CALL      0x4c62,0x0                                                                                      
0032dc   f026                                                                                                               
0032de   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0032e2   0012     RETURN    0x0                                                                                             
003994   d9ac     RCALL     0x3cee                                                                                          
003cee   6ae6     CLRF      0xe6,0x0                                                                                        
003cf0   ec6c     CALL      0x32d8,0x0                                                                                      
003cf2   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00352a   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &State, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00352c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
00352e   ffe6                                                                                                               
003530   cfda     MOVFF     0xfda,0xfe6                                                                                     
003532   ffe6                                                                                                               
003534   0012     RETURN    0x0                                                                                             
003996   d1d6     BRA       0x3d44                                                                                          
003cf4   ef95     GOTO      0x352a                                                                                          
003cf6   f01a                                                                                                               
002ed2   ec00     CALL      0x3800,0x0       PowerExtract = extract_number(kUINT, &Power, kOPTIONAL);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed4   f01c                                                                                                               
00346e   0e01     MOVLW     0x1                                                                                             
003470   6ee6     MOVWF     0xe6,0x0                                                                                        
003472   efb0     GOTO      0x3b60                                                                                          
003474   f01d                                                                                                               
002ed6   ec93     CALL      0x3d26,0x0       extract_number(kUCHAR, &SEUseMotionQueue, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ed8   f01e                                                                                                               
003170   6ee6     MOVWF     0xe6,0x0                                                                                        
003172   ec58     CALL      0x5eb0,0x0                                                                                      
003174   f02f                                                                                                               
003176   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003178   ef55     GOTO      0x3caa                                                                                          
00317a   f01e                                                                                                               
003a6c   6ee6     MOVWF     0xe6,0x0                                                                                        
003a6e   0e00     MOVLW     0x0                                                                                             
003a70   20da     ADDWFC    0xda,0x0,0x0                                                                                    
003a72   6ee6     MOVWF     0xe6,0x0                                                                                        
003a74   d167     BRA       0x3d44                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002eda   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002edc   5197     MOVF      0x97,0x0,0x1                                                                                    
002ede   e001     BZ        0x2ee2                                                                                          
002ee0   d08d     BRA       0x2ffc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Limit check                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee2   dad4     RCALL     0x348c           if (Power > 1023u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ee4   0eff     MOVLW     0xff                                                                                            
002ee6   80d8     BSF       0xd8,0x0,0x0                                                                                    
002ee8   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
002eea   0e03     MOVLW     0x3                                                                                             
002eec   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
002eee   e205     BC        0x2efa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef0   0e01     MOVLW     0x1                Power = 1023;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ef2   68db     SETF      0xdb,0x0                                                                                        
002ef4   0e03     MOVLW     0x3                                                                                             
002ef6   ec64     CALL      0x38c8,0x0                                                                                      
002ef8   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002efa   50df     MOVF      0xdf,0x0,0x0     if (State > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002efc   0801     SUBLW     0x1                                                                                             
002efe   e202     BC        0x2f04                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f00   0e01     MOVLW     0x1                State = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f02   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f04   0e03     MOVLW     0x3              if (SEUseMotionQueue > 1u)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f06   50db     MOVF      0xdb,0x0,0x0                                                                                    
002f08   0801     SUBLW     0x1                                                                                             
002f0a   e201     BC        0x2f0e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f0c   dbe0     RCALL     0x36ce             SEUseMotionQueue = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Set to %50 if no Power parameter specified, otherwise use parameter         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f0e   04df     DECF      0xdf,0x0,0x0     if (State == 1u && PowerExtract == kEXTRACT_MISSING_PARAMETER)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f10   e109     BNZ       0x2f24                                                                                          
002f12   0e04     MOVLW     0x4                                                                                             
002f14   50db     MOVF      0xdb,0x0,0x0                                                                                    
002f16   0803     SUBLW     0x3                                                                                             
002f18   e105     BNZ       0x2f24                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f1a   0101     MOVLB     0x1                StoredEngraverPower = 512;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f1c   6bbf     CLRF      0xbf,0x1                                                                                        
002f1e   0e02     MOVLW     0x2                                                                                             
002f20   6fc0     MOVWF     0xc0,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f22   d006     BRA       0x2f30           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f24   0e01     MOVLW     0x1                StoredEngraverPower = Power;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f26   cfdb     MOVFF     0xfdb,0x1bf                                                                                     
002f28   f1bf                                                                                                               
002f2a   0e02     MOVLW     0x2                                                                                             
002f2c   cfdb     MOVFF     0xfdb,0x1c0                                                                                     
002f2e   f1c0                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // If we're not on, then turn us on                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f30   b4ca     BTFSC     0xca,0x2,0x0     if (T2CONbits.TMR2ON != 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f32   d015     BRA       0x2f5e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up PWM for Engraver control                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // We will use ECCP1 and Timer2 for the engraver PWM output on RB3           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Our PWM will operate at about 40Khz.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set our reload value                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f34   68cb     SETF      0xcb,0x0           PR2 = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Initialize Timer2                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // The prescaler will be at 1                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f36   0efc     MOVLW     0xfc               T2CONbits.T2CKPS = 0b00;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f38   14ca     ANDWF     0xca,0x0,0x0                                                                                    
002f3a   0900     IORLW     0x0                                                                                             
002f3c   6eca     MOVWF     0xca,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Do not generate an interrupt                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f3e   929d     BCF       0x9d,0x1,0x0       PIE1bits.TMR2IE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f40   010f     MOVLB     0xf                TCLKCONbits.T3CCP1 = 1;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f42   8152     BSF       0x52,0x0,0x1                                                                                    
002f44   9352     BCF       0x52,0x1,0x1       TCLKCONbits.T3CCP2 = 0;       // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f46   0ef0     MOVLW     0xf0               CCP1CONbits.CCP1M = 0b1100;   // Set EECP1 as PWM mode                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f48   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002f4a   090c     IORLW     0xc                                                                                             
002f4c   6eba     MOVWF     0xba,0x0                                                                                        
002f4e   0e3f     MOVLW     0x3f               CCP1CONbits.P1M = 0b00;       // Enhanced PWM mode: single output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f50   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002f52   0900     IORLW     0x0                                                                                             
002f54   6eba     MOVWF     0xba,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Set up output routing to go to RB3 (RP6)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f56   010e     MOVLB     0xe                RPOR6 = 14;                   // 14 is CCP1/P1A - ECCP1 PWM Output Channel A D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f58   0e0e     MOVLW     0xe                                                                                             
002f5a   6fcc     MOVWF     0xcc,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f5c   84ca     BSF       0xca,0x2,0x0       T2CONbits.TMR2ON = 1;         // Turn it on                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Acting on the state is only done if the SE command is not put on the motion queue D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f5e   0e03     MOVLW     0x3              if (!SEUseMotionQueue)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f60   50db     MOVF      0xdb,0x0,0x0                                                                                    
002f62   e12a     BNZ       0x2fb8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               // Now act on the State                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f64   50df     MOVF      0xdf,0x0,0x0       if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f66   e023     BZ        0x2fae                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to StoredEngraverPower                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f68   c1bf     MOVFF     0x1bf,0x46           CCPR1L = StoredEngraverPower >> 2;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f6a   f046                                                                                                               
002f6c   c1c0     MOVFF     0x1c0,0x47                                                                                      
002f6e   f047                                                                                                               
002f70   90d8     BCF       0xd8,0x0,0x0                                                                                    
002f72   3247     RRCF      0x47,0x1,0x0                                                                                    
002f74   3246     RRCF      0x46,0x1,0x0                                                                                    
002f76   90d8     BCF       0xd8,0x0,0x0                                                                                    
002f78   3247     RRCF      0x47,0x1,0x0                                                                                    
002f7a   3246     RRCF      0x46,0x1,0x0                                                                                    
002f7c   5046     MOVF      0x46,0x0,0x0                                                                                    
002f7e   6ebb     MOVWF     0xbb,0x0                                                                                        
002f80   c1bf     MOVFF     0x1bf,0x48           CCP1CON = (CCP1CON & 0b11001111) | ((StoredEngraverPower << 4) & 0b00110000); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002f82   f048                                                                                                               
002f84   c1c0     MOVFF     0x1c0,0x49                                                                                      
002f86   f049                                                                                                               
002f88   0e04     MOVLW     0x4                                                                                             
002f8a   90d8     BCF       0xd8,0x0,0x0                                                                                    
002f8c   3648     RLCF      0x48,0x1,0x0                                                                                    
002f8e   3649     RLCF      0x49,0x1,0x0                                                                                    
002f90   04e8     DECF      0xe8,0x0,0x0                                                                                    
002f92   e1fb     BNZ       0x2f8a                                                                                          
002f94   0e30     MOVLW     0x30                                                                                            
002f96   1648     ANDWF     0x48,0x1,0x0                                                                                    
002f98   0e00     MOVLW     0x0                                                                                             
002f9a   1649     ANDWF     0x49,0x1,0x0                                                                                    
002f9c   0ecf     MOVLW     0xcf                                                                                            
002f9e   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002fa0   0100     MOVLB     0x0                                                                                             
002fa2   1048     IORWF     0x48,0x0,0x0                                                                                    
002fa4   6e46     MOVWF     0x46,0x0                                                                                        
002fa6   c049     MOVFF     0x49,0x47                                                                                       
002fa8   f047                                                                                                               
002faa   50e8     MOVF      0xe8,0x0,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fac   d003     BRA       0x2fb4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set RB3 to low by setting PWM duty cycle to zero                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fae   6abb     CLRF      0xbb,0x0             CCPR1L = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb0   0ecf     MOVLW     0xcf                 CCP1CON = (CCP1CON & 0b11001111);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb2   14ba     ANDWF     0xba,0x0,0x0                                                                                    
002fb4   6eba     MOVWF     0xba,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb6   d021     BRA       0x2ffa           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fb8   bc09     BTFSC     0x9,0x6,0x0        if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fba   d01f     BRA       0x2ffa                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Trial: Spin here until there's space in the FIFO                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fbc   5013     MOVF      0x13,0x0,0x0         while(gFIFOLength >= gCurrentFIFOLength)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fbe   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
002fc0   e2fd     BC        0x2fbc                                                                                          
                                                   ;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 // Set up the motion queue command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fc2   db96     RCALL     0x36f0             FIFOPtr[gFIFOIn].m.sm.SEPower = StoredEngraverPower;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fc4   0e2c     MOVLW     0x2c                                                                                            
002fc6   eca9     CALL      0x3d52,0x0                                                                                      
002fc8   f01e                                                                                                               
002fca   c1bf     MOVFF     0x1bf,0xfee                                                                                     
002fcc   ffee                                                                                                               
002fce   c1c0     MOVFF     0x1c0,0xfed                                                                                     
002fd0   ffed                                                                                                               
002fd2   da51     RCALL     0x3476             FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fd4   52ee     MOVF      0xee,0x1,0x0                                                                                    
002fd6   52ee     MOVF      0xee,0x1,0x0                                                                                    
002fd8   6aee     CLRF      0xee,0x0                                                                                        
002fda   6aee     CLRF      0xee,0x0                                                                                        
002fdc   6aee     CLRF      0xee,0x0                                                                                        
002fde   6aee     CLRF      0xee,0x0                                                                                        
002fe0   da4a     RCALL     0x3476             FIFOPtr[gFIFOIn].m.sm.SEState = State;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fe2   dbf0     RCALL     0x37c4                                                                                          
002fe4   cfdf     MOVFF     0xfdf,0xfef                                                                                     
002fe6   ffef                                                                                                               
003476   5010     MOVF      0x10,0x0,0x0                                                                                    
003478   0d2f     MULLW     0x2f                                                                                            
00347a   efd6     GOTO      0x39ac                                                                                          
00347c   f01c                                                                                                               
002fe8   da46     RCALL     0x3476             FIFOPtr[gFIFOIn].Command = COMMAND_SE;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fea   0e03     MOVLW     0x3                                                                                             
002fec   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002fee   2a10     INCF      0x10,0x1,0x0         gFIFOIn++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ff0   5013     MOVF      0x13,0x0,0x0         if (gFIFOIn >= gCurrentFIFOLength)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ff2   5c10     SUBWF     0x10,0x0,0x0                                                                                    
002ff4   e301     BNC       0x2ff8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ff6   6a10     CLRF      0x10,0x0               gFIFOIn = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ff8   2a0f     INCF      0xf,0x1,0x0          gFIFOLength++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ffa   d99d     RCALL     0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ffc   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
002ffe   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003000   e202     BC        0x3006                                                                                          
003002   6ae1     CLRF      0xe1,0x0                                                                                        
003004   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003006   d18f     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Do the work of the QM command so we can use this same code for QM and         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // for QG commands.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003008   d991     RCALL     0x332c         UINT8 process_QM(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00300a   0e04     MOVLW     0x4                                                                                             
00300c   da9f     RCALL     0x354c                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00300e   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003010   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003012   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Create our output values to print back to the PC                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003014   0101     MOVLB     0x1              if (CurrentCommand.m.sm.DelayCounter != 0u)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003016   dbea     RCALL     0x37ec                                                                                          
003018   e002     BZ        0x301e                                                                                          
0037ec   5187     MOVF      0x87,0x0,0x1                                                                                    
0037ee   1188     IORWF     0x88,0x0,0x1                                                                                    
0037f0   1189     IORWF     0x89,0x0,0x1                                                                                    
0037f2   118a     IORWF     0x8a,0x0,0x1                                                                                    
0037f4   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00301a   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00301c   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00301e   5185     MOVF      0x85,0x0,0x1     if (CurrentCommand.Command != COMMAND_NONE)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003020   e002     BZ        0x3026                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003022   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003024   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003026   500f     MOVF      0xf,0x0,0x0      if (gFIFOLength)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003028   e006     BZ        0x3036                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00302a   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00302c   6edf     MOVWF     0xdf,0x0                                                                                        
00302e   6ef3     MOVWF     0xf3,0x0           FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003030   0e03     MOVLW     0x3                                                                                             
003032   cff3     MOVFF     0xff3,0xfdb                                                                                     
003034   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003036   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[0] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003038   e005     BZ        0x3044                                                                                          
00303a   db65     RCALL     0x3706                                                                                          
00303c   e003     BZ        0x3044                                                                                          
003706   5194     MOVF      0x94,0x0,0x1                                                                                    
003708   1195     IORWF     0x95,0x0,0x1                                                                                    
00370a   1196     IORWF     0x96,0x0,0x1                                                                                    
00370c   1197     IORWF     0x97,0x0,0x1                                                                                    
00370e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00303e   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003040   0e01     MOVLW     0x1                                                                                             
003042   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003044   50df     MOVF      0xdf,0x0,0x0     if (CommandExecuting && CurrentCommand.m.sm.Steps[1] != 0u)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003046   e005     BZ        0x3052                                                                                          
003048   dbcc     RCALL     0x37e2                                                                                          
00304a   e003     BZ        0x3052                                                                                          
0037e2   5198     MOVF      0x98,0x0,0x1                                                                                    
0037e4   1199     IORWF     0x99,0x0,0x1                                                                                    
0037e6   119a     IORWF     0x9a,0x0,0x1                                                                                    
0037e8   119b     IORWF     0x9b,0x0,0x1                                                                                    
0037ea   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00304c   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00304e   ec64     CALL      0x38c8,0x0                                                                                      
003050   f01c                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003052   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003054   0e03     MOVLW     0x3              return ((CommandExecuting << 3) | (Motor1Running << 2) | (Motor2Running << 1) | FIFOStatus); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003056   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
003058   ffe6                                                                                                               
00305a   0e02     MOVLW     0x2                                                                                             
00305c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00305e   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
003060   6e47     MOVWF     0x47,0x0                                                                                        
003062   0e01     MOVLW     0x1                                                                                             
003064   50db     MOVF      0xdb,0x0,0x0                                                                                    
003066   0d04     MULLW     0x4                                                                                             
003068   cff3     MOVFF     0xff3,0x46                                                                                      
00306a   f046                                                                                                               
00306c   50df     MOVF      0xdf,0x0,0x0                                                                                    
00306e   0d08     MULLW     0x8                                                                                             
003070   50f3     MOVF      0xf3,0x0,0x0                                                                                    
003072   1046     IORWF     0x46,0x0,0x0                                                                                    
003074   1047     IORWF     0x47,0x0,0x0                                                                                    
003076   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003078   10e7     IORWF     0xe7,0x0,0x0                                                                                    
00307a   6e46     MOVWF     0x46,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00307c   0e04     MOVLW     0x4                                                                                             
00307e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003080   e202     BC        0x3086                                                                                          
003082   6ae1     CLRF      0xe1,0x0                                                                                        
003084   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003086   6ee1     MOVWF     0xe1,0x0                                                                                        
003088   5046     MOVF      0x46,0x0,0x0                                                                                    
00308a   efcf     GOTO      0x3b9e                                                                                          
00308c   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Motor - returns the current status of each motor                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM takes no parameters, so usage is just QM<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status><CR>                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <CommandExecutingStatus>: 0 if no 'motion command' is executing, > 0 if some 'motion command' is executing D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor1Status>: 0 if motor 1 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <Motor2Status>: 0 if motor 2 is idle, 1 if motor is moving                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // As of version 2.4.4, there is now a fourth parameter at the end of the reply packet. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QM,<CommandExecutingStatus>,<Motor1Satus>,<Motor2Status>,<FIFOStatus><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Where <FIFOStatus> is either 1 (if there are any commands in the FIFO) or 0 (if the FIFO is empty) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00308e   ec70     CALL      0x3ae0,0x0     void parse_QM_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003090   f01d                                                                                                               
00354c   dbf2     RCALL     0x3d32                                                                                          
003ae0   dc25     RCALL     0x332c                                                                                          
003ae2   0e05     MOVLW     0x5                                                                                             
003ae4   efa6     GOTO      0x354c                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003ae6   f01a                                UINT8 CommandExecuting = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             UINT8 Motor1Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00354e   0e02     MOVLW     0x2              UINT8 Motor2Running = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003550   6adb     CLRF      0xdb,0x0                                                                                        
003552   0012     RETURN    0x0                                                                                             
003092   0e03     MOVLW     0x3              UINT8 FIFOStatus = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003094   6adb     CLRF      0xdb,0x0                                                                                        
003096   dfb8     RCALL     0x3008           UINT8 result = process_QM();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003098   dbb3     RCALL     0x3800                                                                                          
003800   6ee7     MOVWF     0xe7,0x0                                                                                        
003802   0e04     MOVLW     0x4                                                                                             
003804   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
003806   ffdb                                                                                                               
003808   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00309a   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00309c   6ee6     MOVWF     0xe6,0x0                                                                                        
00309e   6ee6     MOVWF     0xe6,0x0                                                                                        
0030a0   ec31     CALL      0x4c62,0x0                                                                                      
0030a2   f026                                                                                                               
0030a4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030a6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030a8   0e04     MOVLW     0x4              if (result & 0x01)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030aa   b0db     BTFSC     0xdb,0x0,0x0                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ac   db10     RCALL     0x36ce             FIFOStatus = 1;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0036ce   0e01     MOVLW     0x1                                                                                             
0036d0   6ef3     MOVWF     0xf3,0x0                                                                                        
0036d2   0e03     MOVLW     0x3                                                                                             
0036d4   cff3     MOVFF     0xff3,0xfdb                                                                                     
0036d6   ffdb                                                                                                               
0036d8   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ae   0e04     MOVLW     0x4              if (result & 0x02)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b0   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
0030b2   d003     BRA       0x30ba                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b4   0e01     MOVLW     0x1                Motor2Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030b6   ec64     CALL      0x38c8,0x0                                                                                      
0030b8   f01c                                                                                                               
0038c8   6ef3     MOVWF     0xf3,0x0                                                                                        
0038ca   0e02     MOVLW     0x2                                                                                             
0038cc   cff3     MOVFF     0xff3,0xfdb                                                                                     
0038ce   ffdb                                                                                                               
0038d0   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ba   0e04     MOVLW     0x4              if (result & 0x04)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030bc   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
0030be   d003     BRA       0x30c6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c0   52de     MOVF      0xde,0x1,0x0       Motor1Running = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c2   0e01     MOVLW     0x1                                                                                             
0030c4   6edd     MOVWF     0xdd,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c6   0e04     MOVLW     0x4              if (result & 0x08)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030c8   a6db     BTFSS     0xdb,0x3,0x0                                                                                    
0030ca   d002     BRA       0x30d0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030cc   0e01     MOVLW     0x1                CommandExecuting = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ce   6edf     MOVWF     0xdf,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d0   cfdf     MOVFF     0xfdf,0x46       ebb_print_int(CommandExecuting);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030d2   f046                                                                                                               
0030d4   6a47     CLRF      0x47,0x0                                                                                        
0030d6   d8ea     RCALL     0x32ac                                                                                          
0030d8   da47     RCALL     0x3568           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003568   0e2c     MOVLW     0x2c                                                                                            
00356a   6ee6     MOVWF     0xe6,0x0                                                                                        
00356c   eccb     CALL      0x4596,0x0                                                                                      
00356e   f022                                                                                                               
003570   52e5     MOVF      0xe5,0x1,0x0                                                                                    
003572   0012     RETURN    0x0                                                                                             
0030da   0e01     MOVLW     0x1              ebb_print_int(Motor1Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030dc   ec43     CALL      0x3a86,0x0                                                                                      
0030de   f01d                                                                                                               
0030e0   da43     RCALL     0x3568           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030e2   0e02     MOVLW     0x2              ebb_print_int(Motor2Running);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030e4   ec43     CALL      0x3a86,0x0                                                                                      
0030e6   f01d                                                                                                               
0030e8   da3f     RCALL     0x3568           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ea   0e03     MOVLW     0x3              ebb_print_int(FIFOStatus);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030ec   ec43     CALL      0x3a86,0x0                                                                                      
0030ee   f01d                                                                                                               
0032ac   db50     RCALL     0x394e                                                                                          
0032ae   efad     GOTO      0x395a                                                                                          
0032b0   f01c                                                                                                               
003a86   cfdb     MOVFF     0xfdb,0x46                                                                                      
003a88   f046                                                                                                               
003a8a   6a47     CLRF      0x47,0x0                                                                                        
003a8c   ef56     GOTO      0x32ac                                                                                          
003a8e   f019                                                                                                               
0030f0   d942     RCALL     0x3376           print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030f2   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030f4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0030f6   e202     BC        0x30fc                                                                                          
0030f8   6ae1     CLRF      0xe1,0x0                                                                                        
0030fa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0030fc   d114     BRA       0x3326                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Query Step position - returns the current x and y global step positions   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS,<global_step1_position>,<global_step2_position><CR>                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // where:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step1_position>: signed 32 bit value, current global motor 1 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           //   <global_step2_position>: signed 32 bit value, current global motor 2 step position D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
0030fe   d916     RCALL     0x332c         void parse_QS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003100   0e08     MOVLW     0x8                                                                                             
003102   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             INT32 step1, step2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003104   ec3f     CALL      0x3a7e,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003106   f01d                                                                                                               
003a7e   0e01     MOVLW     0x1                                                                                             
003a80   6ee6     MOVWF     0xe6,0x0                                                                                        
003a82   ef6c     GOTO      0x32d8                                                                                          
003a84   f019                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003108   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Make a local copy of the things we care about                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00310a   c016     MOVFF     0x16,0xfdf       step1 = globalStepCounter1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00310c   ffdf                                                                                                               
00310e   0e01     MOVLW     0x1                                                                                             
003110   c017     MOVFF     0x17,0xfdb                                                                                      
003112   ffdb                                                                                                               
003114   0e02     MOVLW     0x2                                                                                             
003116   c018     MOVFF     0x18,0xfdb                                                                                      
003118   ffdb                                                                                                               
00311a   0e03     MOVLW     0x3                                                                                             
00311c   c019     MOVFF     0x19,0xfdb                                                                                      
00311e   ffdb                                                                                                               
003120   0e04     MOVLW     0x4              step2 = globalStepCounter2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003122   c01a     MOVFF     0x1a,0xfdb                                                                                      
003124   ffdb                                                                                                               
003126   0e05     MOVLW     0x5                                                                                             
003128   c01b     MOVFF     0x1b,0xfdb                                                                                      
00312a   ffdb                                                                                                               
00312c   0e06     MOVLW     0x6                                                                                             
00312e   c01c     MOVFF     0x1c,0xfdb                                                                                      
003130   ffdb                                                                                                               
003132   0e07     MOVLW     0x7                                                                                             
003134   c01d     MOVFF     0x1d,0xfdb                                                                                      
003136   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003138   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00313a   cfd9     MOVFF     0xfd9,0xfe9      ebb_print_int(step1);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00313c   ffe9                                                                                                               
00313e   d8dd     RCALL     0x32fa                                                                                          
003140   da13     RCALL     0x3568           ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003142   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(step2);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003144   0f04     ADDLW     0x4                                                                                             
003146   ecdc     CALL      0x3bb8,0x0                                                                                      
003148   f01d                                                                                                               
0032fa   cfda     MOVFF     0xfda,0xfea                                                                                     
0032fc   ffea                                                                                                               
0032fe   cfee     MOVFF     0xfee,0xfe6                                                                                     
003300   ffe6                                                                                                               
003302   cfee     MOVFF     0xfee,0xfe6                                                                                     
003304   ffe6                                                                                                               
003306   cfee     MOVFF     0xfee,0xfe6                                                                                     
003308   ffe6                                                                                                               
00330a   cfef     MOVFF     0xfef,0xfe6                                                                                     
00330c   ffe6                                                                                                               
00330e   efad     GOTO      0x395a                                                                                          
003310   f01c                                                                                                               
003bb8   6ee9     MOVWF     0xe9,0x0                                                                                        
003bba   ef7d     GOTO      0x32fa                                                                                          
003bbc   f019                                                                                                               
00314a   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00314c   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00314e   d913     RCALL     0x3376             print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003376   0e02     MOVLW     0x2                                                                                             
003378   6ee6     MOVWF     0xe6,0x0                                                                                        
00337a   efd3     GOTO      0x3ba6                                                                                          
00337c   f01d                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003150   d8f2     RCALL     0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003152   0e08     MOVLW     0x8            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003154   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
003156   e202     BC        0x315c                                                                                          
003158   6ae1     CLRF      0xe1,0x0                                                                                        
00315a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00315c   d0e4     BRA       0x3326                                                                                          
003326   6ee1     MOVWF     0xe1,0x0                                                                                        
003328   efcf     GOTO      0x3b9e                                                                                          
00332a   f01d                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Perform the actual clearing of the step counters (used from several places)   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void clear_StepCounters(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Need to turn off high priority interrupts briefly here to read out value that ISR uses D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00315e   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;  // Turn high priority interrupts off                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear out the global step counters                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003160   da09     RCALL     0x3574           globalStepCounter1 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             globalStepCounter2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Clear both step accumulators as well                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[0].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             acc_union[1].value = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                             // Re-enable interrupts                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003162   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003164   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS command                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // For Clear Stepper position - zeros out both step1 and step2 global positions  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // CS takes no parameters, so usage is just CS<CR>                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // QS returns:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // OK<CR>                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           // Note, as of 2.7.0 this also clears out the step accumulators as well          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           void parse_CS_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003166   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
003168   d8b7     RCALL     0x32d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00316a   dff9     RCALL     0x315e           clear_StepCounters();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00316c   ef9b     GOTO      0x3336           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
00316e   f019                                                                                                               
003336   6ae6     CLRF      0xe6,0x0                                                                                        
003338   efd3     GOTO      0x3ba6                                                                                          
00333a   f01d                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * FileName:        main.c                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if !defined (PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTEN = OFF          // WDT disabled (enabled by SWDTEN bit)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config PLLDIV = 2           // Divide by 2 (8 MHz internal oscillator) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config STVREN = ON          // stack overflow/underflow reset enabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config XINST = OFF          // Extended instruction set disabled       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CPUDIV = OSC1        // No CPU system clock divide              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config CP0 = OFF            // Program memory is not code-protected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config OSC = INTOSCPLL      // Internal oscillator, PLL enabled, PLL used by USB, RA6 and RA7 for I/O use D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config T1DIG = ON           // Sec Osc clock source may be selected    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config LPT1OSC = ON         // high power Timer1 mode                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config FCMEN = OFF          // Fail-Safe Clock Monitor disabled        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IESO = OFF           // Two-Speed Start-up disabled             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WDTPS = 32768        // 1:32768                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTOSC = INTOSCREF // DSWDT uses INTOSC/INTRC as clock        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config RTCOSC = T1OSCREF    // RTCC uses T1OSC/T1CKI as clock          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSBOREN = OFF        // Zero-Power BOR disabled in Deep Sleep   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTEN = OFF        // Disabled                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config DSWDTPS = 8192       // 1:8,192 (8.5 seconds)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config IOL1WAY = OFF        // IOLOCK bit can be set and cleared       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config MSSP7B_EN = MSK7     // 7 Bit address masking                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPFP = PAGE_1        // Write Protect Program Flash Page 0      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPEND = PAGE_0       // Start protection at page 0              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPCFG = OFF          // Write/Erase last page protect Disabled  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #pragma config WPDIS = OFF          // WPFP[5:0], WPEND, and WPCFG bits ignored  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           static void InitializeSystem(void);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBDeviceTasks(void);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** VECTOR REMAPPING ***********************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // On PIC18 devices, addresses 0x00, 0x08, and 0x18 are used for                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the reset, high priority interrupt, and low priority interrupt                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // vectors.  However, the current Microchip USB bootloader                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // examples are intended to occupy addresses 0x00-0x7FF or                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // 0x00-0xFFF depending on which bootloader is used.  Therefore,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the bootloader code remaps these vectors to new locations                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // as indicated below.  This remapping is only necessary if you                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // wish to program the hex file generated from this project with                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // the USB bootloader.  If no bootloader is used, edit the                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // usb_config.h file and comment out the following defines:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_HID_BOOTLOADER                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           //#define PROGRAMMABLE_WITH_USB_LEGACY_CUSTOM_CLASS_BOOTLOADER                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x1000                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x1008                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x1018                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #elif defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x800                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x808                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS   0x818                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #else                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_RESET_VECTOR_ADDRESS           0x00                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS  0x08                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             #define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS 0x18                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER) || defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           extern void _startup (void);        // See c018i.c in your C18 compiler dir      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_RESET_VECTOR = REMAPPED_RESET_VECTOR_ADDRESS               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void _reset (void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001000   efe3     GOTO      0x91c6           _asm goto _startup _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001002   f048                                                                                                               
001004   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_HIGH_INTERRUPT_VECTOR = REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_High_ISR (void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001008   ef28     GOTO      0x1050            _asm goto high_ISR _endasm                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00100a   f008                                                                                                               
00100c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code REMAPPED_LOW_INTERRUPT_VECTOR = REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void Remapped_Low_ISR (void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
001018   efc7     GOTO      0x3d8e            _asm goto low_ISR _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
00101a   f01e                                                                                                               
00101c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void main(void)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Main program entry point.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void main(void)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a36   ec82     CALL      0x4104,0x0       fill_stack();                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a38   f020                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a3a   d805     RCALL     0x8a46           InitializeSystem();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a44   d7fb     BRA       0x8a3c           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_INTERRUPT)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               if(USB_BUS_SENSE && (USBGetDeviceState() == DETACHED_STATE))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBDeviceAttach();                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Check bus status and service USB interrupts.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a3c   ecb6     CALL      0x696c,0x0         USBDeviceTasks(); // Interrupt or polling method.  If using polling, must call D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a3e   f034                                                                                                               
                                                                 // this function periodically.  This function will take care D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // of processing and responding to SETUP transactions      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // (such as during the enumeration process when you first  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // plug in).  USB hosts require that USB devices should accept D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // and process SETUP packets in a timely fashion.  Therefore, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // when using polling, this function should be called      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // frequently (such as once about every 100 microseconds) at any D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // time that a SETUP packet might reasonably be expected to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // be sent by the host to your device.  In most cases, the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // USBDeviceTasks() function does not take very long to    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                 // execute (~50 instruction cycles) before it returns.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application-specific tasks.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Application related code may be added here, or in the ProcessIO() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a40   ecaf     CALL      0x435e,0x0         ProcessIO();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a42   f021                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        static void InitializeSystem(void)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        InitializeSystem is a centralize initialization routine.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  All required USB initialization routines are called from     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  here.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  User application initialization routine should also be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called from here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a46   cfd9     MOVFF     0xfd9,0xfe6    static void InitializeSystem(void)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a48   ffe6                                                                                                               
008a4a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008a4c   ffd9                                                                                                               
008a4e   0e02     MOVLW     0x2                                                                                             
008a50   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             unsigned int pll_startup_counter; //Used for software delay while PLL is starting up D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Configure all I/O pins to use digital input buffers.  The PIC18F87J50 Family devices D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ANCONx registers to control this, which is different from other devices which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // use the ADCON1 register for this purpose.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a52   010f     MOVLB     0xf              ANCON0 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a54   6948     SETF      0x48,0x1                                                                                        
008a56   6949     SETF      0x49,0x1         ANCON1 = 0xFF;                  // Default all pins to digital                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a58   0e60     MOVLW     0x60             OSCCON = 0x60;                  // Clock switch to primary clock source.  May not have been running D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a5a   6ed3     MOVWF     0xd3,0x0                                                                                        
                                                                             // from this if the bootloader is called from the application firmware. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // On the PIC18F46J50 Family of USB microcontrollers, the PLL will not power up and be enabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // by default, even if a PLL enabled oscillator configuration is selected (such as HS+PLL). D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // This allows the device to power up at a lower initial operating frequency, which can be D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // advantageous when powered from a source which is not guaranteed to be adequate for 48MHz D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation.  On these devices, user firmware needs to manually set the OSCTUNE<PLLEN> bit to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // power up the PLL.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a5c   8c9b     BSF       0x9b,0x6,0x0     OSCTUNEbits.PLLEN = 1;  // Enable the PLL and wait 2+ms until the PLL locks before enabling USB module D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a5e   0e58     MOVLW     0x58             pll_startup_counter = 600;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a60   6ede     MOVWF     0xde,0x0                                                                                        
008a62   0e02     MOVLW     0x2                                                                                             
008a64   6edd     MOVWF     0xdd,0x0                                                                                        
008a66   cfdf     MOVFF     0xfdf,0x46       while(pll_startup_counter--)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a68   f046                                                                                                               
008a6a   06df     DECF      0xdf,0x1,0x0                                                                                    
008a6c   0e01     MOVLW     0x1                                                                                             
008a6e   cfdb     MOVFF     0xfdb,0x47                                                                                      
008a70   f047                                                                                                               
008a72   e201     BC        0x8a76                                                                                          
008a74   06db     DECF      0xdb,0x1,0x0                                                                                    
008a76   5046     MOVF      0x46,0x0,0x0                                                                                    
008a78   1047     IORWF     0x47,0x0,0x0                                                                                    
008a7a   e1f5     BNZ       0x8a66                                                                                          
                                               ;                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Device switches over automatically to PLL output after PLL is locked and ready. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  The USB specifications require that USB peripheral devices must never source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current onto the Vbus pin.  Additionally, USB peripherals should not source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  current on D+ or D- when the host/hub is not actively powering the Vbus line. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  When designing a self powered (as opposed to bus powered) USB peripheral   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  device, the firmware should make sure not to turn on the USB module and D+ D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or D- pull up resistor unless Vbus is actively powered.  Therefore, the    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  firmware needs some means to detect when Vbus is being powered by the host. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  A 5V tolerant I/O pin can be connected to Vbus (through a resistor), and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can be used to detect when Vbus is high (host actively powering), or low   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  (host is shut down or otherwise not supplying power).  The USB firmware    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  can then periodically poll this I/O pin to know when it is okay to turn on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  the USB module/D+/D- pull up resistor.  When designing a purely bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  peripheral device, it is not possible to source current on D+ or D- when the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  host is not actively providing power on Vbus. Therefore, implementing this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  bus sense feature is optional.  This firmware can be made to use this bus  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  sense feature by making sure "USE_USB_BUS_SENSE_IO" has been defined in the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  HardwareProfile.h file.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_USB_BUS_SENSE_IO)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a7c   8e94     BSF       0x94,0x7,0x0     tris_usb_bus_sense = INPUT_PIN; // See HardwareProfile.h                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  If the host PC sends a GetStatus (device) request, the firmware must respond D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  and let the host know if the USB peripheral device is currently bus powered D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  or self powered.  See chapter 9 in the official USB specifications for details D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  regarding this request.  If the peripheral device is capable of being both D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  self and bus powered, it should not return a hard coded value for this request. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  Instead, firmware should check if it is currently self or bus powered, and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  respond accordingly.  If the hardware has been configured like demonstrated D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  on the PICDEM FS USB Demo Board, an I/O pin can be polled to determine the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  currently selected power source.  On the PICDEM FS USB Demo Board, "RA2"   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  is used for this purpose.  If using this feature, make sure "USE_SELF_POWER_SENSE_IO" D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  has been defined in HardwareProfile.h, and that an appropriate I/O pin has been mapped D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             //  to it in HardwareProfile.h.                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(USE_SELF_POWER_SENSE_IO)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             tris_self_power = INPUT_PIN;  // See HardwareProfile.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a7e   ecf4     CALL      0x41e8,0x0       UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a80   f020                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a82   ec50     CALL      0x68a0,0x0       USBDeviceInit();  // usb_device.c.  Initializes USB module SFRs and firmware   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a84   f034                                                                                                               
                                                               // variables to known states.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a86   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a88   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
008a8a   e202     BC        0x8a90                                                                                          
008a8c   6ae1     CLRF      0xe1,0x0                                                                                        
008a8e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008a90   6ee1     MOVWF     0xe1,0x0                                                                                        
008a92   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008a94   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
008a96   ffd9                                                                                                               
008a98   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ************** USB Callback Functions **************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // ****************************************************************************************************** D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USB firmware stack will call the callback functions USBCBxxx() in response to certain USB related D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // events.  For example, if the host PC is powering down, it will stop sending out Start of Frame (SOF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // packets to your device.  In response to this, all USB devices are supposed to decrease their power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from the USB Vbus to <2.5mA each.  The USB module detects this condition (which according D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // to the USB specifications is 3+ms of no bus activity/SOF packets) and then calls the USBCBSuspend() D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  You should modify these callback functions to take appropriate actions for each of these D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // conditions.  For example, in the USBCBSuspend(), you may wish to add code that will decrease power D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // consumption from Vbus to <2.5mA (such as by clock switching, turning off LEDs, putting the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // microcontroller to sleep, etc.).  Then, in the USBCBWakeFromSuspend() function, you may then wish to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // add code that undoes the power saving things done in the USBCBSuspend() function. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // The USBCBSendResume() function is special, in that the USB stack will not automatically call this D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // function.  This function is meant to be called from the application firmware instead.  See the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           // additional comments near the function.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSuspend(void)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        Call back that is invoked when a USB suspend is detected     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSuspend(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Example power saving code.  Insert appropriate code here for the desired    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // application behavior.  If the microcontroller will be put to sleep, a       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // process similar to that shown below may be used:                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // ConfigureIOPinsForLowPower();                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // SaveStateOfAllInterruptEnableBits();                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // DisableAllInterruptEnableBits();                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // EnableOnlyTheInterruptsWhichWillBeUsedToWakeTheMicro(); // should enable at least USBActivityIF as a wake source D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Sleep();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreStateOfAllPreviouslySavedInterruptEnableBits();  // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // RestoreIOPinsToNormal();                                // Preferably, this should be done in the USBCBWakeFromSuspend() function instead. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // IMPORTANT NOTE: Do not clear the USBActivityIF (ACTVIF) bit here.  This bit is  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // cleared inside the usb_device.c file.  Clearing USBActivityIF here will cause  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // things to not work as intended.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(__C30__)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             USBSleepOnSuspend();                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a9a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBWakeFromSuspend(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The host may put USB peripheral devices in low power         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  suspend mode (by "sending" 3+ms of idle).  Once in suspend   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  mode, the host may wake the device back up by sending non-   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  idle state signaling.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This call back is invoked when a wakeup from USB suspend     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is detected.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBWakeFromSuspend(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // If clock switching or other power savings measures were taken when          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // executing the USBCBSuspend() function, now would be a good time to          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // switch back to normal full power run mode conditions.  The host allows      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // a few milliseconds of wakeup time, after which the device must be           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // fully back to normal, and capable of receiving and processing USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packets.  In order to do this, the USB module must receive proper           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // clocking (IE: 48MHz clock must be available to SIE for full speed USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // operation).                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a9c   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCB_SOF_Handler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB host sends out a SOF packet to full-speed            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  devices every 1 ms. This interrupt may be useful             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for isochronous pipes. End designers should                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  implement callback routine as necessary.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCB_SOF_Handler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UIRbits.SOFIF to 0 here.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008a9e   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBErrorHandler(void)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The purpose of this callback is mainly for                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  debugging during development. Check UEIR to see              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  which error causes the interrupt.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBErrorHandler(void)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // No need to clear UEIR to 0 here.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Callback caller is already doing that.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Typically, user firmware does not need to do anything special               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // if a USB error occurs.  For example, if the host sends an OUT               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // packet to your device, but the packet gets corrupted (ex:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // because of a bad connection, or the user unplugs the                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // USB cable during the transmission) this will typically set                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // one or more USB error interrupt flags.  Nothing specific                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // needs to be done however, since the SIE will automatically                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send a "NAK" packet to the host.  In response to this, the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // host will normally retry to send the packet again, and no                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // data loss occurs.  The system will typically recover                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // automatically, without the need for application firmware                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // intervention.                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Nevertheless, this callback function is provided, such as                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // for debugging purposes.                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aa0   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBCheckOtherReq(void)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        When SETUP packets arrive from the host, some                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware must process the request and respond                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  appropriately to fulfill the request.  Some of               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the SETUP packets will be for standard                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB "chapter 9" (as in, fulfilling chapter 9 of              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the official USB specifications) requests, while             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  others may be specific to the USB device class               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  that is being implemented.  For example, a HID               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  class device needs to be able to respond to                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "GET REPORT" type of requests.  This                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is not a standard USB chapter 9 request, and                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  therefore not handled by usb_device.c.  Instead              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  this request should be handled by class specific             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  firmware, such as that contained in usb_function_hid.c.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBCheckOtherReq(void)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aa2   ef31     GOTO      0x8262           USBCheckCDCRequest();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aa4   f041                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBStdSetDscHandler(void)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USBCBStdSetDscHandler() callback function is             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  called when a SETUP, bRequest: SET_DESCRIPTOR request        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  arrives.  Typically SET_DESCRIPTOR requests are              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  not used in most applications, and it is                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  optional to support this type of request.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBStdSetDscHandler(void)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // Must claim session ownership if supporting this request                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aa6   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBInitEP(void)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called when the device becomes              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  initialized, which occurs after the host sends a             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  SET_CONFIGURATION (wValue not = 0) request.  This            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  callback function should initialize the endpoints            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for the device's usage according to the current              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  configuration.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBInitEP(void)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aa8   ef7f     GOTO      0x82fe           CDCInitEP();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aaa   f041                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBSendResume(void)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        The USB specifications allow some types of USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  peripheral devices to wake up a host PC (such                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as if it is in a low power suspend to RAM state).            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This can be a very useful feature in some                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USB applications, such as an Infrared remote                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  control receiver.  If a user presses the "power"             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  button on a remote control, it is nice that the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  IR receiver can detect this signaling, and then              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  send a USB "command" to the PC to wake up.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The USBCBSendResume() "callback" function is used            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to send this special USB signaling which wakes               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  up the PC.  This function may be called by                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  application firmware to wake up the PC.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  function will only be able to wake up the host if            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  all of the below are true:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  1.  The USB driver used on the host PC supports              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the remote wakeup capability.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  2.  The USB configuration descriptor indicates               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      the device is remote wakeup capable in the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      bmAttributes field.                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  3.  The USB host PC is currently sleeping,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      and has previously sent your device a SET                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      FEATURE setup packet which "armed" the                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      remote wakeup capability.                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  If the host has not armed the device to perform remote wakeup, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  then this function will return without actually performing a D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  remote wakeup sequence.  This is the required behavior,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  as a USB device that has not been armed to perform remote    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  wakeup must not drive remote wakeup signaling onto the bus;  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  doing so will cause USB compliance testing failure.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This callback should send a RESUME signal that               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  has the period of 1-15ms.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            This function does nothing and returns quickly, if the USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus and host are not in a suspended condition, or are        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  otherwise not in a remote wakeup ready state.  Therefore, it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  is safe to optionally call this function regularly, ex:      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  anytime application stimulus occurs, as the function will    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  have no effect, until the bus really is in a state ready     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to accept remote wakeup.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  When this function executes, it may perform clock switching, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  depending upon the application specific code in              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  USBCBWakeFromSuspend().  This is needed, since the USB       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  bus will no longer be suspended by the time this function    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  returns.  Therefore, the USB module will need to be ready    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to receive traffic from the host.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The modifiable section in this routine may be changed        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  to meet the application needs. Current implementation        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  temporary blocks other functions from executing for a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  period of ~3-15 ms depending on the core frequency.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  According to USB 2.0 specification section 7.1.7.7,          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  "The remote wakeup device must hold the resume signaling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  for at least 1 ms but for no more than 15 ms."               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  The idea here is to use a delay counter loop, using a        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  common value that would work over a wide range of core       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  frequencies.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  That value selected is 1800. See table below:                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  Core Freq(MHz)      MIP         RESUME Signal Period (ms)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                      48              12          1.05                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                       4              1           12.6                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  ==========================================================   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  * These timing could be incorrect when using code            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    optimization or extended instruction mode,                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    or when having other interrupts enabled.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    Make sure to verify using the MPLAB SIM's Stopwatch        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                    and verify the actual signal on an oscilloscope.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBSendResume(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             static WORD delay_count;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // First verify that the host has armed us to perform remote wakeup.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // It does this by sending a SET_FEATURE request to enable remote wakeup,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // usually just before the host goes to standby mode (note: it will only       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // send this SET_FEATURE request if the configuration descriptor declares      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // the device as remote wakeup capable, AND, if the feature is enabled         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // on the host (ex: on Windows based hosts, in the device manager              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // properties page for the USB device, power management tab, the               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // "Allow this device to bring the computer out of standby." check box         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             // should be checked).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aac   0105     MOVLB     0x5              if (USBGetRemoteWakeupStatus() == TRUE)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aae   05df     DECF      0xdf,0x0,0x1                                                                                    
008ab0   e11e     BNZ       0x8aee                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // Verify that the USB bus is in fact suspended, before we send              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               // remote wakeup signaling.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ab2   0105     MOVLB     0x5                if (USBIsBusSuspended() == TRUE)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ab4   05e0     DECF      0xe0,0x0,0x1                                                                                    
008ab6   e11b     BNZ       0x8aee                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBMaskInterrupts();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Clock switch to settings consistent with normal USB operation.          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ab8   dff1     RCALL     0x8a9c               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aba   9265     BCF       0x65,0x1,0x0         USBSuspendControl = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008abc   0105     MOVLB     0x5                  USBBusIsSuspended = FALSE;  // So we don't execute this code again,        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008abe   6be0     CLRF      0xe0,0x1                                                                                        
                                                                             // until a new suspend condition is detected.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Section 7.1.7.7 of the USB 2.0 specifications indicates a USB           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // device must continuously see 5ms+ of idle on the bus, before it sends   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // remote wakeup signaling.  One way to be certain that this parameter     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // gets met, is to add a 2ms+ blocking delay here (2ms plus at             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // least 3ms from bus idle to USBIsBusSuspended() == TRUE, yields          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 5ms+ total delay since start of idle).                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ac0   0101     MOVLB     0x1                  delay_count = 3600U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ac2   0e10     MOVLW     0x10                                                                                            
008ac4   6ffe     MOVWF     0xfe,0x1                                                                                        
008ac6   0e0e     MOVLW     0xe                                                                                             
008ac8   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aca   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008acc   0e00     MOVLW     0x0                                                                                             
008ace   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
008ad0   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ad2   11ff     IORWF     0xff,0x0,0x1                                                                                    
008ad4   e1fa     BNZ       0x8aca                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Now drive the resume K-state signaling onto the USB bus.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ad6   8465     BSF       0x65,0x2,0x0         USBResumeControl = 1;       // Start RESUME signaling                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ad8   0e08     MOVLW     0x8                  delay_count = 1800U;        // Set RESUME line for 1-13 ms                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ada   6ffe     MOVWF     0xfe,0x1                                                                                        
008adc   0e07     MOVLW     0x7                                                                                             
008ade   6fff     MOVWF     0xff,0x1                                                                                        
                                                 do                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ae0   07fe     DECF      0xfe,0x1,0x1           delay_count--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ae2   0e00     MOVLW     0x0                                                                                             
008ae4   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
008ae6   51fe     MOVF      0xfe,0x0,0x1         }while(delay_count);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008ae8   11ff     IORWF     0xff,0x0,0x1                                                                                    
008aea   e1fa     BNZ       0x8ae0                                                                                          
008aec   9465     BCF       0x65,0x2,0x0         USBResumeControl = 0;       // Finished driving resume signaling           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 USBUnmaskInterrupts();                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008aee   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        void USBCBEP0DataReceived(void)                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    ENABLE_EP0_DATA_RECEIVED_CALLBACK must be                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  defined already (in usb_config.h)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called whenever a EP0 data                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  packet is received.  This gives the user (and                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  thus the various class examples a way to get                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  data that is received via the control endpoint.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  This function needs to be used in conjunction                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  with the USBCBCheckOtherReq() function since                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  the USBCBCheckOtherReq() function is the application's       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  method for getting the initial control transfer              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  before the data arrives.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #if defined(ENABLE_EP0_DATA_RECEIVED_CALLBACK)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           void USBCBEP0DataReceived(void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*******************************************************************             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Function:        BOOL USER_USB_CALLBACK_EVENT_HANDLER(                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                        USB_EVENT event, void *pdata, WORD size)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Input:           USB_EVENT event - the type of event                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  void *pdata - pointer to the event data                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  WORD size - size of the event data                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Overview:        This function is called from the USB stack to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  notify a user application that a USB event                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  occurred.  This callback is in interrupt context             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                  when the USB_INTERRUPT option is selected.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                            *******************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008af0   cfd9     MOVFF     0xfd9,0xfe6    BOOL USER_USB_CALLBACK_EVENT_HANDLER(USB_EVENT event, void *pdata, WORD size)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008af2   ffe6                                                                                                               
008af4   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008af6   ffd9                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008af8   0efd     MOVLW     0xfd             switch(event)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008afa   cfdb     MOVFF     0xfdb,0x3a                                                                                      
008afc   f03a                                                                                                               
008afe   0efe     MOVLW     0xfe                                                                                            
008b00   cfdb     MOVFF     0xfdb,0x3b                                                                                      
008b02   f03b                                                                                                               
008b04   0e05     MOVLW     0x5                                                                                             
008b06   183a     XORWF     0x3a,0x0,0x0                                                                                    
008b08   e101     BNZ       0x8b0c                                                                                          
008b0a   503b     MOVF      0x3b,0x0,0x0                                                                                    
008b0c   e036     BZ        0x8b7a                                                                                          
008b0e   68e8     SETF      0xe8,0x0                                                                                        
008b10   183a     XORWF     0x3a,0x0,0x0                                                                                    
008b12   e102     BNZ       0x8b18                                                                                          
008b14   0e7f     MOVLW     0x7f                                                                                            
008b16   183b     XORWF     0x3b,0x0,0x0                                                                                    
008b18   e02f     BZ        0x8b78                                                                                          
008b1a   0e03     MOVLW     0x3                                                                                             
008b1c   183a     XORWF     0x3a,0x0,0x0                                                                                    
008b1e   e101     BNZ       0x8b22                                                                                          
008b20   503b     MOVF      0x3b,0x0,0x0                                                                                    
008b22   e028     BZ        0x8b74                                                                                          
008b24   0e02     MOVLW     0x2                                                                                             
008b26   183a     XORWF     0x3a,0x0,0x0                                                                                    
008b28   e101     BNZ       0x8b2c                                                                                          
008b2a   503b     MOVF      0x3b,0x0,0x0                                                                                    
008b2c   e021     BZ        0x8b70                                                                                          
008b2e   0e01     MOVLW     0x1                                                                                             
008b30   183a     XORWF     0x3a,0x0,0x0                                                                                    
008b32   e101     BNZ       0x8b36                                                                                          
008b34   503b     MOVF      0x3b,0x0,0x0                                                                                    
008b36   e01a     BZ        0x8b6c                                                                                          
008b38   0e74     MOVLW     0x74                                                                                            
008b3a   183a     XORWF     0x3a,0x0,0x0                                                                                    
008b3c   e101     BNZ       0x8b40                                                                                          
008b3e   503b     MOVF      0x3b,0x0,0x0                                                                                    
008b40   e013     BZ        0x8b68                                                                                          
008b42   0e75     MOVLW     0x75                                                                                            
008b44   183a     XORWF     0x3a,0x0,0x0                                                                                    
008b46   e101     BNZ       0x8b4a                                                                                          
008b48   503b     MOVF      0x3b,0x0,0x0                                                                                    
008b4a   e00c     BZ        0x8b64                                                                                          
008b4c   0e73     MOVLW     0x73                                                                                            
008b4e   183a     XORWF     0x3a,0x0,0x0                                                                                    
008b50   e101     BNZ       0x8b54                                                                                          
008b52   503b     MOVF      0x3b,0x0,0x0                                                                                    
008b54   e005     BZ        0x8b60                                                                                          
008b56   0e72     MOVLW     0x72                                                                                            
008b58   183a     XORWF     0x3a,0x0,0x0                                                                                    
008b5a   e10f     BNZ       0x8b7a                                                                                          
008b5c   503b     MOVF      0x3b,0x0,0x0                                                                                    
008b5e   d00d     BRA       0x8b7a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER:                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SOF:                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b60   df9e     RCALL     0x8a9e               USBCB_SOF_Handler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b62   d00b     BRA       0x8b7a               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SUSPEND:                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b64   df9a     RCALL     0x8a9a               USBCBSuspend();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b66   d009     BRA       0x8b7a               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_RESUME:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b68   df99     RCALL     0x8a9c               USBCBWakeFromSuspend();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b6a   d007     BRA       0x8b7a               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_CONFIGURED:                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b6c   df9d     RCALL     0x8aa8               USBCBInitEP();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b6e   d005     BRA       0x8b7a               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_SET_DESCRIPTOR:                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b70   df9a     RCALL     0x8aa6               USBCBStdSetDscHandler();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b72   d003     BRA       0x8b7a               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_EP0_REQUEST:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b74   df96     RCALL     0x8aa2               USBCBCheckOtherReq();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b76   d001     BRA       0x8b7a               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_BUS_ERROR:                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b78   df93     RCALL     0x8aa0               USBCBErrorHandler();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               case EVENT_TRANSFER_TERMINATED:                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // Add application specific callback task or callback function here if desired. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // The EVENT_TRANSFER_TERMINATED event occurs when the host performs a CLEAR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // FEATURE (endpoint halt) request on an application endpoint which was    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // previously armed (UOWN was = 1).  Here would be a good place to:        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 1.  Determine which endpoint the transaction that just got terminated was  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     on, by checking the handle value in the *pdata.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 // 2.  Re-arm the endpoint if desired (typically would be the case for OUT  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 //     endpoints).                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b7a   0e01     MOVLW     0x1              return TRUE;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b7c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
008b7e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
008b80   ffd9                                                                                                               
008b82   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /** EOF main.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\main.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                EiBotBoard Firmware                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * FileName:        RCServo2.c                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * This module implements the RC Servo outputs, method 2                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Started by Brian Schmalz (www.schmalzhaus.com) on 8/22/09                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * For the Egg Bot Firmware                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * There are several parts of this file. It is written in a modular              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * way to ease incorporation into different UBW (www.schmalzhaus.com/UBW)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * hardware builds. Because we don't want to have any function calls in the ISR, D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * the part of the ISR that this module contributes is implemented as a big      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * macro. There is a section for the API calls (for other modules) to turn       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on/off RC method 2 and to set values and configure outputs. Then there is the D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * user command section that handles parsing user input. This module (the .c and D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * .h files) should be able to be dropped into any UBW firmware that is 'module  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * aware' with minimal changes. There is also an init section that gets called   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * on bootup.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * MODULE THEORY                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The idea is that we want to generate between zero and eight RC servo outputs.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * We want a maximum of resolution in their timing, and a minimum of CPU and ISR D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * overhead. We want maximum flexibility with respect to which pins receive the  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * output pulses. This 'method 2' only works with PICs that have the PPS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (Peripheral Pin Select) hardware. Using this method, we will be able to       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * generate servo output pulses (positive going) on up to eight output pins      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * (selectable using PPS), with times from 0ms to 3ms, at a repetition rate of   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 24ms. The resolution of the pulse will be 83ns (Fosc/4). So a value of 0 will D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * represent 0ms pulse, and 36000 will represent 3ms.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * On UBW firmware, TIMER1 generates an interrupt every 1ms. This interrupt is   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * used to schedule the four RC servo outputs. Every 3 fires of this ISR, we     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * check to see if we need to set the next RC output pin. If so, we select the   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper pin using the PPS, set it high, record what state we are now in, and   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * then set up TMR3 and ECCP2 to fire after X 83ns ticks of TMR3. ECCP2 will     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * wait until TMR3 fires, then will set the output pin low. This method allows   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * us to choose any of the PPS pins as outputs, and only requires CPU time every D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * 3 ms to start off the pulses.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * As of version 2.2.0, we have changed the way that the S2 command works.       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Under the hood, ALL servo commands are now handled by the motion engine       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * ISR. This means that the S2 command now simply fills in a data structure      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * and puts it in the motion queue. The motion engine ISR pulls it off the       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * queue and then 'executes' the command. (All it does there is transfer the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * proper values to the data structures that the actual RC servo ISR uses to     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * update the various output pins for each servo pulse.) But the key here is     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * that the S2 command no longer takes effect immediately - RC servo commands    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * are now handled in the same way that SM commands are handled. Which means     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * they can be queued up and delays added, etc.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * The other effect of this change is that the normal SP pen up/pen down         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * commands are now just normal S2 commands in disguise.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "GenericTypeDefs.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "Compiler.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           #pragma udata RC2Servo_globals = 0x060                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Counts from 0 to gRC2SlotMS                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2msCounter;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Current RC servo position in 83uS units for each channel                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Value[MAX_RC2_SERVOS];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn pin associated with this channel                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2RPn[MAX_RC2_SERVOS];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Target position for this channel in 83uS units                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Target[MAX_RC2_SERVOS];                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Amount of change from Value to Target each 24ms                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 gRC2Rate[MAX_RC2_SERVOS];                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Ptr;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many RC servos can we currently simultaneously service (default 8)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2Slots;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // How many 1ms ISR ticks before switching to the next channel (default 3)       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  gRC2SlotMS;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Pointer into PPS output registers                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           far ram UINT8 * gRC2RPORPtr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // These are the min, max, up rate, down rate, and RPn for the Pen Servo         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // They can be changed by using SC,x commands.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_max;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_min;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_up;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT16 g_servo2_rate_down;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           UINT8  g_servo2_RPn;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The idea with RCServo2 is to use the ECCP2 module and timer 3.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We divide time into 24ms periods. Inside each 24ms period, we                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           can fire up to 8 RC servo's pulses (slots). Each pulse can be between            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           0ms and 3ms long, controlled entirely by the ECCP2 hardware,                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           so there is no jitter in the high time of the pulse.                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           We want to go from 0ms to 3ms so we can accommodate RC servos                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           who need really short or really long pulses to reach the                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           physical extremes of its motion.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           This RCServo2 method will only be available on the 18F45J50 based                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           EggBotBoards, because it requires the PPS (peripheral pin select)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           facility to be possible.                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Timer3 will be configured to clock at Fosc/4 = 12MHz.                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           At this rate, a 1ms high pulse would need a CCPR2 value of 12,000.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           Variables:                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2msCounter - counts from 0 to 2, in ms, to know when to fire each servo       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Ptr - index into gRC2Value and gRC2Pin arrays = next RC servo to fire        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Value - uint array of values (times) to load into Timer3                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2Pin - what PPS pin is affected by this RC servo slot.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           gRC2RPORPtr - a RAM pointer into the RPORxx register                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           If a slot's gRC2Value[] = 0, then that slot is disabled and its pin will be low. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           The value in gRC2Pin is the PPS RPx pin number that this slot controls           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Module Init Function                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            * Put a call to this function inside the UserInit() call in UBW.c               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e6a   d9da     RCALL     0x8220         void RCServo2_Init(void)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e6c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e6e   0100     MOVLB     0x0              gRC2msCounter = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e70   6b60     CLRF      0x60,0x1                                                                                        
007e72   6b7d     CLRF      0x7d,0x1         gRC2Ptr = 0;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e74   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e76   0e04     MOVLW     0x4                                                                                             
007e78   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007e7a   e214     BC        0x7ea4                                                                                          
007ea0   2adf     INCF      0xdf,0x1,0x0                                                                                    
007ea2   d7e9     BRA       0x7e76                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e7c   d9cb     RCALL     0x8214             gRC2Value[i] = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e7e   0e61     MOVLW     0x61                                                                                            
007e80   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007e82   0e00     MOVLW     0x0                                                                                             
007e84   d9d6     RCALL     0x8232                                                                                          
007e86   50df     MOVF      0xdf,0x0,0x0       gRC2RPn[i] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e88   d9ba     RCALL     0x81fe                                                                                          
007e8a   6aef     CLRF      0xef,0x0                                                                                        
007e8c   d9c3     RCALL     0x8214             gRC2Target[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e8e   0e6d     MOVLW     0x6d                                                                                            
007e90   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007e92   0e00     MOVLW     0x0                                                                                             
007e94   d9ce     RCALL     0x8232                                                                                          
007e96   d9be     RCALL     0x8214             gRC2Rate[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007e98   0e75     MOVLW     0x75                                                                                            
007e9a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
007e9c   0e00     MOVLW     0x0                                                                                             
007e9e   d9c9     RCALL     0x8232                                                                                          
008214   6aea     CLRF      0xea,0x0                                                                                        
008216   34df     RLCF      0xdf,0x0,0x0                                                                                    
008218   0bfe     ANDLW     0xfe                                                                                            
00821a   36ea     RLCF      0xea,0x1,0x0                                                                                    
00821c   6ee9     MOVWF     0xe9,0x0                                                                                        
00821e   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Initialize the RPOR pointer                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ea4   0100     MOVLB     0x0              gRC2RPORPtr = &RPOR0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ea6   0ec6     MOVLW     0xc6                                                                                            
007ea8   6f80     MOVWF     0x80,0x1                                                                                        
007eaa   0e0e     MOVLW     0xe                                                                                             
007eac   6f81     MOVWF     0x81,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Set up TIMER3                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007eae   0e3f     MOVLW     0x3f             T3CONbits.TMR3CS = 0b00;        // Use Fosc/4 as input                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007eb0   1479     ANDWF     0x79,0x0,0x0                                                                                    
007eb2   0900     IORLW     0x0                                                                                             
007eb4   6e79     MOVWF     0x79,0x0                                                                                        
007eb6   0ecf     MOVLW     0xcf             T3CONbits.T3CKPS = 0b00;        // Prescale is 1:1                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007eb8   1479     ANDWF     0x79,0x0,0x0                                                                                    
007eba   0900     IORLW     0x0                                                                                             
007ebc   6e79     MOVWF     0x79,0x0                                                                                        
007ebe   8279     BSF       0x79,0x1,0x0     T3CONbits.RD16 = 1;             // Enable 16 bit mode                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ec0   6a7b     CLRF      0x7b,0x0         TMR3H = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ec2   6a7a     CLRF      0x7a,0x0         TMR3L = 0;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ec4   9079     BCF       0x79,0x0,0x0     T3CONbits.TMR3ON = 0;           // Keep timer off for now                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ec6   010f     MOVLB     0xf              TCLKCONbits.T3CCP1 = 1;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ec8   8152     BSF       0x52,0x0,0x1                                                                                    
007eca   9352     BCF       0x52,0x1,0x1     TCLKCONbits.T3CCP2 = 0;         // ECCP1 uses Timer1/2 and ECCP2 uses Timer3/4 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ecc   0ef0     MOVLW     0xf0             CCP2CONbits.CCP2M = 0b1001;     // Set EECP2 as compare, clear output on match D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ece   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
007ed0   0909     IORLW     0x9                                                                                             
007ed2   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 8 slots because that is good for RC servos (3ms * 8 = 24ms) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ed4   0100     MOVLB     0x0              gRC2Slots = INITAL_RC2_SLOTS;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ed6   0e04     MOVLW     0x4                                                                                             
007ed8   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We start out with 3ms slot duration because it's good for RC servos         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007eda   0e03     MOVLW     0x3              gRC2SlotMS = 3;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007edc   6f7f     MOVWF     0x7f,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Start with some reasonable default values for min and max                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ede   0ec6     MOVLW     0xc6             g_servo2_max = 15302;           // max = down (SC,5,15302)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ee0   6f82     MOVWF     0x82,0x1                                                                                        
007ee2   0e3b     MOVLW     0x3b                                                                                            
007ee4   6f83     MOVWF     0x83,0x1                                                                                        
007ee6   0e25     MOVLW     0x25             g_servo2_min = 22565;           // min = up (SC,4,22565)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ee8   6f84     MOVWF     0x84,0x1                                                                                        
007eea   0e58     MOVLW     0x58                                                                                            
007eec   6f85     MOVWF     0x85,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007eee   0e04     MOVLW     0x4              g_servo2_RPn = DEFAULT_EBB_SERVO_RPN;   // Always start out with RP4 as the output (just for this test version of code) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ef0   6f8a     MOVWF     0x8a,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ef2   0e90     MOVLW     0x90             g_servo2_rate_up = 400;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ef4   6f86     MOVWF     0x86,0x1                                                                                        
007ef6   0e01     MOVLW     0x1                                                                                             
007ef8   6f87     MOVWF     0x87,0x1                                                                                        
007efa   0e90     MOVLW     0x90             g_servo2_rate_down = 400;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007efc   6f88     MOVWF     0x88,0x1                                                                                        
007efe   0e01     MOVLW     0x1                                                                                             
007f00   6f89     MOVWF     0x89,0x1                                                                                        
007f02   0e00     MOVLW     0x0              process_SP(PEN_UP, 0);          // Start servo up                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f04   6ee6     MOVWF     0xe6,0x0                                                                                        
007f06   6ae6     CLRF      0xe6,0x0                                                                                        
007f08   0e01     MOVLW     0x1                                                                                             
007f0a   6ee6     MOVWF     0xe6,0x0                                                                                        
007f0c   ec02     CALL      0x2c04,0x0                                                                                      
007f0e   f016                                                                                                               
007f10   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007f12   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007f14   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007f16   9689     BCF       0x89,0x3,0x0     RCServoPowerIO = RCSERVO_POWER_OFF;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f18   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f1a   d187     BRA       0x822a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Return the current channel that is associated with the PPS output pin         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // RPn. If there is no channel yet assigned for this RPn, then pick the          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // next available one. If there are none available, then return channel 0        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // (which is considered an error.)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Remember, channels are from 1 through 8 (Normally - can be increased with     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // SC,8 command). Channel 0 is the 'error' channel.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f1c   d981     RCALL     0x8220         UINT8 RCServo2_get_channel_from_RPn(UINT8 RPn)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f1e   52e6     MOVF      0xe6,0x1,0x0                                                                                    
008220   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
008222   ffe6                                                                                                               
008224   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
008226   ffd9                                                                                                               
008228   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Search through the existing channels, and see if our RPn is there           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f20   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f22   0e04     MOVLW     0x4                                                                                             
007f24   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007f26   e20a     BC        0x7f3c                                                                                          
007f38   2adf     INCF      0xdf,0x1,0x0                                                                                    
007f3a   d7f3     BRA       0x7f22                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f28   50df     MOVF      0xdf,0x0,0x0       if (gRC2RPn[i] == RPn)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f2a   d969     RCALL     0x81fe                                                                                          
007f2c   cfef     MOVFF     0xfef,0x46                                                                                      
007f2e   f046                                                                                                               
007f30   0efe     MOVLW     0xfe                                                                                            
007f32   50db     MOVF      0xdb,0x0,0x0                                                                                    
007f34   5c46     SUBWF     0x46,0x0,0x0                                                                                    
007f36   e00a     BZ        0x7f4c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found it! Return the channel number                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 return (i + 1);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We have not found it, so we need to allocate a new channel for this RPn     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f3c   6adf     CLRF      0xdf,0x0         for (i=0; i < MAX_RC2_SERVOS; i++)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f3e   0e04     MOVLW     0x4                                                                                             
007f40   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
007f42   e208     BC        0x7f54                                                                                          
007f50   2adf     INCF      0xdf,0x1,0x0                                                                                    
007f52   d7f5     BRA       0x7f3e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f44   50df     MOVF      0xdf,0x0,0x0       if (gRC2RPn[i] == 0u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f46   d95b     RCALL     0x81fe                                                                                          
007f48   50ef     MOVF      0xef,0x0,0x0                                                                                    
007f4a   e102     BNZ       0x7f50                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Found one that's free! Return the channel number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f4c   28df     INCF      0xdf,0x0,0x0         return (i + 1u);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f4e   d003     BRA       0x7f56                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // We do not have room for another channel, so return an error                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f54   0e00     MOVLW     0x0              return 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f56   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f58   d168     BRA       0x822a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Servo method 2 enable command                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // S2,<duration>,<output_pin>,<rate>,<delay><CR>                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  will set RC output <channel> for <duration> on output pin <output_pin>       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <duration> can be 0 (output off) to 32,000 (3ms on time)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (a 0 for <duration> de-allocates the channel for this output_pin)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <output_pin> is an RPn pin number (0 through 24)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <rate> is the rate to change (optional, defaults to 0 = instant)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //  <delay> is the number of milliseconds to delay the start of the next command D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (optional, defaults to 0 = instant)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f5a   d962     RCALL     0x8220         void RCServo2_S2_command (void)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f5c   0e07     MOVLW     0x7                                                                                             
007f5e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f60   6ade     CLRF      0xde,0x0         UINT16 Duration = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f62   6add     CLRF      0xdd,0x0                                                                                        
007f64   0e02     MOVLW     0x2              UINT8 Pin = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f66   6adb     CLRF      0xdb,0x0                                                                                        
007f68   0e03     MOVLW     0x3              UINT16 Rate = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f6a   6adb     CLRF      0xdb,0x0                                                                                        
007f6c   0e04     MOVLW     0x4                                                                                             
007f6e   6adb     CLRF      0xdb,0x0                                                                                        
007f70   0e05     MOVLW     0x5              UINT16 Delay = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f72   6adb     CLRF      0xdb,0x0                                                                                        
007f74   0e06     MOVLW     0x6                                                                                             
007f76   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f78   0e01     MOVLW     0x1              extract_number (kUINT, &Duration, kOPTIONAL);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f7a   6ee6     MOVWF     0xe6,0x0                                                                                        
007f7c   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
007f7e   ffe6                                                                                                               
007f80   cfda     MOVFF     0xfda,0xfe6                                                                                     
007f82   ffe6                                                                                                               
007f84   0e03     MOVLW     0x3                                                                                             
007f86   d92e     RCALL     0x81e4                                                                                          
007f88   0f02     ADDLW     0x2              extract_number (kUCHAR, &Pin, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f8a   d957     RCALL     0x823a                                                                                          
007f8c   0e01     MOVLW     0x1                                                                                             
007f8e   d92a     RCALL     0x81e4                                                                                          
007f90   0f03     ADDLW     0x3              extract_number (kUINT, &Rate, kOPTIONAL);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f92   d953     RCALL     0x823a                                                                                          
007f94   0e03     MOVLW     0x3                                                                                             
007f96   d926     RCALL     0x81e4                                                                                          
0081e4   d82f     RCALL     0x8244                                                                                          
007f98   0f05     ADDLW     0x5              extract_number (kUINT, &Delay, kOPTIONAL);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007f9a   d94f     RCALL     0x823a                                                                                          
007f9c   0e03     MOVLW     0x3                                                                                             
007f9e   d952     RCALL     0x8244                                                                                          
0081e6   0e01     MOVLW     0x1                                                                                             
0081e8   6ee6     MOVWF     0xe6,0x0                                                                                        
0081ea   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0081ec   0012     RETURN    0x0                                                                                             
00823a   6ee6     MOVWF     0xe6,0x0                                                                                        
00823c   0e00     MOVLW     0x0                                                                                             
00823e   20da     ADDWFC    0xda,0x0,0x0                                                                                    
008240   6ee6     MOVWF     0xe6,0x0                                                                                        
008242   0012     RETURN    0x0                                                                                             
008244   6ee6     MOVWF     0xe6,0x0                                                                                        
008246   ec58     CALL      0x5eb0,0x0                                                                                      
008248   f02f                                                                                                               
00824a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00824c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00824e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008250   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008252   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fa0   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fa2   6ae6     CLRF      0xe6,0x0                                                                                        
007fa4   ec31     CALL      0x4c62,0x0                                                                                      
007fa6   f026                                                                                                               
007fa8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007faa   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fac   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fae   5197     MOVF      0x97,0x0,0x1                                                                                    
007fb0   e122     BNZ       0x7ff6                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fb2   0e02     MOVLW     0x2              if (Pin > 24u)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fb4   50db     MOVF      0xdb,0x0,0x0                                                                                    
007fb6   0818     SUBLW     0x18                                                                                            
007fb8   e202     BC        0x7fbe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fba   8d97     BSF       0x97,0x6,0x1       bitset (error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fbc   d01c     BRA       0x7ff6             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fbe   0e05     MOVLW     0x5              RCServo2_Move(Duration, Pin, Rate, Delay);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fc0   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007fc2   ffe6                                                                                                               
007fc4   0e06     MOVLW     0x6                                                                                             
007fc6   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007fc8   ffe6                                                                                                               
007fca   0e03     MOVLW     0x3                                                                                             
007fcc   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007fce   ffe6                                                                                                               
007fd0   0e04     MOVLW     0x4                                                                                             
007fd2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007fd4   ffe6                                                                                                               
007fd6   0e02     MOVLW     0x2                                                                                             
007fd8   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
007fda   ffe6                                                                                                               
007fdc   cfde     MOVFF     0xfde,0xfe6                                                                                     
007fde   ffe6                                                                                                               
007fe0   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
007fe2   ffe6                                                                                                               
007fe4   d80f     RCALL     0x8004                                                                                          
007fe6   6e46     MOVWF     0x46,0x0                                                                                        
007fe8   0e07     MOVLW     0x7                                                                                             
007fea   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
007fec   5046     MOVF      0x46,0x0,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007fee   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ff0   ec4f     CALL      0x4c9e,0x0                                                                                      
007ff2   f026                                                                                                               
007ff4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
007ff6   0e07     MOVLW     0x7            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
007ff8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
007ffa   e202     BC        0x8000                                                                                          
007ffc   6ae1     CLRF      0xe1,0x0                                                                                        
007ffe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008000   6ee1     MOVWF     0xe1,0x0                                                                                        
008002   d113     BRA       0x822a                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Function to set up an RC Servo move. Takes Duration, RPn, and Rate            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // and adds them to the motion control fifo.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Position> is the new target position for the servo, in 83uS units. So        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      32,000 is 3ms. To turn off a servo output, use 0 for Duration.           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <RPn> is the PPS RP# number for the pin that you want to use as the output    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      (See schematic for a list of each RPn number for each GPIO pin.)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Rate> is how quickly to move to the new position. Use 0 for instant change.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      Unit is 83uS of pulse width change every 24ms of time.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // <Delay> is how many milliseconds after this command is excuted before the     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      next command in the motion control FIFO is executed. 0 will run the next D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           //      command immediatly.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // This function will allocate a new channel for RPn if the pin is not already   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // assigned to a channel. It will return the channel number used when it         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // returns. If you send in 0 for Duration, the channel for RPn will be de-       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // allocated.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // Another thing we do here is to make sure that the proper pin is an output,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // And, if this is the first time we're starting up the channel, make sure that  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           // it starts out low.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008004   d90d     RCALL     0x8220         UINT8 RCServo2_Move(                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008006   0e02     MOVLW     0x2                                                                                             
008008   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             UINT16 Position,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8  RPn,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Rate,                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT16 Delay                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             UINT8 Channel;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Get the channel that's already assigned to the RPn, or assign a new one     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // if possible. If this returns zero, then do nothing as we're out of          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // channels.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00800a   0efc     MOVLW     0xfc             Channel = RCServo2_get_channel_from_RPn(RPn);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00800c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00800e   ffe6                                                                                                               
008010   df85     RCALL     0x7f1c                                                                                          
008012   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008014   6ee7     MOVWF     0xe7,0x0                                                                                        
008016   0e01     MOVLW     0x1                                                                                             
008018   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00801a   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // Error out if there were no available channels left                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00801c   50db     MOVF      0xdb,0x0,0x0     if (Channel == 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00801e   e102     BNZ       0x8024                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008020   0e00     MOVLW     0x0                return 0;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008022   d0d2     BRA       0x81c8                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             // If Duration is zero, then caller wants to shut down this channel            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008024   50d9     MOVF      0xd9,0x0,0x0     if (0u == Position)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008026   0ffd     ADDLW     0xfd                                                                                            
008028   6ee9     MOVWF     0xe9,0x0                                                                                        
00802a   0eff     MOVLW     0xff                                                                                            
00802c   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00802e   6eea     MOVWF     0xea,0x0                                                                                        
008030   50ee     MOVF      0xee,0x0,0x0                                                                                    
008032   10ed     IORWF     0xed,0x0,0x0                                                                                    
008034   e11f     BNZ       0x8074                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // Turn off the PPS routing to the pin                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008036   0e01     MOVLW     0x1                *(gRC2RPORPtr + gRC2RPn[Channel - 1]) = 0;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008038   04db     DECF      0xdb,0x0,0x0                                                                                    
00803a   d8e1     RCALL     0x81fe                                                                                          
00803c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00803e   0100     MOVLB     0x0                                                                                             
008040   6aea     CLRF      0xea,0x0                                                                                        
008042   2580     ADDWF     0x80,0x0,0x1                                                                                    
008044   6ee9     MOVWF     0xe9,0x0                                                                                        
008046   5181     MOVF      0x81,0x0,0x1                                                                                    
008048   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00804a   6aef     CLRF      0xef,0x0                                                                                        
00804c   d8d0     RCALL     0x81ee             gRC2Rate[Channel - 1] = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00804e   0e75     MOVLW     0x75                                                                                            
008050   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
008052   0e00     MOVLW     0x0                                                                                             
008054   d8ee     RCALL     0x8232                                                                                          
008056   d8cb     RCALL     0x81ee             gRC2Target[Channel - 1] = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008058   0e6d     MOVLW     0x6d                                                                                            
00805a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00805c   0e00     MOVLW     0x0                                                                                             
00805e   d8e9     RCALL     0x8232                                                                                          
008060   0e01     MOVLW     0x1                gRC2RPn[Channel - 1] = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008062   04db     DECF      0xdb,0x0,0x0                                                                                    
008064   d8cc     RCALL     0x81fe                                                                                          
008066   6aef     CLRF      0xef,0x0                                                                                        
0081fe   6aea     CLRF      0xea,0x0                                                                                        
008200   0f69     ADDLW     0x69                                                                                            
008202   6ee9     MOVWF     0xe9,0x0                                                                                        
008204   0e00     MOVLW     0x0                                                                                             
008206   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
008208   0012     RETURN    0x0                                                                                             
008068   d8c2     RCALL     0x81ee             gRC2Value[Channel - 1] = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00806a   0e61     MOVLW     0x61                                                                                            
00806c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00806e   0e00     MOVLW     0x0                                                                                             
008070   d8e0     RCALL     0x8232                                                                                          
008232   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
008234   6aee     CLRF      0xee,0x0                                                                                        
008236   6aed     CLRF      0xed,0x0                                                                                        
008238   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008072   d0a8     BRA       0x81c4           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               // If we have a valid channel, and RPn, then make the move                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008074   0e01     MOVLW     0x1                if ((Channel - 1) < gRC2Slots && RPn <= 24u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008076   04db     DECF      0xdb,0x0,0x0                                                                                    
008078   6e46     MOVWF     0x46,0x0                                                                                        
00807a   0100     MOVLB     0x0                                                                                             
00807c   517e     MOVF      0x7e,0x0,0x1                                                                                    
00807e   5c46     SUBWF     0x46,0x0,0x0                                                                                    
008080   e301     BNC       0x8084                                                                                          
008082   d0a0     BRA       0x81c4                                                                                          
008084   0efc     MOVLW     0xfc                                                                                            
008086   50db     MOVF      0xdb,0x0,0x0                                                                                    
008088   0818     SUBLW     0x18                                                                                            
00808a   e201     BC        0x808e                                                                                          
00808c   d09b     BRA       0x81c4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // As a special case, if the pin is the same as the pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // used for the solenoid, then turn off the solenoid function              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // so that we can output PWM on that pin                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00808e   0efc     MOVLW     0xfc                 if (RPn == PEN_UP_DOWN_RPN)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008090   50db     MOVF      0xdb,0x0,0x0                                                                                    
008092   0807     SUBLW     0x7                                                                                             
008094   e102     BNZ       0x809a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008096   0101     MOVLB     0x1                    gUseSolenoid = FALSE;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008098   6bc1     CLRF      0xc1,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Is this the first time we've used this channel?                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00809a   d8a9     RCALL     0x81ee               if (gRC2Value[Channel - 1] == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00809c   0e61     MOVLW     0x61                                                                                            
00809e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0080a0   0e00     MOVLW     0x0                                                                                             
0080a2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0080a4   50ee     MOVF      0xee,0x0,0x0                                                                                    
0080a6   10ed     IORWF     0xed,0x0,0x0                                                                                    
0080a8   e110     BNZ       0x80ca                                                                                          
0081ee   0e01     MOVLW     0x1                                                                                             
0081f0   04db     DECF      0xdb,0x0,0x0                                                                                    
0081f2   6ee9     MOVWF     0xe9,0x0                                                                                        
0081f4   6aea     CLRF      0xea,0x0                                                                                        
0081f6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0081f8   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0081fa   36ea     RLCF      0xea,0x1,0x0                                                                                    
0081fc   0012     RETURN    0x0                                                                                             
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Make sure the pin is set as an output, or this won't do much good     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080aa   6ae6     CLRF      0xe6,0x0               SetPinTRISFromRPn(RPn, OUTPUT_PIN);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080ac   0efc     MOVLW     0xfc                                                                                            
0080ae   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0080b0   ffe6                                                                                                               
0080b2   ec9d     CALL      0x633a,0x0                                                                                      
0080b4   f031                                                                                                               
0080b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0080b8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // For v2.1.5, found bug where if a pin is HIGH when we start doing      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // RC output, the output is totally messed up. So make sure to set       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // the pin low first.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080ba   6ae6     CLRF      0xe6,0x0               SetPinLATFromRPn(RPn, 0);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080bc   0efc     MOVLW     0xfc                                                                                            
0080be   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0080c0   ffe6                                                                                                               
0080c2   ec6f     CALL      0x62de,0x0                                                                                      
0080c4   f031                                                                                                               
0080c6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0080c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // Wait until we have a free spot in the FIFO, and add our new             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // command in                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080ca   5013     MOVF      0x13,0x0,0x0         while(gFIFOLength >= gCurrentFIFOLength)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080cc   5c0f     SUBWF     0xf,0x0,0x0                                                                                     
0080ce   e2fd     BC        0x80ca                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // If the pin we're controlling is B1 (the normal servo output) then       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // always make sure to turn power on and start the countdown timer         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 // for that servo port. (issue #144)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080d0   0efc     MOVLW     0xfc                 if (RPn == 4u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080d2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0080d4   0804     SUBLW     0x4                                                                                             
0080d6   e109     BNZ       0x80ea                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080d8   8689     BSF       0x89,0x3,0x0           RCServoPowerIO = RCSERVO_POWER_ON;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080da   c0d5     MOVFF     0xd5,0xd1              gRCServoPoweroffCounterMS = gRCServoPoweroffCounterReloadMS;             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080dc   f0d1                                                                                                               
0080de   c0d6     MOVFF     0xd6,0xd2                                                                                       
0080e0   f0d2                                                                                                               
0080e2   c0d7     MOVFF     0xd7,0xd3                                                                                       
0080e4   f0d3                                                                                                               
0080e6   c0d8     MOVFF     0xd8,0xd4                                                                                       
0080e8   f0d4                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080ea   bc09     BTFSC     0x9,0x6,0x0          if (!bittst(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM))                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080ec   d06b     BRA       0x81c4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Now copy the values over into the FIFO element                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080ee   d88d     RCALL     0x820a               FIFOPtr[gFIFOIn].Command = COMMAND_SERVO_MOVE;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080f0   0e02     MOVLW     0x2                                                                                             
0080f2   6eef     MOVWF     0xef,0x0                                                                                        
00820a   5010     MOVF      0x10,0x0,0x0                                                                                    
00820c   0d2f     MULLW     0x2f                                                                                            
00820e   0102     MOVLB     0x2                                                                                             
008210   ef2a     GOTO      0x8254                                                                                          
008212   f041                                                                                                               
0080f4   0ef8     MOVLW     0xf8                 FIFOPtr[gFIFOIn].m.sm.DelayCounter = HIGH_ISR_TICKS_PER_MS * (UINT32)Delay; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0080f6   cfdb     MOVFF     0xfdb,0x46                                                                                      
0080f8   f046                                                                                                               
0080fa   0ef9     MOVLW     0xf9                                                                                            
0080fc   cfdb     MOVFF     0xfdb,0x47                                                                                      
0080fe   f047                                                                                                               
008100   6a48     CLRF      0x48,0x0                                                                                        
008102   6a49     CLRF      0x49,0x0                                                                                        
008104   0e19     MOVLW     0x19                                                                                            
008106   6e3d     MOVWF     0x3d,0x0                                                                                        
008108   6a3e     CLRF      0x3e,0x0                                                                                        
00810a   6a3f     CLRF      0x3f,0x0                                                                                        
00810c   6a40     CLRF      0x40,0x0                                                                                        
00810e   c046     MOVFF     0x46,0x38                                                                                       
008110   f038                                                                                                               
008112   c047     MOVFF     0x47,0x39                                                                                       
008114   f039                                                                                                               
008116   c048     MOVFF     0x48,0x3a                                                                                       
008118   f03a                                                                                                               
00811a   c049     MOVFF     0x49,0x3b                                                                                       
00811c   f03b                                                                                                               
00811e   ec05     CALL      0x900a,0x0                                                                                      
008120   f048                                                                                                               
008122   c034     MOVFF     0x34,0x46                                                                                       
008124   f046                                                                                                               
008126   c035     MOVFF     0x35,0x47                                                                                       
008128   f047                                                                                                               
00812a   c036     MOVFF     0x36,0x48                                                                                       
00812c   f048                                                                                                               
00812e   c037     MOVFF     0x37,0x49                                                                                       
008130   f049                                                                                                               
008132   d86b     RCALL     0x820a                                                                                          
008134   52ee     MOVF      0xee,0x1,0x0                                                                                    
008136   52ee     MOVF      0xee,0x1,0x0                                                                                    
008138   c034     MOVFF     0x34,0xfee                                                                                      
00813a   ffee                                                                                                               
00813c   c047     MOVFF     0x47,0xfee                                                                                      
00813e   ffee                                                                                                               
008140   c048     MOVFF     0x48,0xfee                                                                                      
008142   ffee                                                                                                               
008144   c049     MOVFF     0x49,0xfee                                                                                      
008146   ffee                                                                                                               
008148   d848     RCALL     0x81da               FIFOPtr[gFIFOIn].m.sm.ServoChannel = Channel;                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00814a   0e29     MOVLW     0x29                                                                                            
00814c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00814e   0e00     MOVLW     0x0                                                                                             
008150   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
008152   0e01     MOVLW     0x1                                                                                             
008154   cfdb     MOVFF     0xfdb,0xfef                                                                                     
008156   ffef                                                                                                               
008158   d840     RCALL     0x81da               FIFOPtr[gFIFOIn].m.sm.ServoRPn = RPn;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00815a   0e26     MOVLW     0x26                                                                                            
00815c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00815e   0e00     MOVLW     0x0                                                                                             
008160   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
008162   0efc     MOVLW     0xfc                                                                                            
008164   cfdb     MOVFF     0xfdb,0xfef                                                                                     
008166   ffef                                                                                                               
008168   d838     RCALL     0x81da               FIFOPtr[gFIFOIn].m.sm.ServoPosition = Position;                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
00816a   0e27     MOVLW     0x27                                                                                            
00816c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00816e   0e00     MOVLW     0x0                                                                                             
008170   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
008172   0efd     MOVLW     0xfd                                                                                            
008174   cfdb     MOVFF     0xfdb,0xfee                                                                                     
008176   ffee                                                                                                               
008178   0efe     MOVLW     0xfe                                                                                            
00817a   cfdb     MOVFF     0xfdb,0xfed                                                                                     
00817c   ffed                                                                                                               
00817e   d82d     RCALL     0x81da               FIFOPtr[gFIFOIn].m.sm.ServoRate = Rate;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008180   0e2a     MOVLW     0x2a                                                                                            
008182   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
008184   0e00     MOVLW     0x0                                                                                             
008186   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
008188   0efa     MOVLW     0xfa                                                                                            
00818a   cfdb     MOVFF     0xfdb,0xfee                                                                                     
00818c   ffee                                                                                                               
00818e   0efb     MOVLW     0xfb                                                                                            
008190   cfdb     MOVFF     0xfdb,0xfed                                                                                     
008192   ffed                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // Check that DelayCounter doesn't have a crazy high value (this was     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   // being done in the ISR, now moved here for speed)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008194   d822     RCALL     0x81da               if (FIFOPtr[gFIFOIn].m.sm.DelayCounter > HIGH_ISR_TICKS_PER_MS * (UINT32)0x10000) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
008196   52ee     MOVF      0xee,0x1,0x0                                                                                    
008198   80d8     BSF       0xd8,0x0,0x0                                                                                    
00819a   0e00     MOVLW     0x0                                                                                             
00819c   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00819e   0e00     MOVLW     0x0                                                                                             
0081a0   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0081a2   0e19     MOVLW     0x19                                                                                            
0081a4   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0081a6   0e00     MOVLW     0x0                                                                                             
0081a8   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0081aa   e206     BC        0x81b8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // Ideally we would throw an error to the user here, but since we're in D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // the helper function that's not so easy. So we just set the delay time D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                     // to zero and hope they notice that their delays aren't doing anything. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081ac   d816     RCALL     0x81da                 FIFOPtr[gFIFOIn].m.sm.DelayCounter = 0;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081ae   52ee     MOVF      0xee,0x1,0x0                                                                                    
0081b0   6aee     CLRF      0xee,0x0                                                                                        
0081b2   6aee     CLRF      0xee,0x0                                                                                        
0081b4   6aee     CLRF      0xee,0x0                                                                                        
0081b6   6aee     CLRF      0xee,0x0                                                                                        
0081da   5010     MOVF      0x10,0x0,0x0                                                                                    
0081dc   0d2f     MULLW     0x2f                                                                                            
0081de   d83a     RCALL     0x8254                                                                                          
0081e0   52ee     MOVF      0xee,0x1,0x0                                                                                    
0081e2   0012     RETURN    0x0                                                                                             
008254   51fe     MOVF      0xfe,0x0,0x1                                                                                    
008256   24f3     ADDWF     0xf3,0x0,0x0                                                                                    
008258   6ee9     MOVWF     0xe9,0x0                                                                                        
00825a   51ff     MOVF      0xff,0x0,0x1                                                                                    
00825c   20f4     ADDWFC    0xf4,0x0,0x0                                                                                    
00825e   6eea     MOVWF     0xea,0x0                                                                                        
008260   0012     RETURN    0x0                                                                                             
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081b8   2a10     INCF      0x10,0x1,0x0           gFIFOIn++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081ba   5013     MOVF      0x13,0x0,0x0           if (gFIFOIn >= gCurrentFIFOLength)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081bc   5c10     SUBWF     0x10,0x0,0x0                                                                                    
0081be   e301     BNC       0x81c2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081c0   6a10     CLRF      0x10,0x0                 gFIFOIn = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081c2   2a0f     INCF      0xf,0x1,0x0            gFIFOLength++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081c4   0e01     MOVLW     0x1              return Channel;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081c6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0081c8   6e46     MOVWF     0x46,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\RCServo2.c
0081ca   0e02     MOVLW     0x2                                                                                             
0081cc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0081ce   e202     BC        0x81d4                                                                                          
0081d0   6ae1     CLRF      0xe1,0x0                                                                                        
0081d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0081d4   6ee1     MOVWF     0xe1,0x0                                                                                        
0081d6   5046     MOVF      0x46,0x0,0x0                                                                                    
0081d8   d028     BRA       0x822a                                                                                          
00822a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00822c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00822e   ffd9                                                                                                               
008230   0012     RETURN    0x0                                                                                             
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                UBW Firmware                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * FileName:        UBW.c                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Company:         Schmalz Haus LLC                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author:          Brian Schmalz                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Based on original files by Microchip Inc. in MAL USB example.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Software License Agreement                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Copyright (c) 2014-2023, Brian Schmalz of Schmalz Haus LLC                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * All rights reserved.                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Redistribution and use in source and binary forms, with or                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * without modification, are permitted provided that the following               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * conditions are met:                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 1. Redistributions of source code must retain the above                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 2. Redistributions in binary form must reproduce the above                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * copyright notice, this list of conditions and the following                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * disclaimer in the documentation and/or other materials                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * provided with the distribution.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * 3. Neither the name of the copyright holder nor the names of                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * its contributors may be used to endorse or promote products                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * derived from this software without specific prior written                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * permission.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * SUCH DAMAGE.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Author               Date        Comment                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        03/15/06    Added user code to implement                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      firmware version D v1.0 for UBW                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      project. See www.greta.dhs.org/UBW                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Brian Schmalz        05/04/06    Starting version 1.1, which will             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      include several fixes. See website.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  06/21/06  Starting v1.2 -                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed problem with I packets (from T command) filling up TX buffer          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *    and not letting any incoming commands be received. (strange)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding several commands - Analog inputs being the biggest set.              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Also Byte read/Byte write (PEEK/POKE) anywhere in memory                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Individual pin I/O and direction                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/16/06  v1.3 - Fixed bug with USB startup              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  09/09/06  v1.4 - Starting 1.4                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Fixed Microchip bug with early silicon - UCONbits.PKTDIS = 0;               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Adding BO and BC commands for parallel output to graphics panels            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  12/06/06  v1.4 - More work on 1.4                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote all I/O buffering code for increased speed and functionality       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Re-wrote error handling code                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * - Added delays to BC/BO commands to help Corey                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  01/06/07  v1.4 - Added RC command for servos             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  03/07/07  v1.4.1 - Changed blink rate for SFE            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  05/24/07  v1.4.2 - Fixed RC command bug - it             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      wouldn't shut off.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * BPS                  08/28/07  v1.4.3 - Allowed UBW to run without            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                      USB connected.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** I N C L U D E S **********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <usart.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <ctype.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <delays.h>                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include <flash.h>                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb.h"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "Usb\usb_function_cdc.h"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "usb_config.h"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "HardwareProfile.h"                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "RCServo2.h"                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E F I N E S ********************************************************/      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_TX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kUSART_RX_BUF_SIZE    10u               // In bytes                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_A_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kISR_FIFO_D_DEPTH     3u                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kPR4_RELOAD           250u              // For 1ms TMR4 tick             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kCR                   0x0Du                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define kLF                   0x0Au                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define ANALOG_INITATE_MS_BETWEEN_STARTS 5u     // Number of ms between analog converts (all enabled channels) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_ADDRESS    0xF800            // Starting address in FLASH where we store our EBB's name D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define FLASH_NAME_LENGTH     16u               // Size of store for EBB's name in FLASH D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #define RCSERVO_POWEROFF_DEFAULT_MS (60ul*1000ul)  // Number of milliseconds to default the RCServo power autotimeout (5min) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** V A R I A B L E S ********************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //#pragma udata access fast_vars                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Rate variable - how fast does interrupt fire to capture inputs?               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int time_between_updates;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_D_RepeatRate;       // How many 1ms ticks between Digital updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_RepeatRate;       // How many 1ms ticks between Analog updates D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_in;         // In pointer                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_out;        // Out pointer                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_A_FIFO_length;     // Current FIFO depth              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This byte has each of its bits used as a separate error flag                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BYTE error_byte;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RC servo variables                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // First the main array of data for each servo                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_primed_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_next_ptr;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RC_timing_ptr;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Used only in LowISR                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int D_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int A_tick_counter;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char A_cur_channel;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char AnalogInitiate;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int AnalogEnabledChannels;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ChannelBit;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_PowerMonitorThresholdADC;     // 0-1023 ADC counts, below which D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile BOOL g_PowerDropDetected;              // True if power drops below PowerMonitorThreshold D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile tStepperDisableTimeout g_StepperDisableState;  // Stores state of stepper timeout disable feature D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableTimeoutS;       // Seconds of no motion before motors are disabled D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableSecondCounter;  // Counts milliseconds up to 1 s for stepper disable timeout D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT16 g_StepperDisableCountdownS;     // After motion is done, counts down in seconds from g_StepperDisableTimeoutS to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const rom char st_version[] = {"EBBv13_and_above EB Firmware Version 3.0.0-a39"}; D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata ISR_buf = 0x100                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned int ISR_A_FIFO[16];                     // Stores the most recent analog conversions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile unsigned char ISR_D_FIFO[3][kISR_FIFO_D_DEPTH];  // FIFO of actual data D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_tx_buf = 0x200                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Transmit buffer for packets (back to PC)                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf[kTX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_command_buf[kRX_COMMAND_BUF_SIZE];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata com_rx_buf = 0x300                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USB Receiving buffer for commands as they come from PC                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf[kRX_BUF_SIZE];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These variables are in normal storage space                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma udata                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Receiving buffer for data coming from the USART                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf[kUSART_RX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // USART Transmit buffer for data going to the USART                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf[kUSART_TX_BUF_SIZE];                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These are used for the Fast Parallel Output routines                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_init;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_mask;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_mask;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_wait_delay;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_BO_strobe_delay;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB transmit (back to PC) buffer                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_TX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pointers to USB receive (from PC) buffer                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_in;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_RX_buf_out;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART input buffer                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_RX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In and out pointers to our USART output buffer                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_in;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char g_USART_TX_buf_out;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Normally set to TRUE. Able to set FALSE to not send "OK" message after packet reception D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL g_ack_enable;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Set to TRUE to turn Pulse Mode on                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gPulsesOn;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how long should each pulse be on for in ms?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseLen[4];                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, how many ms between rising edges of pulses?                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseRate[4];                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For Pulse Mode, counters keeping track of where we are                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned int gPulseCounters[4];                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Counts down milliseconds until zero. At zero shuts off power to RC servo (via RA3)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterMS;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT32 gRCServoPoweroffCounterReloadMS;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // When true, any stepper motion command will automatically enable both motors   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL gAutomaticMotorEnable;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // These store the first and second characters of the latest command from the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           unsigned char gCommand_Char2;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Global variables used for limit switch feature                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchPortB;     // Latched PortB value when trigger happens D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile UINT8 gLimitSwitchReplies;   // Non-zero if we want a reply printed when limit switch trigger goes true D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gLimitSwitchReplyPrinted;       // True if we've already printed a reply for this limit switch trigger D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           UINT8 gCommandChecksumRequired;       // True if we are requiring checksums on all commands (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Stack high water value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static volatile UINT16 gStackHighWater;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Locals used in low ISR                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static INT16 RC2Difference;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerHigh;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT8 tempStackPointerLow;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static UINT16 tempStackPointer;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           static unsigned char gDeviceStringName[FLASH_NAME_LENGTH+1];                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void);     // Handles blinking the USB status LED            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           BOOL SwitchIsPressed(void);    // Check to see if the user (PRG) switch is pressed D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_packet(void);       // Take a full packet and dispatch it to the right function D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           signed char extract_digit(unsigned long * acc, unsigned char digits); // Pull a character out of the packet D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void);     // R for resetting UBW                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_C_packet(void);     // C for configuring I/O and analog pins          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_O_packet(void);     // O for output digital to pins                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void);     // I for input digital from pins                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void);     // V for printing version                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_A_packet(void);     // A for requesting analog inputs                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PI_packet(void);    // PI for reading a single pin                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PO_packet(void);    // PO for setting a single pin state              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PD_packet(void);    // PD for setting a pin's direction               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR for Memory Read                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MW_packet(void);    // MW for Memory Write                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CU_packet(void);    // CU configures UBW (system wide parameters)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void);     // T for setting up timed I/O (digital or analog) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void);    // PG Pulse Go                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void);    // PC Pulse Configure                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void);    // BL Boot Load command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_CK_packet(void);    // CK ChecK command                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_MR_packet(void);    // MR Motors Run command                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_AC_packet(void);    // AC Analog Configure                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_ST_packet(void);    // ST Set Tag command                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QT_packet(void);    // QT Query Tag command                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void);    // RB ReBoot command                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void);    // QR Query RC Servo power state                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_SR_packet(void);    // SR Set RC Servo power timeout                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QU_packet(void);    // QU General Query                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void check_and_send_TX_data(void); // See if there is any data to send to PC, and if so, do it D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** D E C L A R A T I O N S **************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #pragma interruptlow low_ISR                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d8e   cfd8     MOVFF     0xfd8,0xfe4    void low_ISR(void)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003d90   ffe4                                                                                                               
003d92   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
003d94   ffe4                                                                                                               
003d96   6ee4     MOVWF     0xe4,0x0                                                                                        
003d98   cfda     MOVFF     0xfda,0xfe4                                                                                     
003d9a   ffe4                                                                                                               
003d9c   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
003d9e   ffe4                                                                                                               
003da0   cfea     MOVFF     0xfea,0xfe4                                                                                     
003da2   ffe4                                                                                                               
003da4   cff3     MOVFF     0xff3,0xfe4                                                                                     
003da6   ffe4                                                                                                               
003da8   cff4     MOVFF     0xff4,0xfe4                                                                                     
003daa   ffe4                                                                                                               
003dac   52e6     MOVF      0xe6,0x1,0x0                                                                                    
003dae   ec85     CALL      0x670a,0x0                                                                                      
003db0   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have a Timer4 interrupt? (1ms rate)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db2   a6a4     BTFSS     0xa4,0x3,0x0     if (PIR3bits.TMR4IF)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db4   d141     BRA       0x4038                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db6   96a4     BCF       0xa4,0x3,0x0       PIR3bits.TMR4IF = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle RC servo pulse generation (for next pulse/channel)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always increment the gRCServo2msCounter                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003db8   0100     MOVLB     0x0                gRC2msCounter++;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dba   2b60     INCF      0x60,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dbc   0100     MOVLB     0x0                if (gRC2msCounter >= gRC2SlotMS)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dbe   517f     MOVF      0x7f,0x0,0x1                                                                                    
003dc0   0100     MOVLB     0x0                                                                                             
003dc2   5d60     SUBWF     0x60,0x0,0x1                                                                                    
003dc4   e201     BC        0x3dc8                                                                                          
003dc6   d09b     BRA       0x3efe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the RC2 ms counter                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dc8   6b60     CLRF      0x60,0x1             gRC2msCounter = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off the PPS routing to the 'old' pin                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dca   0100     MOVLB     0x0                  *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dcc   ec9e     CALL      0x653c,0x0                                                                                      
003dce   f032                                                                                                               
003dd0   6aef     CLRF      0xef,0x0                                                                                        
00653c   517d     MOVF      0x7d,0x0,0x1                                                                                    
00653e   6aea     CLRF      0xea,0x0                                                                                        
006540   0f69     ADDLW     0x69                                                                                            
006542   6ee9     MOVWF     0xe9,0x0                                                                                        
006544   0e00     MOVLW     0x0                                                                                             
006546   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006548   50ef     MOVF      0xef,0x0,0x0                                                                                    
00654a   0100     MOVLB     0x0                                                                                             
00654c   6aea     CLRF      0xea,0x0                                                                                        
00654e   2580     ADDWF     0x80,0x0,0x1                                                                                    
006550   6ee9     MOVWF     0xe9,0x0                                                                                        
006552   5181     MOVF      0x81,0x0,0x1                                                                                    
006554   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006556   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off TIMER3 for now                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dd2   9079     BCF       0x79,0x0,0x0         T3CONbits.TMR3ON = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And clear TIMER3 to zero                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dd4   6a7b     CLRF      0x7b,0x0             TMR3H = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dd6   6a7a     CLRF      0x7a,0x0             TMR3L = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // And always advance the main pointer                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dd8   0100     MOVLB     0x0                  gRC2Ptr++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dda   2b7d     INCF      0x7d,0x1,0x1                                                                                    
003ddc   0100     MOVLB     0x0                  if (gRC2Ptr >= gRC2Slots)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dde   517e     MOVF      0x7e,0x0,0x1                                                                                    
003de0   0100     MOVLB     0x0                                                                                             
003de2   5d7d     SUBWF     0x7d,0x0,0x1                                                                                    
003de4   e301     BNC       0x3de8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003de6   6b7d     CLRF      0x7d,0x1               gRC2Ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If the value is zero, we do nothing to this pin                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // otherwise, prime it for sending a pulse                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003de8   ec17     CALL      0x682e,0x0           if (gRC2Value[gRC2Ptr] != 0u)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003dea   f034                                                                                                               
003dec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003dee   50ee     MOVF      0xee,0x0,0x0                                                                                    
003df0   10ed     IORWF     0xed,0x0,0x0                                                                                    
003df2   e101     BNZ       0x3df6                                                                                          
003df4   d084     BRA       0x3efe                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, to move 'slowly', we update gRC2Value[] by                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // seeing if we are at gRC2Target[] yet. If not, then                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // we add (or subtract) gRC2Rate[] to try and get there.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df6   ec0a     CALL      0x6814,0x0             if (gRC2Target[gRC2Ptr] != gRC2Value[gRC2Ptr])                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003df8   f034                                                                                                               
003dfa   cfee     MOVFF     0xfee,0x50                                                                                      
003dfc   f050                                                                                                               
003dfe   cfef     MOVFF     0xfef,0x51                                                                                      
003e00   f051                                                                                                               
003e02   5050     MOVF      0x50,0x0,0x0                                                                                    
003e04   184e     XORWF     0x4e,0x0,0x0                                                                                    
003e06   e102     BNZ       0x3e0c                                                                                          
003e08   5051     MOVF      0x51,0x0,0x0                                                                                    
003e0a   184f     XORWF     0x4f,0x0,0x0                                                                                    
003e0c   e05d     BZ        0x3ec8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If the rate is zero, then we always move instantly                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // to the target.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e0e   ec5a     CALL      0x66b4,0x0               if (gRC2Rate[gRC2Ptr] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e10   f033                                                                                                               
003e12   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003e14   50ee     MOVF      0xee,0x0,0x0                                                                                    
003e16   10ed     IORWF     0xed,0x0,0x0                                                                                    
003e18   e051     BZ        0x3ebc                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     else                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Otherwise, add gRC2Rate[] each time through until we              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // get to our desired pulse width.                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e1a   ec0a     CALL      0x6814,0x0                 RC2Difference = (gRC2Target[gRC2Ptr] - gRC2Value[gRC2Ptr]);          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e1c   f034                                                                                                               
003e1e   0100     MOVLB     0x0                                                                                             
003e20   50ee     MOVF      0xee,0x0,0x0                                                                                    
003e22   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
003e24   6fe2     MOVWF     0xe2,0x1                                                                                        
003e26   50ee     MOVF      0xee,0x0,0x0                                                                                    
003e28   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
003e2a   6fe3     MOVWF     0xe3,0x1                                                                                        
003e2c   34e8     RLCF      0xe8,0x0,0x0               if (RC2Difference > 0)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e2e   e222     BC        0x3e74                                                                                          
003e30   51e2     MOVF      0xe2,0x0,0x1                                                                                    
003e32   0800     SUBLW     0x0                                                                                             
003e34   0e00     MOVLW     0x0                                                                                             
003e36   55e3     SUBFWB    0xe3,0x0,0x1                                                                                    
003e38   e21d     BC        0x3e74                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e3a   0100     MOVLB     0x0                          if (RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e3c   ec5a     CALL      0x66b4,0x0                                                                                      
003e3e   f033                                                                                                               
003e40   ec1a     CALL      0x6434,0x0                                                                                      
003e42   f032                                                                                                               
003e44   0100     MOVLB     0x0                                                                                             
003e46   504f     MOVF      0x4f,0x0,0x0                                                                                    
003e48   19e3     XORWF     0xe3,0x0,0x1                                                                                    
003e4a   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003e4c   d002     BRA       0x3e52                                                                                          
003e4e   35e3     RLCF      0xe3,0x0,0x1                                                                                    
003e50   d004     BRA       0x3e5a                                                                                          
003e52   51e2     MOVF      0xe2,0x0,0x1                                                                                    
003e54   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
003e56   51e3     MOVF      0xe3,0x0,0x1                                                                                    
003e58   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
003e5a   e20a     BC        0x3e70                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e5c   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] += gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e5e   ec5a     CALL      0x66b4,0x0                                                                                      
003e60   f033                                                                                                               
003e62   ec2b     CALL      0x6656,0x0                                                                                      
003e64   f033                                                                                                               
003e66   504e     MOVF      0x4e,0x0,0x0                                                                                    
003e68   26ee     ADDWF     0xee,0x1,0x0                                                                                    
003e6a   504f     MOVF      0x4f,0x0,0x0                                                                                    
003e6c   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e6e   d02c     BRA       0x3ec8                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e70   0100     MOVLB     0x0                            gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e72   d024     BRA       0x3ebc                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e74   c0e2     MOVFF     0xe2,0x4e                    if (-RC2Difference > (INT16)gRC2Rate[gRC2Ptr])                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003e76   f04e                                                                                                               
003e78   c0e3     MOVFF     0xe3,0x4f                                                                                       
003e7a   f04f                                                                                                               
003e7c   6c4e     NEGF      0x4e,0x0                                                                                        
003e7e   1e4f     COMF      0x4f,0x1,0x0                                                                                    
003e80   0e00     MOVLW     0x0                                                                                             
003e82   224f     ADDWFC    0x4f,0x1,0x0                                                                                    
003e84   0100     MOVLB     0x0                                                                                             
003e86   ec5a     CALL      0x66b4,0x0                                                                                      
003e88   f033                                                                                                               
003e8a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003e8c   cfee     MOVFF     0xfee,0x50                                                                                      
003e8e   f050                                                                                                               
003e90   cfef     MOVFF     0xfef,0x51                                                                                      
003e92   f051                                                                                                               
003e94   5051     MOVF      0x51,0x0,0x0                                                                                    
003e96   184f     XORWF     0x4f,0x0,0x0                                                                                    
003e98   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
003e9a   d002     BRA       0x3ea0                                                                                          
003e9c   344f     RLCF      0x4f,0x0,0x0                                                                                    
003e9e   d004     BRA       0x3ea8                                                                                          
003ea0   504e     MOVF      0x4e,0x0,0x0                                                                                    
003ea2   5c50     SUBWF     0x50,0x0,0x0                                                                                    
003ea4   504f     MOVF      0x4f,0x0,0x0                                                                                    
003ea6   5851     SUBWFB    0x51,0x0,0x0                                                                                    
003ea8   e209     BC        0x3ebc                                                                                          
0066b4   de85     RCALL     0x63c0                                                                                          
0066b6   0e75     MOVLW     0x75                                                                                            
0066b8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0066ba   0e00     MOVLW     0x0                                                                                             
0066bc   0012     RETURN    0x0                                                                                             
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eaa   ec5a     CALL      0x66b4,0x0                     gRC2Value[gRC2Ptr] -= gRC2Rate[gRC2Ptr];                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eac   f033                                                                                                               
003eae   ec2b     CALL      0x6656,0x0                                                                                      
003eb0   f033                                                                                                               
003eb2   504e     MOVF      0x4e,0x0,0x0                                                                                    
003eb4   5eee     SUBWF     0xee,0x1,0x0                                                                                    
003eb6   504f     MOVF      0x4f,0x0,0x0                                                                                    
003eb8   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eba   d006     BRA       0x3ec8                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ebc   ec0a     CALL      0x6814,0x0                     gRC2Value[gRC2Ptr] = gRC2Target[gRC2Ptr];                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ebe   f034                                                                                                               
003ec0   c04e     MOVFF     0x4e,0xfee                                                                                      
003ec2   ffee                                                                                                               
003ec4   c04f     MOVFF     0x4f,0xfed                                                                                      
003ec6   ffed                                                                                                               
006434   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006436   cfee     MOVFF     0xfee,0x4e                                                                                      
006438   f04e                                                                                                               
00643a   cfef     MOVFF     0xfef,0x4f                                                                                      
00643c   f04f                                                                                                               
00643e   0012     RETURN    0x0                                                                                             
006656   deee     RCALL     0x6434                                                                                          
006658   d8ea     RCALL     0x682e                                                                                          
00665a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00665c   0012     RETURN    0x0                                                                                             
006814   ddd5     RCALL     0x63c0                                                                                          
006816   0e6d     MOVLW     0x6d                                                                                            
006818   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00681a   0e00     MOVLW     0x0                                                                                             
00681c   ef2b     GOTO      0x6656                                                                                          
00681e   f033                                                                                                               
00682e   ddc8     RCALL     0x63c0                                                                                          
006830   0e61     MOVLW     0x61                                                                                            
006832   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
006834   0e00     MOVLW     0x0                                                                                             
006836   0012     RETURN    0x0                                                                                             
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set up the PPS routing for the CCP2                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ec8   ec9e     CALL      0x653c,0x0             *(gRC2RPORPtr + gRC2RPn[gRC2Ptr]) = 18; // 18 = CCP2                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eca   f032                                                                                                               
003ecc   0e12     MOVLW     0x12                                                                                            
003ece   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Disable interrupts (high)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ed0   9ef2     BCF       0xf2,0x7,0x0           INTCONbits.GIEH = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Load up the new compare time                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ed2   0100     MOVLB     0x0                    CCPR2H = gRC2Value[gRC2Ptr] >> 8;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ed4   eca6     CALL      0x674c,0x0                                                                                      
003ed6   f033                                                                                                               
003ed8   c04f     MOVFF     0x4f,0x4e                                                                                       
003eda   f04e                                                                                                               
003edc   6a4f     CLRF      0x4f,0x0                                                                                        
003ede   504e     MOVF      0x4e,0x0,0x0                                                                                    
003ee0   6eb6     MOVWF     0xb6,0x0                                                                                        
00674c   d870     RCALL     0x682e                                                                                          
00674e   ef1a     GOTO      0x6434                                                                                          
006750   f032                                                                                                               
003ee2   eca6     CALL      0x674c,0x0             CCPR2L = gRC2Value[gRC2Ptr] & 0xFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ee4   f033                                                                                                               
003ee6   504e     MOVF      0x4e,0x0,0x0                                                                                    
003ee8   6eb5     MOVWF     0xb5,0x0                                                                                        
0063c0   517d     MOVF      0x7d,0x0,0x1                                                                                    
0063c2   6ee9     MOVWF     0xe9,0x0                                                                                        
0063c4   6aea     CLRF      0xea,0x0                                                                                        
0063c6   90d8     BCF       0xd8,0x0,0x0                                                                                    
0063c8   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0063ca   36ea     RLCF      0xea,0x1,0x0                                                                                    
0063cc   0012     RETURN    0x0                                                                                             
003eea   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b0000;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003eec   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
003eee   0900     IORLW     0x0                                                                                             
003ef0   6eb4     MOVWF     0xb4,0x0                                                                                        
003ef2   0ef0     MOVLW     0xf0                   CCP2CONbits.CCP2M = 0b1001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ef4   14b4     ANDWF     0xb4,0x0,0x0                                                                                    
003ef6   0909     IORLW     0x9                                                                                             
003ef8   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Turn TIMER3 back on                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003efa   8079     BSF       0x79,0x0,0x0           T3CONbits.TMR3ON = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Re-enable interrupts                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003efc   8ef2     BSF       0xf2,0x7,0x0           INTCONbits.GIEH = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an I packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003efe   0100     MOVLB     0x0                if (ISR_D_RepeatRate > 0u)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f00   0e00     MOVLW     0x0                                                                                             
003f02   80d8     BSF       0xd8,0x0,0x0                                                                                    
003f04   558d     SUBFWB    0x8d,0x0,0x1                                                                                    
003f06   0e00     MOVLW     0x0                                                                                             
003f08   558e     SUBFWB    0x8e,0x0,0x1                                                                                    
003f0a   e22e     BC        0x3f68                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f0c   2b9b     INCF      0x9b,0x1,0x1         D_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f0e   0e00     MOVLW     0x0                                                                                             
003f10   239c     ADDWFC    0x9c,0x1,0x1                                                                                    
003f12   518d     MOVF      0x8d,0x0,0x1         if (D_tick_counter >= ISR_D_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f14   5d9b     SUBWF     0x9b,0x0,0x1                                                                                    
003f16   518e     MOVF      0x8e,0x0,0x1                                                                                    
003f18   599c     SUBWFB    0x9c,0x0,0x1                                                                                    
003f1a   e326     BNC       0x3f68                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f1c   6b9b     CLRF      0x9b,0x1               D_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f1e   6b9c     CLRF      0x9c,0x1                                                                                        
                                                   // Tell the main code to send an I packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f20   0e03     MOVLW     0x3                    if (ISR_D_FIFO_length < kISR_FIFO_D_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f22   5d91     SUBWF     0x91,0x0,0x1                                                                                    
003f24   e21f     BC        0x3f64                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And copy over our port values                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f26   518f     MOVF      0x8f,0x0,0x1             ISR_D_FIFO[0][ISR_D_FIFO_in] = PORTA;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f28   6aea     CLRF      0xea,0x0                                                                                        
003f2a   0f20     ADDLW     0x20                                                                                            
003f2c   6ee9     MOVWF     0xe9,0x0                                                                                        
003f2e   0e01     MOVLW     0x1                                                                                             
003f30   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003f32   cf80     MOVFF     0xf80,0xfef                                                                                     
003f34   ffef                                                                                                               
003f36   518f     MOVF      0x8f,0x0,0x1             ISR_D_FIFO[1][ISR_D_FIFO_in] = PORTB;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f38   6aea     CLRF      0xea,0x0                                                                                        
003f3a   0f23     ADDLW     0x23                                                                                            
003f3c   6ee9     MOVWF     0xe9,0x0                                                                                        
003f3e   0e01     MOVLW     0x1                                                                                             
003f40   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003f42   cf81     MOVFF     0xf81,0xfef                                                                                     
003f44   ffef                                                                                                               
003f46   518f     MOVF      0x8f,0x0,0x1             ISR_D_FIFO[2][ISR_D_FIFO_in] = PORTC;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f48   6aea     CLRF      0xea,0x0                                                                                        
003f4a   0f26     ADDLW     0x26                                                                                            
003f4c   6ee9     MOVWF     0xe9,0x0                                                                                        
003f4e   0e01     MOVLW     0x1                                                                                             
003f50   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
003f52   cf82     MOVFF     0xf82,0xfef                                                                                     
003f54   ffef                                                                                                               
003f56   2b8f     INCF      0x8f,0x1,0x1             ISR_D_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f58   0e03     MOVLW     0x3                      if (ISR_D_FIFO_in >= kISR_FIFO_D_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f5a   5d8f     SUBWF     0x8f,0x0,0x1                                                                                    
003f5c   e301     BNC       0x3f60                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f5e   6b8f     CLRF      0x8f,0x1                   ISR_D_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f60   2b91     INCF      0x91,0x1,0x1             ISR_D_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f62   d002     BRA       0x3f68                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // timer.                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f64   6b8d     CLRF      0x8d,0x1                 ISR_D_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f66   6b8e     CLRF      0x8e,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // See if it's time to fire off an A packet                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f68   0e00     MOVLW     0x0                if ((ISR_A_RepeatRate > 0u) && (AnalogEnabledChannels > 0u))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f6a   80d8     BSF       0xd8,0x0,0x0                                                                                    
003f6c   5592     SUBFWB    0x92,0x0,0x1                                                                                    
003f6e   0e00     MOVLW     0x0                                                                                             
003f70   5593     SUBFWB    0x93,0x0,0x1                                                                                    
003f72   e21c     BC        0x3fac                                                                                          
003f74   0e00     MOVLW     0x0                                                                                             
003f76   80d8     BSF       0xd8,0x0,0x0                                                                                    
003f78   55a1     SUBFWB    0xa1,0x0,0x1                                                                                    
003f7a   0e00     MOVLW     0x0                                                                                             
003f7c   55a2     SUBFWB    0xa2,0x0,0x1                                                                                    
003f7e   e216     BC        0x3fac                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f80   2b9d     INCF      0x9d,0x1,0x1         A_tick_counter++;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f82   0e00     MOVLW     0x0                                                                                             
003f84   239e     ADDWFC    0x9e,0x1,0x1                                                                                    
003f86   5192     MOVF      0x92,0x0,0x1         if (A_tick_counter >= ISR_A_RepeatRate)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f88   5d9d     SUBWF     0x9d,0x0,0x1                                                                                    
003f8a   5193     MOVF      0x93,0x0,0x1                                                                                    
003f8c   599e     SUBWFB    0x9e,0x0,0x1                                                                                    
003f8e   e30e     BNC       0x3fac                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f90   6b9d     CLRF      0x9d,0x1               A_tick_counter = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f92   6b9e     CLRF      0x9e,0x1                                                                                        
                                                   // Tell the main code to send an A packet                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f94   0e03     MOVLW     0x3                    if (ISR_A_FIFO_length < kISR_FIFO_A_DEPTH)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f96   5d96     SUBWF     0x96,0x0,0x1                                                                                    
003f98   e207     BC        0x3fa8                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f9a   2b94     INCF      0x94,0x1,0x1             ISR_A_FIFO_in++;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f9c   0e03     MOVLW     0x3                      if (ISR_A_FIFO_in >= kISR_FIFO_A_DEPTH)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003f9e   5d94     SUBWF     0x94,0x0,0x1                                                                                    
003fa0   e301     BNC       0x3fa4                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa2   6b94     CLRF      0x94,0x1                   ISR_A_FIFO_in = 0;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa4   2b96     INCF      0x96,0x1,0x1             ISR_A_FIFO_length++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa6   d002     BRA       0x3fac                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Stop the madness! Something is wrong, we're                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // not getting our packets out. So kill the A                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // packets.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fa8   6b92     CLRF      0x92,0x1                 ISR_A_RepeatRate = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003faa   6b93     CLRF      0x93,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only start analog conversions if there are channels enabled               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fac   51a1     MOVF      0xa1,0x0,0x1       if (AnalogEnabledChannels)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fae   11a2     IORWF     0xa2,0x0,0x1                                                                                    
003fb0   e00b     BZ        0x3fc8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Only start every so many ms                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fb2   0e05     MOVLW     0x5                  if (AnalogInitiate >= ANALOG_INITATE_MS_BETWEEN_STARTS)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fb4   5da0     SUBWF     0xa0,0x0,0x1                                                                                    
003fb6   e307     BNC       0x3fc6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Always start off with calibration                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fb8   8cc1     BSF       0xc1,0x6,0x0           ADCON1bits.ADCAL = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the interrupt                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fba   9c9e     BCF       0x9e,0x6,0x0           PIR1bits.ADIF = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the interrupt enable                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fbc   8c9d     BSF       0x9d,0x6,0x0           PIE1bits.ADIE = 1;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Make sure it's on!                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fbe   80c2     BSF       0xc2,0x0,0x0           ADCON0bits.ADON = 1;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // And tell the A/D to GO!                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc0   82c2     BSF       0xc2,0x1,0x0           ADCON0bits.GO_DONE = 1;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset AnalogInitiate counter                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc2   6ba0     CLRF      0xa0,0x1               AnalogInitiate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Otherwise, increment each 1ms                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc4   d001     BRA       0x3fc8               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc6   2ba0     INCF      0xa0,0x1,0x1           AnalogInitiate++;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Is Pulse Mode on?                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (gPulsesOn)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Loop across the four pins                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 for (i=0; i<4u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only pulse the pin if there is a length for the pin                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   if (gPulseLen[i])                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If this is the beginning of the pulse, turn the pin on              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == 0u)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // If we've reached the end of the pulse, turn the pin off             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] == gPulseLen[i])                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // Turn the pin off                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==0u) PORTBbits.RB0 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==1u) PORTBbits.RB1 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==2u) PORTBbits.RB2 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       if (i==3u) PORTBbits.RB3 = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Now increment the counter                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     gPulseCounters[i]++;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // And check to see if we've reached the end of the rate               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (gPulseCounters[i] >= gPulseRate[i])                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       // If so, start over from zero                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       gPulseCounters[i] = 0;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Turn the pin off                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==0u) PORTBbits.RB0 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==1u) PORTBbits.RB1 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==2u) PORTBbits.RB2 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     if (i==3u) PORTBbits.RB3 = 0;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for QC command                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fc8   0101     MOVLB     0x1                if (QC_ms_timer)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fca   51be     MOVF      0xbe,0x0,0x1                                                                                    
003fcc   e001     BZ        0x3fd0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fce   07be     DECF      0xbe,0x1,0x1         QC_ms_timer--;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Software timer for RCServo power control                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fd0   0100     MOVLB     0x0                if (gRCServoPoweroffCounterMS)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fd2   51d1     MOVF      0xd1,0x0,0x1                                                                                    
003fd4   11d2     IORWF     0xd2,0x0,0x1                                                                                    
003fd6   11d3     IORWF     0xd3,0x0,0x1                                                                                    
003fd8   11d4     IORWF     0xd4,0x0,0x1                                                                                    
003fda   e00b     BZ        0x3ff2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fdc   07d1     DECF      0xd1,0x1,0x1         gRCServoPoweroffCounterMS--;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fde   0e00     MOVLW     0x0                                                                                             
003fe0   5bd2     SUBWFB    0xd2,0x1,0x1                                                                                    
003fe2   5bd3     SUBWFB    0xd3,0x1,0x1                                                                                    
003fe4   5bd4     SUBWFB    0xd4,0x1,0x1                                                                                    
                                                 // If we just timed out, then shut off RC Servo power                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fe6   51d1     MOVF      0xd1,0x0,0x1         if (gRCServoPoweroffCounterMS == 0u)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003fe8   11d2     IORWF     0xd2,0x0,0x1                                                                                    
003fea   11d3     IORWF     0xd3,0x0,0x1                                                                                    
003fec   11d4     IORWF     0xd4,0x0,0x1                                                                                    
003fee   e101     BNZ       0x3ff2                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ff0   9689     BCF       0x89,0x3,0x0           RCServoPowerIO = RCSERVO_POWER_OFF;                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check for stepper motor disable timeout if enabled                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ff2   0e02     MOVLW     0x2                if (g_StepperDisableState == kSTEPPER_TIMEOUT_TIMING)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ff4   5da8     SUBWF     0xa8,0x0,0x1                                                                                    
003ff6   e120     BNZ       0x4038                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Count the milliseconds until we get to 1 second                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ff8   51ab     MOVF      0xab,0x0,0x1         if (g_StepperDisableSecondCounter)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ffa   11ac     IORWF     0xac,0x0,0x1                                                                                    
003ffc   e01d     BZ        0x4038                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
003ffe   07ab     DECF      0xab,0x1,0x1           g_StepperDisableSecondCounter--;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004000   0e00     MOVLW     0x0                                                                                             
004002   5bac     SUBWFB    0xac,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004004   51ab     MOVF      0xab,0x0,0x1           if (g_StepperDisableSecondCounter == 0u)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004006   11ac     IORWF     0xac,0x0,0x1                                                                                    
004008   e117     BNZ       0x4038                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Then count down the seconds                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00400a   51ad     MOVF      0xad,0x0,0x1             if (g_StepperDisableCountdownS)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00400c   11ae     IORWF     0xae,0x0,0x1                                                                                    
00400e   e014     BZ        0x4038                                                                                          
                                                     {                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004010   07ad     DECF      0xad,0x1,0x1               g_StepperDisableCountdownS--;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004012   0e00     MOVLW     0x0                                                                                             
004014   5bae     SUBWFB    0xae,0x1,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004016   51ad     MOVF      0xad,0x0,0x1               if (g_StepperDisableCountdownS == 0u)                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004018   11ae     IORWF     0xae,0x0,0x1                                                                                    
00401a   e10a     BNZ       0x4030                                                                                          
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // If the countdown gets to zero, then it's time to disable        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // the steppers.                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00401c   5004     MOVF      0x4,0x0,0x0                  if (DriverConfiguration == PIC_CONTROLS_DRIVERS)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00401e   e103     BNZ       0x4026                                                                                          
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004020   808d     BSF       0x8d,0x0,0x0                   Enable1IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004022   828b     BSF       0x8b,0x1,0x0                   Enable2IO = DISABLE_MOTOR;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004024   d002     BRA       0x402a                       else                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         {                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004026   828c     BSF       0x8c,0x1,0x0                   Enable1AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004028   8289     BSF       0x89,0x1,0x0                   Enable2AltIO = DISABLE_MOTOR;                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         }                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00402a   0e03     MOVLW     0x3                          g_StepperDisableState = kSTEPPER_TIMEOUT_FIRED;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00402c   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00402e   d004     BRA       0x4038                     else                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                       {                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                         // Only count the next second if there are still seconds to count  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004030   0ee8     MOVLW     0xe8                         g_StepperDisableSecondCounter = 1000u;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004032   6fab     MOVWF     0xab,0x1                                                                                        
004034   0e03     MOVLW     0x3                                                                                             
004036   6fac     MOVWF     0xac,0x1                                                                                        
                                                       }                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     }                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Read out the current value of FSR1 (stack pointer)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If the new value is higher than gStackHighWater, then update gStackHighWater D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // This will record the highest value the stack pointer attains              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _asm                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1H, tempStackPointerHigh                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      MOVFF FSR1L, tempStackPointerLow                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    _endasm                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    if (tempStackPointer > gStackHighWater)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    {                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///      gStackHighWater = tempStackPointer;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///    }                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             } // end of 1ms interrupt                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Do we have an analog interrupt?                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004038   ac9e     BTFSS     0x9e,0x6,0x0     if (PIR1bits.ADIF)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00403a   d04f     BRA       0x40da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear the interrupt                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00403c   9c9e     BCF       0x9e,0x6,0x0       PIR1bits.ADIF = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If we just had a calibration, means we just started, so clear things      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // out and begin our sequence.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00403e   acc1     BTFSS     0xc1,0x6,0x0       if (ADCON1bits.ADCAL)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004040   d007     BRA       0x4050                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004042   9cc1     BCF       0xc1,0x6,0x0         ADCON1bits.ADCAL = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004044   0e01     MOVLW     0x1                  ChannelBit = 0x0001;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004046   0100     MOVLB     0x0                                                                                             
004048   6fa3     MOVWF     0xa3,0x1                                                                                        
00404a   6ba4     CLRF      0xa4,0x1                                                                                        
00404c   6b9f     CLRF      0x9f,0x1             A_cur_channel = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00404e   d02a     BRA       0x40a4             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Read out the value that we just converted, and store it.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004064   0100     MOVLB     0x0                  ISR_A_FIFO[A_cur_channel] =                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004066   519f     MOVF      0x9f,0x0,0x1                                                                                    
004068   6ee9     MOVWF     0xe9,0x0                                                                                        
00406a   6aea     CLRF      0xea,0x0                                                                                        
00406c   ec75     CALL      0x66ea,0x0                                                                                      
00406e   f033                                                                                                               
004070   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004058   50c3     MOVF      0xc3,0x0,0x0             (unsigned int)ADRESL                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     |                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004050   50c4     MOVF      0xc4,0x0,0x0             ((unsigned int)ADRESH << 8);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004052   6e50     MOVWF     0x50,0x0                                                                                        
004054   6e51     MOVWF     0x51,0x0                                                                                        
004056   6a50     CLRF      0x50,0x0                                                                                        
00405a   0100     MOVLB     0x0                                                                                             
00405c   1050     IORWF     0x50,0x0,0x0                                                                                    
00405e   6e4e     MOVWF     0x4e,0x0                                                                                        
004060   c051     MOVFF     0x51,0x4f                                                                                       
004062   f04f                                                                                                               
004072   c04e     MOVFF     0x4e,0xfee                                                                                      
004074   ffee                                                                                                               
004076   c04f     MOVFF     0x4f,0xfed                                                                                      
004078   ffed                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // If this is the V+_VOLTAGE ADC channel, then check to see if the value   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // is below the threshold, and if so, set the bit to record this fact      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00407a   0e0b     MOVLW     0xb                  if (A_cur_channel == RA11_VPLUS_POWER_ADC_CHANNEL)                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00407c   5d9f     SUBWF     0x9f,0x0,0x1                                                                                    
00407e   e10e     BNZ       0x409c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004080   519f     MOVF      0x9f,0x0,0x1           if (ISR_A_FIFO[A_cur_channel] < g_PowerMonitorThresholdADC)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004082   6ee9     MOVWF     0xe9,0x0                                                                                        
004084   6aea     CLRF      0xea,0x0                                                                                        
004086   ec75     CALL      0x66ea,0x0                                                                                      
004088   f033                                                                                                               
00408a   ec1a     CALL      0x6434,0x0                                                                                      
00408c   f032                                                                                                               
00408e   51a5     MOVF      0xa5,0x0,0x1                                                                                    
004090   5c4e     SUBWF     0x4e,0x0,0x0                                                                                    
004092   51a6     MOVF      0xa6,0x0,0x1                                                                                    
004094   584f     SUBWFB    0x4f,0x0,0x0                                                                                    
004096   e202     BC        0x409c                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004098   0e01     MOVLW     0x1                      g_PowerDropDetected = TRUE;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00409a   6fa7     MOVWF     0xa7,0x1                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Increment the channel and mask bit                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00409c   90d8     BCF       0xd8,0x0,0x0         ChannelBit = ChannelBit << 1;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00409e   37a3     RLCF      0xa3,0x1,0x1                                                                                    
0040a0   37a4     RLCF      0xa4,0x1,0x1                                                                                    
0040a2   2b9f     INCF      0x9f,0x1,0x1         A_cur_channel++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk through the enabled channels until we find the next one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a4   0e10     MOVLW     0x10               while (A_cur_channel < 16u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040a6   5d9f     SUBWF     0x9f,0x0,0x1                                                                                    
0040a8   e20e     BC        0x40c6                                                                                          
0040c4   d7ef     BRA       0x40a4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040aa   51a3     MOVF      0xa3,0x0,0x1         if (ChannelBit & AnalogEnabledChannels)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ac   15a1     ANDWF     0xa1,0x0,0x1                                                                                    
0040ae   6e4e     MOVWF     0x4e,0x0                                                                                        
0040b0   51a4     MOVF      0xa4,0x0,0x1                                                                                    
0040b2   15a2     ANDWF     0xa2,0x0,0x1                                                                                    
0040b4   6e4f     MOVWF     0x4f,0x0                                                                                        
0040b6   504e     MOVF      0x4e,0x0,0x0                                                                                    
0040b8   104f     IORWF     0x4f,0x0,0x0                                                                                    
0040ba   e105     BNZ       0x40c6                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Increment the channel and write the new one in                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040bc   2b9f     INCF      0x9f,0x1,0x1           A_cur_channel++;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040be   90d8     BCF       0xd8,0x0,0x0           ChannelBit = ChannelBit << 1;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040c0   37a3     RLCF      0xa3,0x1,0x1                                                                                    
0040c2   37a4     RLCF      0xa4,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040c6   0e10     MOVLW     0x10               if (A_cur_channel >= 16u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040c8   5d9f     SUBWF     0x9f,0x0,0x1                                                                                    
0040ca   e302     BNC       0x40d0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We're done, so just sit and wait                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off our interrupts though.                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040cc   9c9d     BCF       0x9d,0x6,0x0         PIE1bits.ADIE = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040ce   d005     BRA       0x40da             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Update the channel number                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040d0   519f     MOVF      0x9f,0x0,0x1         ADCON0 = (A_cur_channel << 2) + 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040d2   0d04     MULLW     0x4                                                                                             
0040d4   28f3     INCF      0xf3,0x0,0x0                                                                                    
0040d6   6ec2     MOVWF     0xc2,0x0                                                                                        
                                                 // And start the next conversion                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040d8   82c2     BSF       0xc2,0x1,0x0         ADCON0bits.GO_DONE = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040da   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0040dc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0040de   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0040e0   ffd9                                                                                                               
0040e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0040e4   cfe5     MOVFF     0xfe5,0xff4                                                                                     
0040e6   fff4                                                                                                               
0040e8   cfe5     MOVFF     0xfe5,0xff3                                                                                     
0040ea   fff3                                                                                                               
0040ec   cfe5     MOVFF     0xfe5,0xfea                                                                                     
0040ee   ffea                                                                                                               
0040f0   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
0040f2   ffe9                                                                                                               
0040f4   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0040f6   ffda                                                                                                               
0040f8   50e5     MOVF      0xe5,0x0,0x0                                                                                    
0040fa   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
0040fc   ffe0                                                                                                               
0040fe   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
004100   ffd8                                                                                                               
004102   0010     RETFIE    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //////// JUST FOR TESTING - DELETE                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004104   cfd9     MOVFF     0xfd9,0xfe6    void fill_stack(void)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004106   ffe6                                                                                                               
004108   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00410a   ffd9                                                                                                               
00410c   0e02     MOVLW     0x2                                                                                             
00410e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004110   6ade     CLRF      0xde,0x0         UINT8 * stackPtr = (UINT8 *)0x000;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004112   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             _asm                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004114   cfe2     MOVFF     0xfe2,0xe4         MOVFF FSR1H, tempStackPointerHigh                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004116   f0e4                                                                                                               
004118   cfe1     MOVFF     0xfe1,0xe5         MOVFF FSR1L, tempStackPointerLow                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00411a   f0e5                                                                                                               
                                             _endasm                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00411c   c0e4     MOVFF     0xe4,0x46        tempStackPointer = ((((UINT16)tempStackPointerHigh) << 8) | tempStackPointerLow); D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00411e   f046                                                                                                               
004120   c046     MOVFF     0x46,0x47                                                                                       
004122   f047                                                                                                               
004124   6a46     CLRF      0x46,0x0                                                                                        
004126   0100     MOVLB     0x0                                                                                             
004128   51e5     MOVF      0xe5,0x0,0x1                                                                                    
00412a   0100     MOVLB     0x0                                                                                             
00412c   1046     IORWF     0x46,0x0,0x0                                                                                    
00412e   6fe6     MOVWF     0xe6,0x1                                                                                        
004130   c047     MOVFF     0x47,0xe7                                                                                       
004132   f0e7                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004134   c0e6     MOVFF     0xe6,0xfde       stackPtr = (UINT8 *)tempStackPointer;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004136   ffde                                                                                                               
004138   c0e7     MOVFF     0xe7,0xfdd                                                                                      
00413a   ffdd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00413c   0e08     MOVLW     0x8              stackPtr += 8;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00413e   26de     ADDWF     0xde,0x1,0x0                                                                                    
004140   0e00     MOVLW     0x0                                                                                             
004142   22dd     ADDWFC    0xdd,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004144   cfd9     MOVFF     0xfd9,0xfe9      while ((UINT16)stackPtr <= 0xEBFu)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004146   ffe9                                                                                                               
004148   cfda     MOVFF     0xfda,0xfea                                                                                     
00414a   ffea                                                                                                               
00414c   0ebf     MOVLW     0xbf                                                                                            
00414e   80d8     BSF       0xd8,0x0,0x0                                                                                    
004150   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
004152   0e0e     MOVLW     0xe                                                                                             
004154   54ed     SUBFWB    0xed,0x0,0x0                                                                                    
004156   e30b     BNC       0x416e                                                                                          
00416c   d7eb     BRA       0x4144                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004158   cfde     MOVFF     0xfde,0xfe9        *stackPtr = 0xEE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00415a   ffe9                                                                                                               
00415c   cfdd     MOVFF     0xfdd,0xfea                                                                                     
00415e   ffea                                                                                                               
004160   0eee     MOVLW     0xee                                                                                            
004162   6eef     MOVWF     0xef,0x0                                                                                        
004164   2adf     INCF      0xdf,0x1,0x0       stackPtr++;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004166   0e01     MOVLW     0x1                                                                                             
004168   e301     BNC       0x416c                                                                                          
00416a   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00416e   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004170   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004172   e202     BC        0x4178                                                                                          
004174   6ae1     CLRF      0xe1,0x0                                                                                        
004176   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004178   6ee1     MOVWF     0xe1,0x0                                                                                        
00417a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00417c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00417e   ffd9                                                                                                               
004180   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Walk backwards in the stack RAM section looking of 0xEEs. When we stop        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // seeing them, then we know that's the highest value of the stack to this point. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Print that location out.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004182   ec20     CALL      0x6840,0x0     void check_high_water(void)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004184   f034                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 nib2;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004186   0ebf     MOVLW     0xbf             UINT8 * stackPtr = (UINT8 *)0xEBF;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004188   6ef3     MOVWF     0xf3,0x0                                                                                        
00418a   0e01     MOVLW     0x1                                                                                             
00418c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00418e   ffdb                                                                                                               
004190   0e0e     MOVLW     0xe                                                                                             
004192   6ef3     MOVWF     0xf3,0x0                                                                                        
004194   0e02     MOVLW     0x2                                                                                             
004196   cff3     MOVFF     0xff3,0xfdb                                                                                     
004198   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419a   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts off                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419c   0e01     MOVLW     0x1              while (*stackPtr == 0xEE)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00419e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0041a0   ffe9                                                                                                               
0041a2   0e02     MOVLW     0x2                                                                                             
0041a4   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0041a6   ffea                                                                                                               
0041a8   50ef     MOVF      0xef,0x0,0x0                                                                                    
0041aa   08ee     SUBLW     0xee                                                                                            
0041ac   e106     BNZ       0x41ba                                                                                          
0041b8   d7f1     BRA       0x419c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ae   0e01     MOVLW     0x1                stackPtr--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041b0   06db     DECF      0xdb,0x1,0x0                                                                                    
0041b2   0e02     MOVLW     0x2                                                                                             
0041b4   e2f3     BC        0x419c                                                                                          
0041b6   06db     DECF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ba   ecee     CALL      0x65dc,0x0       if ((UINT16)stackPtr > gStackHighWater)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041bc   f032                                                                                                               
0041be   0100     MOVLB     0x0                                                                                             
0041c0   5046     MOVF      0x46,0x0,0x0                                                                                    
0041c2   5de0     SUBWF     0xe0,0x0,0x1                                                                                    
0041c4   5047     MOVF      0x47,0x0,0x0                                                                                    
0041c6   59e1     SUBWFB    0xe1,0x0,0x1                                                                                    
0041c8   e206     BC        0x41d6                                                                                          
0065dc   0e01     MOVLW     0x1                                                                                             
0065de   cfdb     MOVFF     0xfdb,0x46                                                                                      
0065e0   f046                                                                                                               
0065e2   0e02     MOVLW     0x2                                                                                             
0065e4   cfdb     MOVFF     0xfdb,0x47                                                                                      
0065e6   f047                                                                                                               
0065e8   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ca   0e01     MOVLW     0x1                gStackHighWater = (UINT16)stackPtr;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041cc   cfdb     MOVFF     0xfdb,0xe0                                                                                      
0041ce   f0e0                                                                                                               
0041d0   0e02     MOVLW     0x2                                                                                             
0041d2   cfdb     MOVFF     0xfdb,0xe1                                                                                      
0041d4   f0e1                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041d6   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041d8   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041da   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0041dc   e202     BC        0x41e2                                                                                          
0041de   6ae1     CLRF      0xe1,0x0                                                                                        
0041e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0041e2   6ee1     MOVWF     0xe1,0x0                                                                                        
0041e4   efec     GOTO      0x63d8                                                                                          
0041e6   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           ///////                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041e8   ec2c     CALL      0x6858,0x0     void UserInit(void)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ea   f034                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 i;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of 3 digital inputs                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ec   6a89     CLRF      0x89,0x0         LATA = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041ee   6892     SETF      0x92,0x0         TRISA = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn all analog inputs into digital inputs                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON1 = 0x0F;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off the ADC                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             //  ADCON0bits.ADON = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn off our own idea of how many analog channels to convert                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f0   0100     MOVLB     0x0              AnalogEnabledChannels = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f2   6ba1     CLRF      0xa1,0x1                                                                                        
0041f4   6ba2     CLRF      0xa2,0x1                                                                                        
                                             // Make all of PORTB inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f6   6a8a     CLRF      0x8a,0x0         LATB = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041f8   6893     SETF      0x93,0x0         TRISB = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make all of PORTC inputs                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041fa   6a8b     CLRF      0x8b,0x0         LATC = 0x00;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041fc   6894     SETF      0x94,0x0         TRISC = 0xFF;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize LED I/Os to outputs                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0041fe   968c     BCF       0x8c,0x3,0x0     mInitAllLEDs();                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004200   948c     BCF       0x8c,0x2,0x0                                                                                    
004202   9695     BCF       0x95,0x3,0x0                                                                                    
004204   9495     BCF       0x95,0x2,0x0                                                                                    
                                             // Initialize switch as an input                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004206   8e92     BSF       0x92,0x7,0x0     mInitSwitch();                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Start off always using "OK" acknowledge.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004208   0e01     MOVLW     0x1              g_ack_enable = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00420a   6fd0     MOVWF     0xd0,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This has been missing for a long time and created problems on boot if not   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // set to zero.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00420c   6b97     CLRF      0x97,0x1         error_byte = 0;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize all of the ISR FIFOs                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00420e   6b95     CLRF      0x95,0x1         ISR_A_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004210   6b94     CLRF      0x94,0x1         ISR_A_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004212   6b96     CLRF      0x96,0x1         ISR_A_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004214   6b90     CLRF      0x90,0x1         ISR_D_FIFO_out = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004216   6b8f     CLRF      0x8f,0x1         ISR_D_FIFO_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004218   6b91     CLRF      0x91,0x1         ISR_D_FIFO_length = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Make sure that our timer stuff starts out disabled                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00421a   6b8d     CLRF      0x8d,0x1         ISR_D_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00421c   6b8e     CLRF      0x8e,0x1                                                                                        
00421e   6b92     CLRF      0x92,0x1         ISR_A_RepeatRate = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004220   6b93     CLRF      0x93,0x1                                                                                        
004222   6b9b     CLRF      0x9b,0x1         D_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004224   6b9c     CLRF      0x9c,0x1                                                                                        
004226   6b9d     CLRF      0x9d,0x1         A_tick_counter = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004228   6b9e     CLRF      0x9e,0x1                                                                                        
00422a   6b9f     CLRF      0x9f,0x1         A_cur_channel = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now init our registers                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize Timer4                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The prescaler will be at 16                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00422c   8276     BSF       0x76,0x1,0x0     T4CONbits.T4CKPS1 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00422e   8076     BSF       0x76,0x0,0x0     T4CONbits.T4CKPS0 = 1;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We want the TMR4 post scaler to be a 3                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004230   9c76     BCF       0x76,0x6,0x0     T4CONbits.T4OUTPS3 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004232   9a76     BCF       0x76,0x5,0x0     T4CONbits.T4OUTPS2 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004234   8876     BSF       0x76,0x4,0x0     T4CONbits.T4OUTPS1 = 1;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004236   9676     BCF       0x76,0x3,0x0     T4CONbits.T4OUTPS0 = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set our reload value                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004238   0efa     MOVLW     0xfa             PR4 = kPR4_RELOAD;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00423a   6e77     MOVWF     0x77,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up the Analog to Digital converter                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the FIFO data                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00423c   6ade     CLRF      0xde,0x0         for (i = 0; i < 16u; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00423e   6add     CLRF      0xdd,0x0                                                                                        
004240   ecb1     CALL      0x6562,0x0                                                                                      
004242   f032                                                                                                               
004244   0e10     MOVLW     0x10                                                                                            
004246   5c46     SUBWF     0x46,0x0,0x0                                                                                    
004248   0e00     MOVLW     0x0                                                                                             
00424a   5847     SUBWFB    0x47,0x0,0x0                                                                                    
00424c   e213     BC        0x4274                                                                                          
00426a   2adf     INCF      0xdf,0x1,0x0                                                                                    
00426c   0e01     MOVLW     0x1                                                                                             
00426e   e3e8     BNC       0x4240                                                                                          
004270   2adb     INCF      0xdb,0x1,0x0                                                                                    
004272   d7e6     BRA       0x4240                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00424e   ecb6     CALL      0x656c,0x0         ISR_A_FIFO[i] = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004250   f032                                                                                                               
004252   0e01     MOVLW     0x1                                                                                             
004254   90d8     BCF       0xd8,0x0,0x0                                                                                    
004256   36e9     RLCF      0xe9,0x1,0x0                                                                                    
004258   36ea     RLCF      0xea,0x1,0x0                                                                                    
00425a   06e8     DECF      0xe8,0x1,0x0                                                                                    
00425c   e1fb     BNZ       0x4254                                                                                          
00425e   0e00     MOVLW     0x0                                                                                             
004260   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004262   0e01     MOVLW     0x1                                                                                             
004264   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004266   6aee     CLRF      0xee,0x0                                                                                        
004268   6aed     CLRF      0xed,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Initialize USB TX and RX buffer management                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004274   0100     MOVLB     0x0              g_RX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004276   6bca     CLRF      0xca,0x1                                                                                        
004278   6bcb     CLRF      0xcb,0x1         g_RX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00427a   6bc8     CLRF      0xc8,0x1         g_TX_buf_in = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00427c   6bc9     CLRF      0xc9,0x1         g_TX_buf_out = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00427e   6ade     CLRF      0xde,0x0         for (i=0; i < kTX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004280   6add     CLRF      0xdd,0x0                                                                                        
004282   ecbd     CALL      0x677a,0x0                                                                                      
004284   f033                                                                                                               
004286   e20a     BC        0x429c                                                                                          
004296   e3f5     BNC       0x4282                                                                                          
004298   2adb     INCF      0xdb,0x1,0x0                                                                                    
00429a   d7f3     BRA       0x4282                                                                                          
00677a   def3     RCALL     0x6562                                                                                          
00677c   0e40     MOVLW     0x40                                                                                            
00677e   5c46     SUBWF     0x46,0x0,0x0                                                                                    
006780   0e00     MOVLW     0x0                                                                                             
006782   5847     SUBWFB    0x47,0x0,0x0                                                                                    
006784   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004288   ecb6     CALL      0x656c,0x0         g_TX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00428a   f032                                                                                                               
00428c   0e00     MOVLW     0x0                                                                                             
00428e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
004290   0e02     MOVLW     0x2                                                                                             
004292   ec18     CALL      0x6630,0x0                                                                                      
004294   f033                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00429c   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_COMMAND_BUF_SIZE; i++)                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00429e   6add     CLRF      0xdd,0x0                                                                                        
0042a0   ecbd     CALL      0x677a,0x0                                                                                      
0042a2   f033                                                                                                               
0042a4   e20a     BC        0x42ba                                                                                          
0042b4   e3f5     BNC       0x42a0                                                                                          
0042b6   2adb     INCF      0xdb,0x1,0x0                                                                                    
0042b8   d7f3     BRA       0x42a0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042a6   ecb6     CALL      0x656c,0x0         g_RX_command_buf[i] = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042a8   f032                                                                                                               
0042aa   0e40     MOVLW     0x40                                                                                            
0042ac   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0042ae   0e02     MOVLW     0x2                                                                                             
0042b0   ec18     CALL      0x6630,0x0                                                                                      
0042b2   f033                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ba   6ade     CLRF      0xde,0x0         for (i=0; i < kRX_BUF_SIZE; i++)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042bc   6add     CLRF      0xdd,0x0                                                                                        
0042be   ecb1     CALL      0x6562,0x0                                                                                      
0042c0   f032                                                                                                               
0042c2   0e00     MOVLW     0x0                                                                                             
0042c4   5c46     SUBWF     0x46,0x0,0x0                                                                                    
0042c6   0e01     MOVLW     0x1                                                                                             
0042c8   5847     SUBWFB    0x47,0x0,0x0                                                                                    
0042ca   e20a     BC        0x42e0                                                                                          
0042da   e3f1     BNC       0x42be                                                                                          
0042dc   2adb     INCF      0xdb,0x1,0x0                                                                                    
0042de   d7ef     BRA       0x42be                                                                                          
006634   2adf     INCF      0xdf,0x1,0x0                                                                                    
006636   0e01     MOVLW     0x1                                                                                             
006638   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042cc   ecb6     CALL      0x656c,0x0         g_RX_buf[i] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ce   f032                                                                                                               
0042d0   0e00     MOVLW     0x0                                                                                             
0042d2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0042d4   0e03     MOVLW     0x3                                                                                             
0042d6   ec18     CALL      0x6630,0x0                                                                                      
0042d8   f033                                                                                                               
006630   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006632   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And the USART TX and RX buffer management                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e0   0100     MOVLB     0x0              g_USART_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e2   6bcc     CLRF      0xcc,0x1                                                                                        
0042e4   6bcd     CLRF      0xcd,0x1         g_USART_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e6   6bce     CLRF      0xce,0x1         g_USART_TX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042e8   6bcf     CLRF      0xcf,0x1         g_USART_TX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out the RC servo output pointer values                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ea   6b98     CLRF      0x98,0x1         g_RC_primed_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ec   6b99     CLRF      0x99,0x1         g_RC_next_ptr = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042ee   6b9a     CLRF      0x9a,0x1         g_RC_timing_ptr = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on band-gap                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042f0   010f     MOVLB     0xf              ANCON1bits.VBGEN = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042f2   8f49     BSF       0x49,0x7,0x1                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Set up ADCON1 options                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A/D Result right justified                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Normal A/D (no calibration)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Acq time = 20 Tad (?)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Tad = Fosc/64                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042f4   0ebe     MOVLW     0xbe             ADCON1 = 0b10111110;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042f6   6ec1     MOVWF     0xc1,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Enable interrupt priorities                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042f8   8ed0     BSF       0xd0,0x7,0x0     RCONbits.IPEN = 1;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042fa   9476     BCF       0x76,0x2,0x0     T4CONbits.TMR4ON = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042fc   86a3     BSF       0xa3,0x3,0x0     PIE3bits.TMR4IE = 1;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0042fe   96a5     BCF       0xa5,0x3,0x0     IPR3bits.TMR4IP = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Call the ebb init function to setup whatever it needs                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004300   ec22     CALL      0x1844,0x0       EBB_Init();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004302   f00c                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004304   ec35     CALL      0x7e6a,0x0       RCServo2_Init();                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004306   f03f                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004308   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIEH = 1;  // Turn high priority interrupts on                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00430a   8cf2     BSF       0xf2,0x6,0x0     INTCONbits.GIEL = 1;  // Turn low priority interrupts on                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Turn on the Timer4                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00430c   8476     BSF       0x76,0x2,0x0     T4CONbits.TMR4ON = 1;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If there's a name in FLASH for us, copy it over to the USB Device           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor before we enumerate                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00430e   ec84     CALL      0x5d08,0x0       populateDeviceStringWithName();                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004310   f02e                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out limit switch variables                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004312   0100     MOVLB     0x0              gLimitSwitchPortB = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004314   6bdc     CLRF      0xdc,0x1                                                                                        
004316   6bdd     CLRF      0xdd,0x1         gLimitSwitchReplies = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004318   6bde     CLRF      0xde,0x1         gLimitSwitchReplyPrinted = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00431a   6bdf     CLRF      0xdf,0x1         gCommandChecksumRequired = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00431c   6a0e     CLRF      0xe,0x0          gLimitSwitchTriggered = 0;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Zero out pulse variables                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulsesOn = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[1] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[2] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[3] = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[1] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[2] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[3] = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[0] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[1] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[2] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseCounters[3] = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00431e   6bd1     CLRF      0xd1,0x1         gRCServoPoweroffCounterMS = 0;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004320   6bd2     CLRF      0xd2,0x1                                                                                        
004322   6bd3     CLRF      0xd3,0x1                                                                                        
004324   6bd4     CLRF      0xd4,0x1                                                                                        
004326   0e60     MOVLW     0x60             gRCServoPoweroffCounterReloadMS = RCSERVO_POWEROFF_DEFAULT_MS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004328   6fd5     MOVWF     0xd5,0x1                                                                                        
00432a   0eea     MOVLW     0xea                                                                                            
00432c   6fd6     MOVWF     0xd6,0x1                                                                                        
00432e   6bd7     CLRF      0xd7,0x1                                                                                        
004330   6bd8     CLRF      0xd8,0x1                                                                                        
004332   0e01     MOVLW     0x1              gAutomaticMotorEnable = TRUE;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004334   6fd9     MOVWF     0xd9,0x1                                                                                        
004336   6be0     CLRF      0xe0,0x1         gStackHighWater = 0;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004338   6be1     CLRF      0xe1,0x1                                                                                        
00433a   6ba5     CLRF      0xa5,0x1         g_PowerMonitorThresholdADC = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00433c   6ba6     CLRF      0xa6,0x1                                                                                        
00433e   6ba9     CLRF      0xa9,0x1         g_StepperDisableTimeoutS = 0;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004340   6baa     CLRF      0xaa,0x1                                                                                        
004342   6bab     CLRF      0xab,0x1         g_StepperDisableSecondCounter = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004344   6bac     CLRF      0xac,0x1                                                                                        
004346   6bad     CLRF      0xad,0x1         g_StepperDisableCountdownS = 0;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004348   6bae     CLRF      0xae,0x1                                                                                        
00434a   6ba8     CLRF      0xa8,0x1         g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00434c   6ba7     CLRF      0xa7,0x1         g_PowerDropDetected = FALSE;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00434e   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004350   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004352   e202     BC        0x4358                                                                                          
004354   6ae1     CLRF      0xe1,0x0                                                                                        
004356   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004358   6ee1     MOVWF     0xe1,0x0                                                                                        
00435a   efec     GOTO      0x63d8                                                                                          
00435c   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void ProcessIO(void)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        In this function, we check for a new packet that just        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  arrived via USB. We do a few checks on the packet to see     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  if it is worthy of us trying to interpret it. If it is,      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  we go and call the proper function based upon the first      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  character of the packet.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  NOTE: We need to see everything in one packet (i.e. we       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  won't treat the USB data as a stream and try to find our     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  start and end of packets within the stream. We just look     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  at the first character of each packet for a command and      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  check that there's a CR as the last character of the         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  packet.                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00435e   ece7     CALL      0x63ce,0x0     void ProcessIO(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004360   f031                                                                                                               
004362   0e05     MOVLW     0x5                                                                                             
004364   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BOOL in_cr = FALSE;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static BYTE last_fifo_size;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char button_state = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned int button_ctr = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             BYTE i;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004366   ecf5     CALL      0x65ea,0x0       BOOL done = FALSE;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004368   f032                                                                                                               
0065ea   0e01     MOVLW     0x1                                                                                             
0065ec   6adb     CLRF      0xdb,0x0                                                                                        
0065ee   0e02     MOVLW     0x2              unsigned char rx_bytes = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065f0   6adb     CLRF      0xdb,0x0                                                                                        
0065f2   0e03     MOVLW     0x3              unsigned char byte_cnt = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065f4   6adb     CLRF      0xdb,0x0                                                                                        
0065f6   0012     RETURN    0x0                                                                                             
                                             unsigned char tst_char;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00436a   ec01     CALL      0x6202,0x0       BlinkUSBStatus();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00436c   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any new I packets (from T command) ready to go out                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00436e   0100     MOVLB     0x0              while (ISR_D_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004370   5191     MOVF      0x91,0x0,0x1                                                                                    
004372   0800     SUBLW     0x0                                                                                             
004374   e20a     BC        0x438a                                                                                          
004388   d7f2     BRA       0x436e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an I packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004376   ec18     CALL      0x5630,0x0         parse_I_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004378   f02b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our I packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00437a   0100     MOVLB     0x0                ISR_D_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00437c   2b90     INCF      0x90,0x1,0x1                                                                                    
00437e   0e03     MOVLW     0x3                if (ISR_D_FIFO_out == kISR_FIFO_D_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004380   5d90     SUBWF     0x90,0x0,0x1                                                                                    
004382   e101     BNZ       0x4386                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004384   6b90     CLRF      0x90,0x1             ISR_D_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004386   0791     DECF      0x91,0x1,0x1       ISR_D_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for a new A packet (from T command) ready to go out                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00438a   5196     MOVF      0x96,0x0,0x1     while (ISR_A_FIFO_length > 0u)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00438c   0800     SUBLW     0x0                                                                                             
00438e   e20a     BC        0x43a4                                                                                          
0043a2   d7f3     BRA       0x438a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spit out an A packet first                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004390   ec35     CALL      0x566a,0x0         parse_A_packet();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004392   f02b                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Then update our A packet FIFO stuff                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004394   0100     MOVLB     0x0                ISR_A_FIFO_out++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004396   2b95     INCF      0x95,0x1,0x1                                                                                    
004398   0e03     MOVLW     0x3                if (ISR_A_FIFO_out == kISR_FIFO_A_DEPTH)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00439a   5d95     SUBWF     0x95,0x0,0x1                                                                                    
00439c   e101     BNZ       0x43a0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00439e   6b95     CLRF      0x95,0x1             ISR_A_FIFO_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a0   0796     DECF      0x96,0x1,0x1       ISR_A_FIFO_length--;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail from here if we're not 'plugged in' to a PC or we're suspended         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if(                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a4   0e20     MOVLW     0x20               (USBDeviceState < CONFIGURED_STATE)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043a6   0105     MOVLB     0x5                                                                                             
0043a8   6ee7     MOVWF     0xe7,0x0                                                                                        
0043aa   19bc     XORWF     0xbc,0x0,0x1                                                                                    
0043ac   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0043ae   d002     BRA       0x43b4                                                                                          
0043b0   34e7     RLCF      0xe7,0x0,0x0                                                                                    
0043b2   d002     BRA       0x43b8                                                                                          
0043b4   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0043b6   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (USBSuspendControl == 1u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043b8   e201     BC        0x43bc           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043ba   d0e5     BRA       0x4586                                                                                          
0043bc   5065     MOVF      0x65,0x0,0x0                                                                                    
0043be   0b02     ANDLW     0x2                                                                                             
0043c0   e001     BZ        0x43c4                                                                                          
0043c2   d0e1     BRA       0x4586                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Pull in some new data if there is new data to pull in                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And we aren't waiting for the current move to finish                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043c4   0e40     MOVLW     0x40             rx_bytes = getsUSBUSART((char *)g_RX_command_buf, kRX_COMMAND_BUF_SIZE);       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043c6   6ee6     MOVWF     0xe6,0x0                                                                                        
0043c8   0e40     MOVLW     0x40                                                                                            
0043ca   6ee6     MOVWF     0xe6,0x0                                                                                        
0043cc   0e02     MOVLW     0x2                                                                                             
0043ce   6ee6     MOVWF     0xe6,0x0                                                                                        
0043d0   ecbe     CALL      0x837c,0x0                                                                                      
0043d2   f041                                                                                                               
0043d4   ec28     CALL      0x6850,0x0                                                                                      
0043d6   f034                                                                                                               
0043d8   6ee7     MOVWF     0xe7,0x0                                                                                        
0043da   0e02     MOVLW     0x2                                                                                             
0043dc   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0043de   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e0   50db     MOVF      0xdb,0x0,0x0     if (rx_bytes > 0u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e2   0800     SUBLW     0x0                                                                                             
0043e4   e274     BC        0x44ce                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e6   0e03     MOVLW     0x3                for (byte_cnt = 0; byte_cnt < rx_bytes; byte_cnt++)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043e8   6adb     CLRF      0xdb,0x0                                                                                        
0043ea   0e02     MOVLW     0x2                                                                                             
0043ec   50db     MOVF      0xdb,0x0,0x0                                                                                    
0043ee   6ef3     MOVWF     0xf3,0x0                                                                                        
0043f0   0e03     MOVLW     0x3                                                                                             
0043f2   ecbb     CALL      0x6576,0x0                                                                                      
0043f4   f032                                                                                                               
0043f6   e26b     BC        0x44ce                                                                                          
0044c8   0e03     MOVLW     0x3                                                                                             
0044ca   2adb     INCF      0xdb,0x1,0x0                                                                                    
0044cc   d78e     BRA       0x43ea                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043f8   0e03     MOVLW     0x3                  tst_char = g_RX_command_buf[byte_cnt];                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0043fa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0043fc   6aea     CLRF      0xea,0x0                                                                                        
0043fe   0f40     ADDLW     0x40                                                                                            
004400   6ee9     MOVWF     0xe9,0x0                                                                                        
004402   0e02     MOVLW     0x2                                                                                             
004404   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
004406   0e04     MOVLW     0x4                                                                                             
004408   cfef     MOVFF     0xfef,0xfdb                                                                                     
00440a   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00440c   a809     BTFSS     0x9,0x4,0x0          if (bittst(TestMode, TEST_MODE_USART_COMMAND_NUM))                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00440e   d005     BRA       0x441a                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004410   cfdb     MOVFF     0xfdb,0xfe6            Write1USART(tst_char);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004412   ffe6                                                                                                               
004414   eca7     CALL      0x914e,0x0                                                                                      
004416   f048                                                                                                               
004418   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check to see if we are in a CR/LF situation                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 if (                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00441a   0101     MOVLB     0x1                    !in_cr                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00441c   5178     MOVF      0x78,0x0,0x1                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   (                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004420   0e0d     MOVLW     0xd                      kCR == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004422   6e46     MOVWF     0x46,0x0                                                                                        
004424   0e04     MOVLW     0x4                                                                                             
004426   50db     MOVF      0xdb,0x0,0x0                                                                                    
004428   5c46     SUBWF     0x46,0x0,0x0             ||                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00442c   0e0a     MOVLW     0xa                      kLF == tst_char                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00442e   6e47     MOVWF     0x47,0x0                                                                                        
004430   0e04     MOVLW     0x4                                                                                             
004432   50db     MOVF      0xdb,0x0,0x0                                                                                    
00442a   e006     BZ        0x4438                 )                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004434   5c47     SUBWF     0x47,0x0,0x0                                                                                    
004436   e111     BNZ       0x445a                                                                                          
00441e   e11d     BNZ       0x445a               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004438   0e01     MOVLW     0x1                    in_cr = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00443a   6f78     MOVWF     0x78,0x1                                                                                        
00443c   0100     MOVLB     0x0                    g_RX_buf[g_RX_buf_in] = kCR;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00443e   ecd5     CALL      0x65aa,0x0                                                                                      
004440   f032                                                                                                               
004442   0e0d     MOVLW     0xd                                                                                             
004444   6eef     MOVWF     0xef,0x0                                                                                        
004446   2bca     INCF      0xca,0x1,0x1           g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // At this point, we know we have a full packet                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // of information from the PC to parse                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Now, if we've gotten a full command (user send <CR>) then             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // go call the code that deals with that command, and then               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // keep parsing. (This allows multiple small commands per packet)        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004448   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00444a   808b     BSF       0x8b,0x0,0x0             LATCbits.LATC0 = 1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00444c   d8f9     RCALL     0x4640                 parse_packet();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00444e   b009     BTFSC     0x9,0x0,0x0            if (bittstzero(TestMode)) // TEST_MODE_PARSING_COMMAND_NUM               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004450   908b     BCF       0x8b,0x0,0x0             LATCbits.LATC0 = 0;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004452   0100     MOVLB     0x0                    g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004454   6bca     CLRF      0xca,0x1                                                                                        
004456   6bcb     CLRF      0xcb,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004458   d02a     BRA       0x44ae               else if (tst_char == 8u && g_RX_buf_in > 0u)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00445a   0e04     MOVLW     0x4                                                                                             
00445c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00445e   0808     SUBLW     0x8                                                                                             
004460   e10e     BNZ       0x447e                                                                                          
004462   0100     MOVLB     0x0                                                                                             
004464   51ca     MOVF      0xca,0x0,0x1                                                                                    
004466   0800     SUBLW     0x0                                                                                             
004468   e20a     BC        0x447e                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Handle the backspace thing                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446a   07ca     DECF      0xca,0x1,0x1           g_RX_buf_in--;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446c   ecd5     CALL      0x65aa,0x0             g_RX_buf[g_RX_buf_in] = 0x00;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00446e   f032                                                                                                               
004470   6aef     CLRF      0xef,0x0                                                                                        
004472   0e67     MOVLW     0x67                   ebb_print((far rom char *)" \b");                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004474   6e46     MOVWF     0x46,0x0                                                                                        
004476   0e7e     MOVLW     0x7e                                                                                            
004478   eccb     CALL      0x6396,0x0                                                                                      
00447a   f031                                                                                                               
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00447c   d018     BRA       0x44ae               else if (                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00447e   0e04     MOVLW     0x4                    tst_char != kCR                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004480   50db     MOVF      0xdb,0x0,0x0                                                                                    
004482   080d     SUBLW     0xd                    &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004486   0e04     MOVLW     0x4                    tst_char != kLF                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004488   50db     MOVF      0xdb,0x0,0x0                                                                                    
004484   e014     BZ        0x44ae                 &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00448a   080a     SUBLW     0xa                                                                                             
00448c   e010     BZ        0x44ae                                                                                          
00448e   0e20     MOVLW     0x20                   tst_char >= 32u                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004490   6ef3     MOVWF     0xf3,0x0             )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004492   0e04     MOVLW     0x4                                                                                             
004494   ecbb     CALL      0x6576,0x0                                                                                      
004496   f032                                                                                                               
004498   e30a     BNC       0x44ae                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Only add a byte if it is not a CR or LF                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00449a   0100     MOVLB     0x0                    g_RX_buf[g_RX_buf_in] = tst_char;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00449c   ecd5     CALL      0x65aa,0x0                                                                                      
00449e   f032                                                                                                               
0044a0   0e04     MOVLW     0x4                                                                                             
0044a2   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0044a4   ffef                                                                                                               
0065aa   51ca     MOVF      0xca,0x0,0x1                                                                                    
0065ac   ef5f     GOTO      0x66be                                                                                          
0065ae   f033                                                                                                               
0066be   6aea     CLRF      0xea,0x0                                                                                        
0066c0   0f00     ADDLW     0x0                                                                                             
0066c2   6ee9     MOVWF     0xe9,0x0                                                                                        
0066c4   0e03     MOVLW     0x3                                                                                             
0066c6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0066c8   0012     RETURN    0x0                                                                                             
0044a6   0101     MOVLB     0x1                    in_cr = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044a8   6b78     CLRF      0x78,0x1                                                                                        
0044aa   0100     MOVLB     0x0                    g_RX_buf_in++;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ac   2bca     INCF      0xca,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Check for buffer wraparound                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ae   0100     MOVLB     0x0                  if (kRX_BUF_SIZE == g_RX_buf_in)                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044b0   51ca     MOVF      0xca,0x0,0x1                                                                                    
0044b2   6e46     MOVWF     0x46,0x0                                                                                        
0044b4   6a47     CLRF      0x47,0x0                                                                                        
0044b6   0e00     MOVLW     0x0                                                                                             
0044b8   1846     XORWF     0x46,0x0,0x0                                                                                    
0044ba   e106     BNZ       0x44c8                                                                                          
0044bc   0e01     MOVLW     0x1                                                                                             
0044be   1847     XORWF     0x47,0x0,0x0                                                                                    
0044c0   e103     BNZ       0x44c8                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c2   8797     BSF       0x97,0x3,0x1           bitset(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN);                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c4   6bca     CLRF      0xca,0x1               g_RX_buf_in = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044c6   6bcb     CLRF      0xcb,0x1               g_RX_buf_out = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for any errors logged in error_byte that need to be sent out          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ce   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d0   5197     MOVF      0x97,0x0,0x1                                                                                    
0044d2   e039     BZ        0x4546                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d4   a197     BTFSS     0x97,0x0,0x1       if (bittstzero(error_byte))                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d6   d005     BRA       0x44e2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044d8   0e63     MOVLW     0x63                 ebb_print((far rom char *)"!0 ");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044da   6e46     MOVWF     0x46,0x0                                                                                        
0044dc   0e7e     MOVLW     0x7e                                                                                            
0044de   ec57     CALL      0x66ae,0x0                                                                                      
0044e0   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e2   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_STEPS_TO_FAST))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e4   a397     BTFSS     0x97,0x1,0x1                                                                                    
0044e6   d005     BRA       0x44f2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Unused as of yet                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044e8   0e46     MOVLW     0x46                 ebb_print((far rom char *)"!1 Err: Can't step that fast");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044ea   6e46     MOVWF     0x46,0x0                                                                                        
0044ec   0e7e     MOVLW     0x7e                                                                                            
0044ee   ec57     CALL      0x66ae,0x0                                                                                      
0044f0   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044f2   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_TX_BUF_OVERRUN))                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044f4   a597     BTFSS     0x97,0x2,0x1                                                                                    
0044f6   d005     BRA       0x4502                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044f8   0e2c     MOVLW     0x2c                 ebb_print((far rom char *)"!2 Err: TX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0044fa   6e46     MOVWF     0x46,0x0                                                                                        
0044fc   0e7e     MOVLW     0x7e                                                                                            
0044fe   ec57     CALL      0x66ae,0x0                                                                                      
004500   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004502   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_RX_BUFFER_OVERRUN))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004504   a797     BTFSS     0x97,0x3,0x1                                                                                    
004506   d005     BRA       0x4512                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004508   0e12     MOVLW     0x12                 ebb_print((far rom char *)"!3 Err: RX Buffer overrun");                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00450a   6e46     MOVWF     0x46,0x0                                                                                        
00450c   0e7e     MOVLW     0x7e                                                                                            
00450e   ec57     CALL      0x66ae,0x0                                                                                      
004510   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004512   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_MISSING_PARAMETER))                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004514   a997     BTFSS     0x97,0x4,0x1                                                                                    
004516   d005     BRA       0x4522                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004518   0ef5     MOVLW     0xf5                 ebb_print((far rom char *)"!4 Err: Missing parameter(s)");                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00451a   6e46     MOVWF     0x46,0x0                                                                                        
00451c   0e7d     MOVLW     0x7d                                                                                            
00451e   ec57     CALL      0x66ae,0x0                                                                                      
004520   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004522   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_PRINTED_ERROR))                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We don't need to do anything since something has already been printed out D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //printf ((rom char *)"!5");                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 //print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004524   ad97     BTFSS     0x97,0x6,0x1       if (bittst(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT))                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004526   d005     BRA       0x4532                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004528   0ed5     MOVLW     0xd5                 ebb_print((far rom char *)"!6 Err: Invalid parameter value");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00452a   6e46     MOVWF     0x46,0x0                                                                                        
00452c   0e7d     MOVLW     0x7d                                                                                            
00452e   ec57     CALL      0x66ae,0x0                                                                                      
004530   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004532   0100     MOVLB     0x0                if (bittst(error_byte, kERROR_BYTE_EXTRA_CHARACTERS))                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004534   af97     BTFSS     0x97,0x7,0x1                                                                                    
004536   d005     BRA       0x4542                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004538   0ebd     MOVLW     0xbd                 ebb_print((far rom char *)"!7 Err: Extra parameter");                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00453a   6e46     MOVWF     0x46,0x0                                                                                        
00453c   0e7d     MOVLW     0x7d                                                                                            
00453e   ec57     CALL      0x66ae,0x0                                                                                      
004540   f033                                                                                                               
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004542   0100     MOVLB     0x0                error_byte = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004544   6b97     CLRF      0x97,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we need to print out a "Limit switch triggered" packet to the PC D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004546   51dd     MOVF      0xdd,0x0,0x1     if (gLimitSwitchReplies)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004548   e01d     BZ        0x4584                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00454a   0e01     MOVLW     0x1                if (bittstzero(gLimitSwitchTriggered) && !gLimitSwitchReplyPrinted)          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00454c   140e     ANDWF     0xe,0x0,0x0                                                                                     
00454e   e014     BZ        0x4578                                                                                          
004550   51de     MOVF      0xde,0x0,0x1                                                                                    
004552   e112     BNZ       0x4578                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004554   0e9e     MOVLW     0x9e                 ebb_print((far rom char *)"Limit switch triggered. PortB=");               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004556   6e46     MOVWF     0x46,0x0                                                                                        
004558   0e7d     MOVLW     0x7d                                                                                            
00455a   eccb     CALL      0x6396,0x0                                                                                      
00455c   f031                                                                                                               
                                                 // We want 2 characters of hex                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00455e   0e02     MOVLW     0x2                  ebb_print_hex(gLimitSwitchPortB, 2);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004560   6ee6     MOVWF     0xe6,0x0                                                                                        
004562   c0dc     MOVFF     0xdc,0x46                                                                                       
004564   f046                                                                                                               
004566   6a47     CLRF      0x47,0x0                                                                                        
004568   ecf0     CALL      0x63e0,0x0                                                                                      
00456a   f031                                                                                                               
00456c   ecd5     CALL      0x63aa,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00456e   f031                                                                                                               
004570   0100     MOVLB     0x0                  gLimitSwitchReplyPrinted = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004572   0e01     MOVLW     0x1                                                                                             
004574   6fde     MOVWF     0xde,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004576   d006     BRA       0x4584             else if (!bittstzero(gLimitSwitchTriggered) && gLimitSwitchReplyPrinted)     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004578   0e01     MOVLW     0x1                                                                                             
00457a   140e     ANDWF     0xe,0x0,0x0                                                                                     
00457c   e103     BNZ       0x4584                                                                                          
00457e   51de     MOVF      0xde,0x0,0x1                                                                                    
004580   e001     BZ        0x4584                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004582   6bde     CLRF      0xde,0x1             gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Go send any data that needs sending to PC                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004584   d837     RCALL     0x45f4           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004586   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004588   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00458a   e202     BC        0x4590                                                                                          
00458c   6ae1     CLRF      0xe1,0x0                                                                                        
00458e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004590   6ee1     MOVWF     0xe1,0x0                                                                                        
004592   efec     GOTO      0x63d8                                                                                          
004594   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This is our replacement for the standard putc routine                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This enables ebb_print() and all related functions to print to                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the USB output (i.e. to the PC) buffer                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004596   ec85     CALL      0x670a,0x0     int ebb_putc(char c)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004598   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00459a   c0c8     MOVFF     0xc8,0xfdf       BYTE OldPtr = g_TX_buf_in;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00459c   ffdf                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if adding this byte will cause us to be full                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00459e   2adf     INCF      0xdf,0x1,0x0     OldPtr++;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045a0   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == OldPtr)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045a2   ec29     CALL      0x6452,0x0                                                                                      
0045a4   f032                                                                                                               
0045a6   e101     BNZ       0x45aa                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045a8   6adf     CLRF      0xdf,0x0           OldPtr = 0;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If so, then wait until some bytes go away first and make room               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045aa   0100     MOVLB     0x0              if (OldPtr == g_TX_buf_out)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ac   51c9     MOVF      0xc9,0x0,0x1                                                                                    
0045ae   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0045b0   e101     BNZ       0x45b4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b2   d820     RCALL     0x45f4             check_and_send_TX_data();                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Copy the character into the output buffer                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b4   0100     MOVLB     0x0              g_TX_buf[g_TX_buf_in] = c;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045b6   51c8     MOVF      0xc8,0x0,0x1                                                                                    
0045b8   6aea     CLRF      0xea,0x0                                                                                        
0045ba   0f00     ADDLW     0x0                                                                                             
0045bc   6ee9     MOVWF     0xe9,0x0                                                                                        
0045be   0e02     MOVLW     0x2                                                                                             
0045c0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0045c2   0efe     MOVLW     0xfe                                                                                            
0045c4   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0045c6   ffef                                                                                                               
0045c8   2bc8     INCF      0xc8,0x1,0x1     g_TX_buf_in++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for wrap around                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045ca   0e40     MOVLW     0x40             if (kTX_BUF_SIZE == g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045cc   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
0045ce   e101     BNZ       0x45d2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045d0   6bc8     CLRF      0xc8,0x1           g_TX_buf_in = 0;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Also check to see if we bumped up against our output pointer                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045d2   51c9     MOVF      0xc9,0x0,0x1     if (g_TX_buf_in == g_TX_buf_out)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045d4   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
0045d6   e101     BNZ       0x45da                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045d8   8597     BSF       0x97,0x2,0x1       bitset(error_byte, kERROR_BYTE_TX_BUF_OVERRUN);                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045da   0efe     MOVLW     0xfe             return(c);                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045dc   cfdb     MOVFF     0xfdb,0x46                                                                                      
0045de   f046                                                                                                               
0045e0   6a47     CLRF      0x47,0x0                                                                                        
0045e2   be46     BTFSC     0x46,0x7,0x0                                                                                    
0045e4   6847     SETF      0x47,0x0                                                                                        
0045e6   c046     MOVFF     0x46,0xff3                                                                                      
0045e8   fff3                                                                                                               
0045ea   c047     MOVFF     0x47,0xff4                                                                                      
0045ec   fff4                                                                                                               
0045ee   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045f0   efec     GOTO      0x63d8                                                                                          
0045f2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // In this function, we check to see if we have anything to transmit.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so then we schedule the data for sending.                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045f4   ec85     CALL      0x670a,0x0     void check_and_send_TX_data(void)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045f6   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             char temp;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only send if there's something there to send                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045f8   0100     MOVLB     0x0              if (g_TX_buf_out != g_TX_buf_in)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0045fa   51c8     MOVF      0xc8,0x0,0x1                                                                                    
0045fc   5dc9     SUBWF     0xc9,0x0,0x1                                                                                    
0045fe   e01d     BZ        0x463a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yes, Microchip says not to do this. We'll be blocking                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // here until there's room in the USB stack to send                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // something new. But without making our buffers huge,                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // I don't know how else to do it.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004600   0105     MOVLB     0x5                while (!USBUSARTIsTxTrfReady())                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004602   51a4     MOVF      0xa4,0x0,0x1                                                                                    
004604   e005     BZ        0x4610                                                                                          
00460e   d7f8     BRA       0x4600                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004606   ec4a     CALL      0x8494,0x0           CDCTxService();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004608   f042                                                                                                               
                                           #if defined(USB_POLLING)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00460a   ecb6     CALL      0x696c,0x0           USBDeviceTasks();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00460c   f034                                                                                                               
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now we know that the stack can transmit some new data                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now decide if we need to break it up into two parts or not                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004610   0100     MOVLB     0x0                if (g_TX_buf_in > g_TX_buf_out)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004612   51c9     MOVF      0xc9,0x0,0x1                                                                                    
004614   80d8     BSF       0xd8,0x0,0x0                                                                                    
004616   55c8     SUBFWB    0xc8,0x0,0x1                                                                                    
004618   e207     BC        0x4628                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is beyond OUT, only need one chunk                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00461a   51c9     MOVF      0xc9,0x0,0x1         temp = g_TX_buf_in - g_TX_buf_out;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00461c   5dc8     SUBWF     0xc8,0x0,0x1                                                                                    
00461e   ec5c     CALL      0x64b8,0x0                                                                                      
0064b8   6edf                                                                                                               
004620   f032     WORD2     0x32                 putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064ba   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
0064bc   ffe6                                                                                                               
0064be   51c9     MOVF      0xc9,0x0,0x1                                                                                    
0064c0   6a47     CLRF      0x47,0x0                                                                                        
0064c2   0f00     ADDLW     0x0                                                                                             
0064c4   6e46     MOVWF     0x46,0x0                                                                                        
0064c6   0e02     MOVLW     0x2                                                                                             
0064c8   2247     ADDWFC    0x47,0x1,0x0                                                                                    
0064ca   c046     MOVFF     0x46,0xfe6                                                                                      
0064cc   ffe6                                                                                                               
0064ce   c047     MOVFF     0x47,0xfe6                                                                                      
0064d0   ffe6                                                                                                               
0064d2   ecfd     CALL      0x83fa,0x0                                                                                      
0064d4   f041                                                                                                               
0064d6   ef28     GOTO      0x6850                                                                                          
0064d8   f034                                                                                                               
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004622   c0c8     MOVFF     0xc8,0xc9            g_TX_buf_out = g_TX_buf_in;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004624   f0c9                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004626   d007     BRA       0x4636             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Since IN is before OUT, we need to send from OUT to the end             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // of the buffer, then the next time around we'll catch                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // from the beginning to IN.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004628   0e40     MOVLW     0x40                 temp = kTX_BUF_SIZE - g_TX_buf_out;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00462a   80d8     BSF       0xd8,0x0,0x0                                                                                    
00462c   55c9     SUBFWB    0xc9,0x0,0x1                                                                                    
00462e   ec5c     CALL      0x64b8,0x0                                                                                      
004630   f032                                    putUSBUSART((char *)&g_TX_buf[g_TX_buf_out], temp);                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Now that we've scheduled the data for sending,                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // update the pointer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004632   0100     MOVLB     0x0                  g_TX_buf_out = 0;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004634   6bc9     CLRF      0xc9,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004636   ec4a     CALL      0x8494,0x0         CDCTxService();                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004638   f042                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00463a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00463c   efec     GOTO      0x63d8                                                                                          
00463e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the new packet, see what command it is, and                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // route it appropriately. We come in knowing that                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // our packet is in g_RX_buf[], and that the beginning                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the packet is at g_RX_buf_out, and the end (CR) is at                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in - 1. Note that because of buffer wrapping,                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // g_RX_buf_in may be less than g_RX_buf_out.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // New for v3.0.0: if gCommandChecksumRequired is true, then look at the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // of the command packet for the checksum, and if it is not there or not         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // correct, error out.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004640   ece7     CALL      0x63ce,0x0     void parse_packet(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004642   f031                                                                                                               
004644   0e09     MOVLW     0x9                                                                                             
004646   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004648   6ade     CLRF      0xde,0x0         UINT16 command = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00464a   6add     CLRF      0xdd,0x0                                                                                        
00464c   0e02     MOVLW     0x2              UINT8 checksum_cmd = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00464e   6adb     CLRF      0xdb,0x0                                                                                        
004650   0e03     MOVLW     0x3              UINT8 checksum_calc = 0;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004652   6adb     CLRF      0xdb,0x0                                                                                        
                                             UINT8 checksum_ptr;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004654   0e05     MOVLW     0x5              UINT8 checksum_len = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004656   6adb     CLRF      0xdb,0x0                                                                                        
004658   0e01     MOVLW     0x1              BOOL checksumOK = TRUE;   // Starts out true for no checksum case              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00465a   6ef3     MOVWF     0xf3,0x0                                                                                        
00465c   0e06     MOVLW     0x6                                                                                             
00465e   cff3     MOVFF     0xff3,0xfdb                                                                                     
004660   ffdb                                                                                                               
                                             UINT8 old_rx_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004662   0100     MOVLB     0x0              gCommand_Char1 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004664   6bda     CLRF      0xda,0x1                                                                                        
004666   6bdb     CLRF      0xdb,0x1         gCommand_Char2 = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004668   51df     MOVF      0xdf,0x0,0x1     if (gCommandChecksumRequired)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00466a   e101     BNZ       0x466e                                                                                          
00466c   d08e     BRA       0x478a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00466e   0e06     MOVLW     0x6                checksumOK = FALSE;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004670   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Walk backwards from the end of the packet, looking for the first found    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // comma, then read out                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004672   0e04     MOVLW     0x4                checksum_ptr = g_RX_buf_in;                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004674   c0ca     MOVFF     0xca,0xfdb                                                                                      
004676   ffdb                                                                                                               
004678   50db     MOVF      0xdb,0x0,0x0       if (checksum_ptr != 0u)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00467a   e003     BZ        0x4682                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00467c   0e04     MOVLW     0x4                  checksum_ptr--;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00467e   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004680   d002     BRA       0x4686             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004682   0e04     MOVLW     0x4                  checksum_ptr = kRX_BUF_SIZE - 1;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004684   68db     SETF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004686   0e04     MOVLW     0x4                while ((g_RX_buf[checksum_ptr] != ',') && (checksum_len < 5u) && (checksum_ptr != g_RX_buf_out)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004688   ec91     CALL      0x6522,0x0                                                                                      
00468a   f032                                                                                                               
00468c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00468e   082c     SUBLW     0x2c                                                                                            
004690   e016     BZ        0x46be                                                                                          
004692   0e05     MOVLW     0x5                                                                                             
004694   6ef3     MOVWF     0xf3,0x0                                                                                        
004696   cfdb     MOVFF     0xfdb,0xff4                                                                                     
004698   fff4                                                                                                               
00469a   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00469c   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
00469e   e20f     BC        0x46be                                                                                          
0046a0   0e04     MOVLW     0x4                                                                                             
0046a2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0046a4   5dcb     SUBWF     0xcb,0x0,0x1                                                                                    
0046a6   e00b     BZ        0x46be                                                                                          
0046bc   d7e4     BRA       0x4686                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046a8   0e04     MOVLW     0x4                  if (checksum_ptr != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046aa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0046ac   e003     BZ        0x46b4                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046ae   0e04     MOVLW     0x4                    checksum_ptr--;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046b0   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046b2   d002     BRA       0x46b8               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046b4   0e04     MOVLW     0x4                    checksum_ptr = kRX_BUF_SIZE - 1;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046b6   68db     SETF      0xdb,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046b8   0e05     MOVLW     0x5                  checksum_len++;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046ba   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If checksum_ptr isn't on a comma then there is no checksum for sure       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // so let checksumOK stay FALSE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046be   0e04     MOVLW     0x4                if (g_RX_buf[checksum_ptr] == ',')                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046c0   ec91     CALL      0x6522,0x0                                                                                      
0046c2   f032                                                                                                               
0046c4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0046c6   082c     SUBLW     0x2c                                                                                            
0046c8   e157     BNZ       0x4778                                                                                          
006522   50db     MOVF      0xdb,0x0,0x0                                                                                    
006524   ef5f     GOTO      0x66be                                                                                          
006526   f033                                                                                                               
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Last parameter found, hopefully it's a checksum. Read it in.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // We have to play some games with the buffer index values here            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // since we're extracting a parameter at the very end of the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // before we extract any from the beginning (as part of normal command     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // processing)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046ca   0e07     MOVLW     0x7                  old_rx_buf_out = g_RX_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046cc   c0cb     MOVFF     0xcb,0xfdb                                                                                      
0046ce   ffdb                                                                                                               
0046d0   0e04     MOVLW     0x4                  g_RX_buf_out = checksum_ptr;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046d2   cfdb     MOVFF     0xfdb,0xcb                                                                                      
0046d4   f0cb                                                                                                               
                                                 // We're going to ignore the return value from extract_number() since      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // we'll get a failure anyway since the checksum value won't match.        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046d6   6ae6     CLRF      0xe6,0x0             extract_number(kUCHAR, &checksum_cmd, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046d8   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0046da   0f02     ADDLW     0x2                                                                                             
0046dc   ec27     CALL      0x664e,0x0                                                                                      
0046de   f033                                                                                                               
0046e0   0e07     MOVLW     0x7                  g_RX_buf_out = old_rx_buf_out;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046e2   cfdb     MOVFF     0xfdb,0xcb                                                                                      
0046e4   f0cb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Compute the checksum of the packet up to checksum_ptr                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046e6   0e08     MOVLW     0x8                  i = g_RX_buf_out;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046e8   c0cb     MOVFF     0xcb,0xfdb                                                                                      
0046ea   ffdb                                                                                                               
0046ec   0e04     MOVLW     0x4                  while(i != checksum_ptr)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046ee   50db     MOVF      0xdb,0x0,0x0                                                                                    
0046f0   6ef3     MOVWF     0xf3,0x0                                                                                        
0046f2   0e08     MOVLW     0x8                                                                                             
0046f4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0046f6   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
0046f8   e018     BZ        0x472a                                                                                          
004728   d7e1     BRA       0x46ec                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046fa   0e08     MOVLW     0x8                    checksum_calc += g_RX_buf[i];                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0046fc   ec91     CALL      0x6522,0x0                                                                                      
0046fe   f032                                                                                                               
004700   0e03     MOVLW     0x3                                                                                             
004702   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
004704   ffe7                                                                                                               
004706   50ef     MOVF      0xef,0x0,0x0                                                                                    
004708   26e7     ADDWF     0xe7,0x1,0x0                                                                                    
00470a   0e03     MOVLW     0x3                                                                                             
00470c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00470e   ffdb                                                                                                               
004710   0e08     MOVLW     0x8                    i++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004712   2adb     INCF      0xdb,0x1,0x0                                                                                    
004714   50db     MOVF      0xdb,0x0,0x0           if (i == kRX_BUF_SIZE)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004716   6e46     MOVWF     0x46,0x0                                                                                        
004718   6a47     CLRF      0x47,0x0                                                                                        
00471a   50e8     MOVF      0xe8,0x0,0x0                                                                                    
00471c   e1e7     BNZ       0x46ec                                                                                          
00471e   0e01     MOVLW     0x1                                                                                             
004720   1847     XORWF     0x47,0x0,0x0                                                                                    
004722   e1e4     BNZ       0x46ec                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004724   0e08     MOVLW     0x8                      i = 0;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004726   6adb     CLRF      0xdb,0x0                                                                                        
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00472a   0e03     MOVLW     0x3                  checksum_calc = (~checksum_calc)+1;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00472c   1cdb     COMF      0xdb,0x0,0x0                                                                                    
00472e   0f01     ADDLW     0x1                                                                                             
004730   6ee7     MOVWF     0xe7,0x0                                                                                        
004732   0e03     MOVLW     0x3                                                                                             
004734   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
004736   ffdb                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // See if it matches                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004738   0e02     MOVLW     0x2                  if (checksum_calc == checksum_cmd)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00473a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00473c   6ef3     MOVWF     0xf3,0x0                                                                                        
00473e   0e03     MOVLW     0x3                                                                                             
004740   50db     MOVF      0xdb,0x0,0x0                                                                                    
004742   5cf3     SUBWF     0xf3,0x0,0x0                                                                                    
004744   e10b     BNZ       0x475c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // All is good, allow command to proceed                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004746   0e01     MOVLW     0x1                    checksumOK = TRUE;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004748   6ef3     MOVWF     0xf3,0x0                                                                                        
00474a   0e06     MOVLW     0x6                                                                                             
00474c   cff3     MOVFF     0xff3,0xfdb                                                                                     
00474e   ffdb                                                                                                               
                                                   // Need to fake out the command parsing, make it think the packet        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ends where it expects it to end. It doesn't want to see the comma     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // before the checksum.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004750   0e04     MOVLW     0x4                    g_RX_buf[checksum_ptr] = kCR;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004752   ec91     CALL      0x6522,0x0                                                                                      
004754   f032                                                                                                               
004756   0e0d     MOVLW     0xd                                                                                             
004758   6eef     MOVWF     0xef,0x0                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00475a   d017     BRA       0x478a               else                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00475c   0e78     MOVLW     0x78                   ebb_print((far rom char *)"!8 Err: Checksum incorrect, expected ");      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00475e   6e46     MOVWF     0x46,0x0                                                                                        
004760   0e7d     MOVLW     0x7d                                                                                            
004762   eccb     CALL      0x6396,0x0                                                                                      
004764   f031                                                                                                               
004766   0e03     MOVLW     0x3                    ebb_print_uint(checksum_calc);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004768   ecd1     CALL      0x65a2,0x0                                                                                      
00476a   f032                                                                                                               
00476c   ec4c     CALL      0x6898,0x0                                                                                      
00476e   f034                                                                                                               
004770   ec6b     CALL      0x86d6,0x0                                                                                      
004772   f043                                                                                                               
004774   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                   print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004776   d005     BRA       0x4782             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004778   0e4f     MOVLW     0x4f                 ebb_print((far rom char *)"!8 Err: Checksum not found but required.");     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00477a   6e46     MOVWF     0x46,0x0                                                                                        
00477c   0e7d     MOVLW     0x7d                                                                                            
00477e   ec7c     CALL      0x66f8,0x0                                                                                      
004780   f033                                                                                                               
004782   ec28     CALL      0x6850,0x0                                                                                      
004784   f034                                                                                                               
0066f8   6e47     MOVWF     0x47,0x0                                                                                        
0066fa   6a48     CLRF      0x48,0x0                                                                                        
0066fc   c046     MOVFF     0x46,0xfe6                                                                                      
0066fe   ffe6                                                                                                               
006700   6ee6     MOVWF     0xe6,0x0                                                                                        
006702   c048     MOVFF     0x48,0xfe6                                                                                      
006704   ffe6                                                                                                               
006706   ef14     GOTO      0x8628                                                                                          
006708   f043                                                                                                               
004786   ecd5     CALL      0x63aa,0x0           print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004788   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00478a   0e06     MOVLW     0x6              if (checksumOK)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00478c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00478e   e101     BNZ       0x4792                                                                                          
004790   d25e     BRA       0x4c4e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Always grab the first character (which is the first byte of the command)  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004792   0100     MOVLB     0x0                gCommand_Char1 = toupper(g_RX_buf[g_RX_buf_out]);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004794   ecd8     CALL      0x63b0,0x0                                                                                      
004796   f031                                                                                                               
004798   ecfc     CALL      0x65f8,0x0                                                                                      
00479a   f032                                                                                                               
00479c   cff3     MOVFF     0xff3,0xda                                                                                      
00479e   f0da                                                                                                               
0065f8   6ee6     MOVWF     0xe6,0x0                                                                                        
0065fa   6ae6     CLRF      0xe6,0x0                                                                                        
0065fc   ecbe     CALL      0x917c,0x0                                                                                      
0065fe   f048                                                                                                               
006600   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006602   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006604   0012     RETURN    0x0                                                                                             
0047a0   0100     MOVLB     0x0                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0047a2   ecff     CALL      0x63fe,0x0                                                                                      
0047a4   f031                                                                                                               
0047a6   e104     BNZ       0x47b0                                                                                          
0047a8   0e01     MOVLW     0x1                                                                                             
0047aa   1847     XORWF     0x47,0x0,0x0                                                                                    
0047ac   e101     BNZ       0x47b0                                                                                          
0047ae   6bcb     CLRF      0xcb,0x1                                                                                        
0047b0   51da     MOVF      0xda,0x0,0x1       command = gCommand_Char1;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0047b2   6ede     MOVWF     0xde,0x0                                                                                        
0047b4   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only grab second one if it is not a comma                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0047b6   ecd8     CALL      0x63b0,0x0         if (g_RX_buf[g_RX_buf_out] != (BYTE)',' && g_RX_buf[g_RX_buf_out] != kCR && g_RX_buf[g_RX_buf_out] != kLF) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0047b8   f031                                                                                                               
0047ba   082c     SUBLW     0x2c                                                                                            
0047bc   e023     BZ        0x4804                                                                                          
0047be   ecd8     CALL      0x63b0,0x0                                                                                      
0047c0   f031                                                                                                               
0047c2   080d     SUBLW     0xd                                                                                             
0047c4   e01f     BZ        0x4804                                                                                          
0047c6   ecd8     CALL      0x63b0,0x0                                                                                      
0047c8   f031                                                                                                               
0047ca   080a     SUBLW     0xa                                                                                             
0047cc   e01b     BZ        0x4804                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0047ce   ecd8     CALL      0x63b0,0x0           gCommand_Char2 = toupper(g_RX_buf[g_RX_buf_out]);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0047d0   f031                                                                                                               
0047d2   ecfc     CALL      0x65f8,0x0                                                                                      
0047d4   f032                                                                                                               
0047d6   cff3     MOVFF     0xff3,0xdb                                                                                      
0047d8   f0db                                                                                                               
0047da   0100     MOVLB     0x0                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0047dc   ecff     CALL      0x63fe,0x0                                                                                      
0047de   f031                                                                                                               
0047e0   e104     BNZ       0x47ea                                                                                          
0047e2   0e01     MOVLW     0x1                                                                                             
0047e4   1847     XORWF     0x47,0x0,0x0                                                                                    
0047e6   e101     BNZ       0x47ea                                                                                          
0047e8   6bcb     CLRF      0xcb,0x1                                                                                        
0047ea   c0da     MOVFF     0xda,0x49            command = ((unsigned int)(gCommand_Char1) << 8) + gCommand_Char2;          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0047ec   f049                                                                                                               
0047ee   6a48     CLRF      0x48,0x0                                                                                        
0047f0   51db     MOVF      0xdb,0x0,0x1                                                                                    
0047f2   0100     MOVLB     0x0                                                                                             
0047f4   2448     ADDWF     0x48,0x0,0x0                                                                                    
0047f6   6e46     MOVWF     0x46,0x0                                                                                        
0047f8   0e00     MOVLW     0x0                                                                                             
0047fa   2049     ADDWFC    0x49,0x0,0x0                                                                                    
0047fc   6e47     MOVWF     0x47,0x0                                                                                        
0047fe   c046     MOVFF     0x46,0xfde                                                                                      
004800   ffde                                                                                                               
004802   6edd     MOVWF     0xdd,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Now 'command' is equal to one or two bytes of our command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004804   0e00     MOVLW     0x0                switch (command)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004806   cfdf     MOVFF     0xfdf,0x3a                                                                                      
004808   f03a                                                                                                               
00480a   0e01     MOVLW     0x1                                                                                             
00480c   cfdb     MOVFF     0xfdb,0x3b                                                                                      
00480e   f03b                                                                                                               
004810   0e52     MOVLW     0x52                                                                                            
004812   183a     XORWF     0x3a,0x0,0x0                                                                                    
004814   e102     BNZ       0x481a                                                                                          
004816   0e54     MOVLW     0x54                                                                                            
004818   183b     XORWF     0x3b,0x0,0x0                                                                                    
00481a   e101     BNZ       0x481e                                                                                          
00481c   d1e7     BRA       0x4bec                                                                                          
00481e   0e55     MOVLW     0x55                                                                                            
004820   183a     XORWF     0x3a,0x0,0x0                                                                                    
004822   e102     BNZ       0x4828                                                                                          
004824   0e51     MOVLW     0x51                                                                                            
004826   183b     XORWF     0x3b,0x0,0x0                                                                                    
004828   e101     BNZ       0x482c                                                                                          
00482a   d1de     BRA       0x4be8                                                                                          
00482c   0e4d     MOVLW     0x4d                                                                                            
00482e   183a     XORWF     0x3a,0x0,0x0                                                                                    
004830   e102     BNZ       0x4836                                                                                          
004832   0e48     MOVLW     0x48                                                                                            
004834   183b     XORWF     0x3b,0x0,0x0                                                                                    
004836   e101     BNZ       0x483a                                                                                          
004838   d1d4     BRA       0x4be2                                                                                          
00483a   0e52     MOVLW     0x52                                                                                            
00483c   183a     XORWF     0x3a,0x0,0x0                                                                                    
00483e   e102     BNZ       0x4844                                                                                          
004840   0e53     MOVLW     0x53                                                                                            
004842   183b     XORWF     0x3b,0x0,0x0                                                                                    
004844   e101     BNZ       0x4848                                                                                          
004846   d1ca     BRA       0x4bdc                                                                                          
004848   0e52     MOVLW     0x52                                                                                            
00484a   183a     XORWF     0x3a,0x0,0x0                                                                                    
00484c   e102     BNZ       0x4852                                                                                          
00484e   0e51     MOVLW     0x51                                                                                            
004850   183b     XORWF     0x3b,0x0,0x0                                                                                    
004852   e101     BNZ       0x4856                                                                                          
004854   d1c0     BRA       0x4bd6                                                                                          
004856   0e42     MOVLW     0x42                                                                                            
004858   183a     XORWF     0x3a,0x0,0x0                                                                                    
00485a   e102     BNZ       0x4860                                                                                          
00485c   0e52     MOVLW     0x52                                                                                            
00485e   183b     XORWF     0x3b,0x0,0x0                                                                                    
004860   e101     BNZ       0x4864                                                                                          
004862   d1b6     BRA       0x4bd0                                                                                          
004864   0e54     MOVLW     0x54                                                                                            
004866   183a     XORWF     0x3a,0x0,0x0                                                                                    
004868   e102     BNZ       0x486e                                                                                          
00486a   0e51     MOVLW     0x51                                                                                            
00486c   183b     XORWF     0x3b,0x0,0x0                                                                                    
00486e   e101     BNZ       0x4872                                                                                          
004870   d1ac     BRA       0x4bca                                                                                          
004872   0e54     MOVLW     0x54                                                                                            
004874   183a     XORWF     0x3a,0x0,0x0                                                                                    
004876   e102     BNZ       0x487c                                                                                          
004878   0e53     MOVLW     0x53                                                                                            
00487a   183b     XORWF     0x3b,0x0,0x0                                                                                    
00487c   e101     BNZ       0x4880                                                                                          
00487e   d1a2     BRA       0x4bc4                                                                                          
004880   0e53     MOVLW     0x53                                                                                            
004882   183a     XORWF     0x3a,0x0,0x0                                                                                    
004884   e102     BNZ       0x488a                                                                                          
004886   0e43     MOVLW     0x43                                                                                            
004888   183b     XORWF     0x3b,0x0,0x0                                                                                    
00488a   e101     BNZ       0x488e                                                                                          
00488c   d198     BRA       0x4bbe                                                                                          
00488e   0e53     MOVLW     0x53                                                                                            
004890   183a     XORWF     0x3a,0x0,0x0                                                                                    
004892   e102     BNZ       0x4898                                                                                          
004894   0e51     MOVLW     0x51                                                                                            
004896   183b     XORWF     0x3b,0x0,0x0                                                                                    
004898   e101     BNZ       0x489c                                                                                          
00489a   d18e     BRA       0x4bb8                                                                                          
00489c   0e4d     MOVLW     0x4d                                                                                            
00489e   183a     XORWF     0x3a,0x0,0x0                                                                                    
0048a0   e102     BNZ       0x48a6                                                                                          
0048a2   0e58     MOVLW     0x58                                                                                            
0048a4   183b     XORWF     0x3b,0x0,0x0                                                                                    
0048a6   e101     BNZ       0x48aa                                                                                          
0048a8   d184     BRA       0x4bb2                                                                                          
0048aa   0e53     MOVLW     0x53                                                                                            
0048ac   183a     XORWF     0x3a,0x0,0x0                                                                                    
0048ae   e102     BNZ       0x48b4                                                                                          
0048b0   0e45     MOVLW     0x45                                                                                            
0048b2   183b     XORWF     0x3b,0x0,0x0                                                                                    
0048b4   e101     BNZ       0x48b8                                                                                          
0048b6   d17a     BRA       0x4bac                                                                                          
0048b8   0e43     MOVLW     0x43                                                                                            
0048ba   183a     XORWF     0x3a,0x0,0x0                                                                                    
0048bc   e102     BNZ       0x48c2                                                                                          
0048be   0e41     MOVLW     0x41                                                                                            
0048c0   183b     XORWF     0x3b,0x0,0x0                                                                                    
0048c2   e101     BNZ       0x48c6                                                                                          
0048c4   d170     BRA       0x4ba6                                                                                          
0048c6   0e4d     MOVLW     0x4d                                                                                            
0048c8   183a     XORWF     0x3a,0x0,0x0                                                                                    
0048ca   e102     BNZ       0x48d0                                                                                          
0048cc   0e51     MOVLW     0x51                                                                                            
0048ce   183b     XORWF     0x3b,0x0,0x0                                                                                    
0048d0   e101     BNZ       0x48d4                                                                                          
0048d2   d166     BRA       0x4ba0                                                                                          
0048d4   0e32     MOVLW     0x32                                                                                            
0048d6   183a     XORWF     0x3a,0x0,0x0                                                                                    
0048d8   e102     BNZ       0x48de                                                                                          
0048da   0e53     MOVLW     0x53                                                                                            
0048dc   183b     XORWF     0x3b,0x0,0x0                                                                                    
0048de   e101     BNZ       0x48e2                                                                                          
0048e0   d15c     BRA       0x4b9a                                                                                          
0048e2   0e45     MOVLW     0x45                                                                                            
0048e4   183a     XORWF     0x3a,0x0,0x0                                                                                    
0048e6   e102     BNZ       0x48ec                                                                                          
0048e8   0e53     MOVLW     0x53                                                                                            
0048ea   183b     XORWF     0x3b,0x0,0x0                                                                                    
0048ec   e101     BNZ       0x48f0                                                                                          
0048ee   d152     BRA       0x4b94                                                                                          
0048f0   0e47     MOVLW     0x47                                                                                            
0048f2   183a     XORWF     0x3a,0x0,0x0                                                                                    
0048f4   e102     BNZ       0x48fa                                                                                          
0048f6   0e51     MOVLW     0x51                                                                                            
0048f8   183b     XORWF     0x3b,0x0,0x0                                                                                    
0048fa   e101     BNZ       0x48fe                                                                                          
0048fc   d148     BRA       0x4b8e                                                                                          
0048fe   0e43     MOVLW     0x43                                                                                            
004900   183a     XORWF     0x3a,0x0,0x0                                                                                    
004902   e102     BNZ       0x4908                                                                                          
004904   0e51     MOVLW     0x51                                                                                            
004906   183b     XORWF     0x3b,0x0,0x0                                                                                    
004908   e101     BNZ       0x490c                                                                                          
00490a   d13e     BRA       0x4b88                                                                                          
00490c   0e4b     MOVLW     0x4b                                                                                            
00490e   183a     XORWF     0x3a,0x0,0x0                                                                                    
004910   e102     BNZ       0x4916                                                                                          
004912   0e43     MOVLW     0x43                                                                                            
004914   183b     XORWF     0x3b,0x0,0x0                                                                                    
004916   e101     BNZ       0x491a                                                                                          
004918   d134     BRA       0x4b82                                                                                          
00491a   0e4c     MOVLW     0x4c                                                                                            
00491c   183a     XORWF     0x3a,0x0,0x0                                                                                    
00491e   e102     BNZ       0x4924                                                                                          
004920   0e42     MOVLW     0x42                                                                                            
004922   183b     XORWF     0x3b,0x0,0x0                                                                                    
004924   e101     BNZ       0x4928                                                                                          
004926   d12a     BRA       0x4b7c                                                                                          
004928   0e44     MOVLW     0x44                                                                                            
00492a   183a     XORWF     0x3a,0x0,0x0                                                                                    
00492c   e102     BNZ       0x4932                                                                                          
00492e   0e4e     MOVLW     0x4e                                                                                            
004930   183b     XORWF     0x3b,0x0,0x0                                                                                    
004932   e101     BNZ       0x4936                                                                                          
004934   d120     BRA       0x4b76                                                                                          
004936   0e49     MOVLW     0x49                                                                                            
004938   183a     XORWF     0x3a,0x0,0x0                                                                                    
00493a   e102     BNZ       0x4940                                                                                          
00493c   0e4e     MOVLW     0x4e                                                                                            
00493e   183b     XORWF     0x3b,0x0,0x0                                                                                    
004940   e101     BNZ       0x4944                                                                                          
004942   d116     BRA       0x4b70                                                                                          
004944   0e42     MOVLW     0x42                                                                                            
004946   183a     XORWF     0x3a,0x0,0x0                                                                                    
004948   e102     BNZ       0x494e                                                                                          
00494a   0e51     MOVLW     0x51                                                                                            
00494c   183b     XORWF     0x3b,0x0,0x0                                                                                    
00494e   e101     BNZ       0x4952                                                                                          
004950   d10c     BRA       0x4b6a                                                                                          
004952   0e4c     MOVLW     0x4c                                                                                            
004954   183a     XORWF     0x3a,0x0,0x0                                                                                    
004956   e102     BNZ       0x495c                                                                                          
004958   0e51     MOVLW     0x51                                                                                            
00495a   183b     XORWF     0x3b,0x0,0x0                                                                                    
00495c   e101     BNZ       0x4960                                                                                          
00495e   d102     BRA       0x4b64                                                                                          
004960   0e4c     MOVLW     0x4c                                                                                            
004962   183a     XORWF     0x3a,0x0,0x0                                                                                    
004964   e102     BNZ       0x496a                                                                                          
004966   0e53     MOVLW     0x53                                                                                            
004968   183b     XORWF     0x3b,0x0,0x0                                                                                    
00496a   e101     BNZ       0x496e                                                                                          
00496c   d0f8     BRA       0x4b5e                                                                                          
00496e   0e4e     MOVLW     0x4e                                                                                            
004970   183a     XORWF     0x3a,0x0,0x0                                                                                    
004972   e102     BNZ       0x4978                                                                                          
004974   0e51     MOVLW     0x51                                                                                            
004976   183b     XORWF     0x3b,0x0,0x0                                                                                    
004978   e101     BNZ       0x497c                                                                                          
00497a   d0ee     BRA       0x4b58                                                                                          
00497c   0e4e     MOVLW     0x4e                                                                                            
00497e   183a     XORWF     0x3a,0x0,0x0                                                                                    
004980   e102     BNZ       0x4986                                                                                          
004982   0e53     MOVLW     0x53                                                                                            
004984   183b     XORWF     0x3b,0x0,0x0                                                                                    
004986   e101     BNZ       0x498a                                                                                          
004988   d0e4     BRA       0x4b52                                                                                          
00498a   0e43     MOVLW     0x43                                                                                            
00498c   183a     XORWF     0x3a,0x0,0x0                                                                                    
00498e   e102     BNZ       0x4994                                                                                          
004990   0e53     MOVLW     0x53                                                                                            
004992   183b     XORWF     0x3b,0x0,0x0                                                                                    
004994   e101     BNZ       0x4998                                                                                          
004996   d0da     BRA       0x4b4c                                                                                          
004998   0e4d     MOVLW     0x4d                                                                                            
00499a   183a     XORWF     0x3a,0x0,0x0                                                                                    
00499c   e102     BNZ       0x49a2                                                                                          
00499e   0e45     MOVLW     0x45                                                                                            
0049a0   183b     XORWF     0x3b,0x0,0x0                                                                                    
0049a2   e101     BNZ       0x49a6                                                                                          
0049a4   d0d0     BRA       0x4b46                                                                                          
0049a6   0e45     MOVLW     0x45                                                                                            
0049a8   183a     XORWF     0x3a,0x0,0x0                                                                                    
0049aa   e102     BNZ       0x49b0                                                                                          
0049ac   0e51     MOVLW     0x51                                                                                            
0049ae   183b     XORWF     0x3b,0x0,0x0                                                                                    
0049b0   e101     BNZ       0x49b4                                                                                          
0049b2   d0c6     BRA       0x4b40                                                                                          
0049b4   0e50     MOVLW     0x50                                                                                            
0049b6   183a     XORWF     0x3a,0x0,0x0                                                                                    
0049b8   e102     BNZ       0x49be                                                                                          
0049ba   0e51     MOVLW     0x51                                                                                            
0049bc   183b     XORWF     0x3b,0x0,0x0                                                                                    
0049be   e101     BNZ       0x49c2                                                                                          
0049c0   d0bc     BRA       0x4b3a                                                                                          
0049c2   0e50     MOVLW     0x50                                                                                            
0049c4   183a     XORWF     0x3a,0x0,0x0                                                                                    
0049c6   e102     BNZ       0x49cc                                                                                          
0049c8   0e54     MOVLW     0x54                                                                                            
0049ca   183b     XORWF     0x3b,0x0,0x0                                                                                    
0049cc   e101     BNZ       0x49d0                                                                                          
0049ce   d0b2     BRA       0x4b34                                                                                          
0049d0   0e50     MOVLW     0x50                                                                                            
0049d2   183a     XORWF     0x3a,0x0,0x0                                                                                    
0049d4   e102     BNZ       0x49da                                                                                          
0049d6   0e53     MOVLW     0x53                                                                                            
0049d8   183b     XORWF     0x3b,0x0,0x0                                                                                    
0049da   e101     BNZ       0x49de                                                                                          
0049dc   d0a8     BRA       0x4b2e                                                                                          
0049de   0e4d     MOVLW     0x4d                                                                                            
0049e0   183a     XORWF     0x3a,0x0,0x0                                                                                    
0049e2   e102     BNZ       0x49e8                                                                                          
0049e4   0e53     MOVLW     0x53                                                                                            
0049e6   183b     XORWF     0x3b,0x0,0x0                                                                                    
0049e8   e101     BNZ       0x49ec                                                                                          
0049ea   d09e     BRA       0x4b28                                                                                          
0049ec   0e57     MOVLW     0x57                                                                                            
0049ee   183a     XORWF     0x3a,0x0,0x0                                                                                    
0049f0   e102     BNZ       0x49f6                                                                                          
0049f2   0e4d     MOVLW     0x4d                                                                                            
0049f4   183b     XORWF     0x3b,0x0,0x0                                                                                    
0049f6   e101     BNZ       0x49fa                                                                                          
0049f8   d094     BRA       0x4b22                                                                                          
0049fa   0e52     MOVLW     0x52                                                                                            
0049fc   183a     XORWF     0x3a,0x0,0x0                                                                                    
0049fe   e102     BNZ       0x4a04                                                                                          
004a00   0e4d     MOVLW     0x4d                                                                                            
004a02   183b     XORWF     0x3b,0x0,0x0                                                                                    
004a04   e101     BNZ       0x4a08                                                                                          
004a06   d08a     BRA       0x4b1c                                                                                          
004a08   0e44     MOVLW     0x44                                                                                            
004a0a   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a0c   e102     BNZ       0x4a12                                                                                          
004a0e   0e50     MOVLW     0x50                                                                                            
004a10   183b     XORWF     0x3b,0x0,0x0                                                                                    
004a12   e101     BNZ       0x4a16                                                                                          
004a14   d080     BRA       0x4b16                                                                                          
004a16   0e4f     MOVLW     0x4f                                                                                            
004a18   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a1a   e102     BNZ       0x4a20                                                                                          
004a1c   0e50     MOVLW     0x50                                                                                            
004a1e   183b     XORWF     0x3b,0x0,0x0                                                                                    
004a20   e101     BNZ       0x4a24                                                                                          
004a22   d076     BRA       0x4b10                                                                                          
004a24   0e49     MOVLW     0x49                                                                                            
004a26   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a28   e102     BNZ       0x4a2e                                                                                          
004a2a   0e50     MOVLW     0x50                                                                                            
004a2c   183b     XORWF     0x3b,0x0,0x0                                                                                    
004a2e   e06d     BZ        0x4b0a                                                                                          
004a30   0e41     MOVLW     0x41                                                                                            
004a32   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a34   e101     BNZ       0x4a38                                                                                          
004a36   503b     MOVF      0x3b,0x0,0x0                                                                                    
004a38   e065     BZ        0x4b04                                                                                          
004a3a   0e56     MOVLW     0x56                                                                                            
004a3c   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a3e   e101     BNZ       0x4a42                                                                                          
004a40   503b     MOVF      0x3b,0x0,0x0                                                                                    
004a42   e05d     BZ        0x4afe                                                                                          
004a44   0e49     MOVLW     0x49                                                                                            
004a46   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a48   e101     BNZ       0x4a4c                                                                                          
004a4a   503b     MOVF      0x3b,0x0,0x0                                                                                    
004a4c   e055     BZ        0x4af8                                                                                          
004a4e   0e4f     MOVLW     0x4f                                                                                            
004a50   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a52   e101     BNZ       0x4a56                                                                                          
004a54   503b     MOVF      0x3b,0x0,0x0                                                                                    
004a56   e04d     BZ        0x4af2                                                                                          
004a58   0e55     MOVLW     0x55                                                                                            
004a5a   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a5c   e102     BNZ       0x4a62                                                                                          
004a5e   0e43     MOVLW     0x43                                                                                            
004a60   183b     XORWF     0x3b,0x0,0x0                                                                                    
004a62   e045     BZ        0x4aee                                                                                          
004a64   0e43     MOVLW     0x43                                                                                            
004a66   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a68   e101     BNZ       0x4a6c                                                                                          
004a6a   503b     MOVF      0x3b,0x0,0x0                                                                                    
004a6c   e03d     BZ        0x4ae8                                                                                          
004a6e   0e52     MOVLW     0x52                                                                                            
004a70   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a72   e101     BNZ       0x4a76                                                                                          
004a74   503b     MOVF      0x3b,0x0,0x0                                                                                    
004a76   e036     BZ        0x4ae4                                                                                          
004a78   0e4d     MOVLW     0x4d                                                                                            
004a7a   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a7c   e102     BNZ       0x4a82                                                                                          
004a7e   0e4c     MOVLW     0x4c                                                                                            
004a80   183b     XORWF     0x3b,0x0,0x0                                                                                    
004a82   e02d     BZ        0x4ade                                                                                          
004a84   0e33     MOVLW     0x33                                                                                            
004a86   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a88   e102     BNZ       0x4a8e                                                                                          
004a8a   0e54     MOVLW     0x54                                                                                            
004a8c   183b     XORWF     0x3b,0x0,0x0                                                                                    
004a8e   e024     BZ        0x4ad8                                                                                          
004a90   0e33     MOVLW     0x33                                                                                            
004a92   183a     XORWF     0x3a,0x0,0x0                                                                                    
004a94   e102     BNZ       0x4a9a                                                                                          
004a96   0e4c     MOVLW     0x4c                                                                                            
004a98   183b     XORWF     0x3b,0x0,0x0                                                                                    
004a9a   e01b     BZ        0x4ad2                                                                                          
004a9c   0e54     MOVLW     0x54                                                                                            
004a9e   183a     XORWF     0x3a,0x0,0x0                                                                                    
004aa0   e102     BNZ       0x4aa6                                                                                          
004aa2   0e4c     MOVLW     0x4c                                                                                            
004aa4   183b     XORWF     0x3b,0x0,0x0                                                                                    
004aa6   e012     BZ        0x4acc                                                                                          
004aa8   0e4d     MOVLW     0x4d                                                                                            
004aaa   183a     XORWF     0x3a,0x0,0x0                                                                                    
004aac   e102     BNZ       0x4ab2                                                                                          
004aae   0e43     MOVLW     0x43                                                                                            
004ab0   183b     XORWF     0x3b,0x0,0x0                                                                                    
004ab2   e009     BZ        0x4ac6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CM for circle move                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac6   ec92     CALL      0x2124,0x0             parse_CM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac8   f010                                                                                                               
004aca   d0af     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Timed Move                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004acc   ec41     CALL      0x1c82,0x0             parse_LT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ace   f00e                                                                                                               
004ad0   d0ac     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level 3rd derivative (jerk) move                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ad2   eceb     CALL      0x1bd6,0x0             parse_L3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ad4   f00d                                                                                                               
004ad6   d0a9     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + '3':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Timed 3rd derivative (jerk) move                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ad8   ec27     CALL      0x1c4e,0x0             parse_T3_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ada   f00e                                                                                                               
004adc   d0a6     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('L' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Low Level Move                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ade   ecb5     CALL      0x1b6a,0x0             parse_LM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae0   f00d                                                                                                               
004ae2   d0a3     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'R':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Reset command (resets everything to power-on state)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae4   d8ff     RCALL     0x4ce4                 parse_R_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae6   d0a1     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'C':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Configure command (configure ports for Input or Output)               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ae8   ec32     CALL      0x5464,0x0             parse_C_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aea   f02a                                                                                                               
004aec   d09e     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For configuring UBW                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004aee   d901     RCALL     0x4cf2                 parse_CU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af0   d09c     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'O':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Output command (tell the ports to output something)                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af2   ece2     CALL      0x55c4,0x0             parse_O_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af4   f02a                                                                                                               
004af6   d099     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'I':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Input command (return the current status of the ports)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004af8   ec18     CALL      0x5630,0x0             parse_I_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004afa   f02b                                                                                                               
004afc   d096     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'V':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Version command                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004afe   ec2e     CALL      0x565c,0x0             parse_V_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b00   f02b                                                                                                               
004b02   d093     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'A':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Analog command                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b04   ec35     CALL      0x566a,0x0             parse_A_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b06   f02b                                                                                                               
004b08   d090     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case 'T':                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // For timed I/O                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_T_packet();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PI for reading a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b0a   ec6d     CALL      0x58da,0x0             parse_PI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b0c   f02c                                                                                                               
004b0e   d08d     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'O':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PO for setting a single pin                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b10   ece2     CALL      0x59c4,0x0             parse_PO_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b12   f02c                                                                                                               
004b14   d08a     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PD for setting a pin's direction                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b16   ecd1     CALL      0x57a2,0x0             parse_PD_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b18   f02b                                                                                                               
004b1a   d087     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MR for Memory Read                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b1c   ecb2     CALL      0x5764,0x0             parse_MR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b1e   f02b                                                                                                               
004b20   d084     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('M' * 256) + 'W':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // MW for Memory Write                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b22   ec97     CALL      0x572e,0x0             parse_MW_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b24   f02b                                                                                                               
004b26   d081     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #if PC_PG_T_COMMANDS_ENABLED                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PC for pulse configure                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('P' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // PG for pulse go command                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   parse_PG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             #endif                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SM for stepper motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b28   ec7e     CALL      0x20fc,0x0             parse_SM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b2a   f010                                                                                                               
004b2c   d07e     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SP for set pen                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b2e   eccc     CALL      0x2b98,0x0             parse_SP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b30   f015                                                                                                               
004b32   d07b     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // TP for toggle pen                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b34   ecaa     CALL      0x2b54,0x0             parse_TP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b36   f015                                                                                                               
004b38   d078     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'P':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for query pen                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b3a   ec2c     CALL      0x2a58,0x0             parse_QP_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b3c   f015                                                                                                               
004b3e   d075     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QE for Query motor Enable and resolution                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b40   ec44     CALL      0x2a88,0x0             parse_QE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b42   f015                                                                                                               
004b44   d072     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // EM for enable motors                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b46   ec3d     CALL      0x2c7a,0x0             parse_EM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b48   f016                                                                                                               
004b4a   d06f     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SC for stepper mode configure                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b4c   ecf3     CALL      0x19e6,0x0             parse_SC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b4e   f00c                                                                                                               
004b50   d06c     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SN for Clear Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b52   ec98     CALL      0x2d30,0x0             parse_SN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b54   f016                                                                                                               
004b56   d069     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'N':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QN for Query Node count                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b58   ecb5     CALL      0x2d6a,0x0             parse_QN_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b5a   f016                                                                                                               
004b5c   d066     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SL for Set Layer                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b5e   ecc7     CALL      0x2d8e,0x0             parse_SL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b60   f016                                                                                                               
004b62   d063     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Layer count                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b64   ece4     CALL      0x2dc8,0x0             parse_QL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b66   f016                                                                                                               
004b68   d060     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QL for Query Button (program)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b6a   ec08     CALL      0x2e10,0x0             parse_QB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b6c   f017                                                                                                               
004b6e   d05d     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'I':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // NI for Node count Increment                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b70   ec76     CALL      0x2cec,0x0             parse_NI_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b72   f016                                                                                                               
004b74   d05a     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('N' * 256) + 'D':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ND Node count Decrement                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b76   ec89     CALL      0x2d12,0x0             parse_ND_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b78   f016                                                                                                               
004b7a   d057     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('B' * 256) + 'L':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // BL for Boot Load                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b7c   ec96     CALL      0x5b2c,0x0             parse_BL_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b7e   f02d                                                                                                               
004b80   d054     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'K':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CL for Check                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b82   ece8     CALL      0x5bd0,0x0             parse_CK_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b84   f02d                                                                                                               
004b86   d051     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QC for Query Current                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b88   ec1c     CALL      0x2e38,0x0             parse_QC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b8a   f017                                                                                                               
004b8c   d04e     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'G':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QG for Query General                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b8e   ec32     CALL      0x2e64,0x0             parse_QG_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b90   f017                                                                                                               
004b92   d04b     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'E':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SE for Set Engraver                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b94   ec63     CALL      0x2ec6,0x0             parse_SE_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b96   f017                                                                                                               
004b98   d048     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + '2':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // S2 for RC Servo method 2                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b9a   ecad     CALL      0x7f5a,0x0             RCServo2_S2_command();                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004b9c   f03f                                                                                                               
004b9e   d045     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QM for Query Motor                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ba0   ec47     CALL      0x308e,0x0             parse_QM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ba2   f018                                                                                                               
004ba4   d042     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('A' * 256) + 'C':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // AC for Analog Configure                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ba6   ecc8     CALL      0x5590,0x0             parse_AC_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ba8   f02a                                                                                                               
004baa   d03f     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('E' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ES for E-Stop                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bac   ecde     CALL      0x29bc,0x0             parse_ES_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bae   f014                                                                                                               
004bb0   d03c     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('X' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // XM for X motor move                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bb2   ecf3     CALL      0x25e6,0x0             parse_XM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bb4   f012                                                                                                               
004bb6   d039     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QP for Query Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bb8   ec7f     CALL      0x30fe,0x0             parse_QS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bba   f018                                                                                                               
004bbc   d036     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('C' * 256) + 'S':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // CS for Clear Step position                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bbe   ecb3     CALL      0x3166,0x0             parse_CS_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bc0   f018                                                                                                               
004bc2   d033     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // ST for Set Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bc4   ecc7     CALL      0x5d8e,0x0             parse_ST_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bc6   f02e                                                                                                               
004bc8   d030     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'T':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QT for Query Tag                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bca   ecfd     CALL      0x5dfa,0x0             parse_QT_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bcc   f02e                                                                                                               
004bce   d02d     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('R' * 256) + 'B':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // RB for ReBoot                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd0   ec9e     CALL      0x5b3c,0x0             parse_RB_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd2   f02d                                                                                                               
004bd4   d02a     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QR is for Query RC Servo power state                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd6   eca5     CALL      0x5b4a,0x0             parse_QR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bd8   f02d                                                                                                               
004bda   d027     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('S' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // SR is for Set RC Servo power timeout                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bdc   ecb5     CALL      0x5b6a,0x0             parse_SR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bde   f02d                                                                                                               
004be0   d024     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('H' * 256) + 'M':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // HM is for Home Motor                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004be2   ecac     CALL      0x2358,0x0             parse_HM_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004be4   f011                                                                                                               
004be6   d021     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('Q' * 256) + 'U':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // QU is for General Query                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004be8   dbad     RCALL     0x5344                 parse_QU_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bea   d01f     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 case ('T' * 256) + 'R':                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bec   ec1b     CALL      0x2436,0x0             parse_TR_packet();                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bee   f012                                                                                                               
004bf0   d01c     BRA       0x4c2a                 break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 default:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab4   0100     MOVLB     0x0                    if (0u == gCommand_Char2)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ab6   51db     MOVF      0xdb,0x0,0x1                                                                                    
004ab8   e001     BZ        0x4abc                                                                                          
004aba   d09b     BRA       0x4bf2                                                                                          
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004abc   eca9     CALL      0x6752,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004abe   f033                                                                                                               
006752   0e35     MOVLW     0x35                                                                                            
006754   6e46     MOVWF     0x46,0x0                                                                                        
006756   0e7d     MOVLW     0x7d                                                                                            
006758   de1e     RCALL     0x6396                                                                                          
00675a   efdd     GOTO      0x65ba                   ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00675c   f032                                                                                                               
004ac0   ecaf     CALL      0x675e,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac2   f033                                                                                                               
00675e   0e3a     MOVLW     0x3a                                                                                            
006760   de44     RCALL     0x63ea                                                                                          
006762   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006764   6ee6     MOVWF     0xe6,0x0                                                                                        
006766   c0da     MOVFF     0xda,0x46                                                                                       
006768   f046                                                                                                               
00676a   0012     RETURN    0x0                                                                                             
                                                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ac4   d0aa     BRA       0x4c1a                 else                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   {                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Send back 'unknown command' error                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf2   eca9     CALL      0x6752,0x0               ebb_print((far rom char *)"!8 Err: Unknown command '");                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf4   f033                                                                                                               
                                                     ebb_print_char(gCommand_Char1);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf6   c0db     MOVFF     0xdb,0xfe6               ebb_print_char(gCommand_Char2);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004bf8   ffe6                                                                                                               
004bfa   dccd     RCALL     0x4596                                                                                          
004bfc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004bfe   ecaf     CALL      0x675e,0x0               ebb_print_char(':');                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c00   f033                                                                                                               
004c02   ecfb     CALL      0x67f6,0x0               ebb_print_hex(gCommand_Char1, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c04   f033                                                                                                               
004c06   c0da     MOVFF     0xda,0xfe6                                                                                      
004c08   ffe6                                                                                                               
004c0a   ec2f     CALL      0x665e,0x0                                                                                      
004c0c   f033                                                                                                               
004c0e   ecc3     CALL      0x6786,0x0                                                                                      
004c10   f033                                                                                                               
006786   ec31     CALL      0x8662,0x0                                                                                      
006788   f043                                                                                                               
00678a   6e4a     MOVWF     0x4a,0x0                                                                                        
00678c   0e05     MOVLW     0x5                                                                                             
00678e   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
006790   504a     MOVF      0x4a,0x0,0x0                                                                                    
006792   0012     RETURN    0x0                                                                                             
004c12   0e02     MOVLW     0x2                      ebb_print_hex(gCommand_Char2, 2);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c14   6ee6     MOVWF     0xe6,0x0                                                                                        
004c16   c0db     MOVFF     0xdb,0x46                                                                                       
004c18   f046                                                                                                               
004c1a   6a47     CLRF      0x47,0x0                                                                                        
004c1c   ecf0     CALL      0x63e0,0x0                                                                                      
004c1e   f031                                                                                                               
004c20   0e27     MOVLW     0x27                     ebb_print_char(0x27); // the ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c22   ecf5     CALL      0x63ea,0x0                                                                                      
004c24   f031                                                                                                               
                                                   }                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c26   ecd5     CALL      0x63aa,0x0             print_line_ending(kLE_NORM);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c28   f031                                                                                                               
                                                   break;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Double check that our output pointer is now at the ending <CR>            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // If it is not, this indicates that there were extra characters that        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // the command parsing routine didn't eat. This would be an error and needs  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // to be reported. (Ignore for Reset command because FIFO pointers get cleared.) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c2a   0100     MOVLB     0x0                  (g_RX_buf[g_RX_buf_out] != kCR && 0u == error_byte)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c2c   ecd8     CALL      0x63b0,0x0                                                                                      
004c2e   f031                                                                                                               
004c30   080d     SUBLW     0xd                                                                                             
004c32   e00d     BZ        0x4c4e                                                                                          
004c34   5197     MOVF      0x97,0x0,0x1                                                                                    
004c36   e10b     BNZ       0x4c4e                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c38   0e52     MOVLW     0x52                 ('R' != command)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c3a   6e46     MOVWF     0x46,0x0                                                                                        
004c3c   6a47     CLRF      0x47,0x0                                                                                        
004c3e   50df     MOVF      0xdf,0x0,0x0                                                                                    
004c40   1846     XORWF     0x46,0x0,0x0                                                                                    
004c42   e103     BNZ       0x4c4a                                                                                          
004c44   52de     MOVF      0xde,0x1,0x0                                                                                    
004c46   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004c48   1847     XORWF     0x47,0x0,0x0                                                                                    
004c4a   e001     BZ        0x4c4e             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c4c   8f97     BSF       0x97,0x7,0x1         bitset(error_byte, kERROR_BYTE_EXTRA_CHARACTERS);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clean up by skipping over any bytes we haven't eaten                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // This is safe since we parse each packet as we get a <CR>                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // (i.e. g_RX_buf_in doesn't move while we are in this routine)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c4e   c0ca     MOVFF     0xca,0xcb        g_RX_buf_out = g_RX_buf_in;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c50   f0cb                                                                                                               
004c52   0e09     MOVLW     0x9            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c54   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
004c56   e202     BC        0x4c5c                                                                                          
004c58   6ae1     CLRF      0xe1,0x0                                                                                        
004c5a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004c5c   6ee1     MOVWF     0xe1,0x0                                                                                        
004c5e   efec     GOTO      0x63d8                                                                                          
004c60   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function will print out the two character command that was just parsed   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // if the New line ending mode is set (CU,10,1). Every time a command is sent    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the EBB, it will respond with the two character command code (at least,    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // some commands will return more than that).                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = true : always print command, even in Default Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_always = false : do not print command when in Unified Line Ending Mode  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = true : if command printed, also print comma after               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // print_comma = false : if command printed, do not print comma after            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If Legacy line ending mode is turned on this function will not print anything D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c62   ec85     CALL      0x670a,0x0     void print_command(BOOL print_always, BOOL print_comma)                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c64   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c66   0e2c     MOVLW     0x2c             char comma = ',';                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c68   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c6a   0e01     MOVLW     0x1              if (bittstzero(gStandardizedCommandFormat) || print_always)                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c6c   0101     MOVLB     0x1                                                                                             
004c6e   15c3     ANDWF     0xc3,0x0,0x1                                                                                    
004c70   e103     BNZ       0x4c78                                                                                          
004c72   0efe     MOVLW     0xfe                                                                                            
004c74   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c76   e010     BZ        0x4c98                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c78   ecdd     CALL      0x65ba,0x0         ebb_putc(gCommand_Char1);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c7a   f032                                                                                                               
0065ba   c0da     MOVFF     0xda,0xfe6                                                                                      
0065bc   ffe6                                                                                                               
0065be   eccb     CALL      0x4596,0x0                                                                                      
0065c0   f022                                                                                                               
0065c2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0065c4   0012     RETURN    0x0                                                                                             
004c7c   0100     MOVLB     0x0                if (gCommand_Char2 != 0u)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c7e   51db     MOVF      0xdb,0x0,0x1                                                                                    
004c80   e004     BZ        0x4c8a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c82   c0db     MOVFF     0xdb,0xfe6           ebb_putc(gCommand_Char2);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c84   ffe6                                                                                                               
004c86   dc87     RCALL     0x4596                                                                                          
004c88   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c8a   0efd     MOVLW     0xfd               if (print_comma)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c8c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004c8e   e004     BZ        0x4c98                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c90   cfdf     MOVFF     0xfdf,0xfe6          ebb_putc(comma);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c92   ffe6                                                                                                               
004c94   dc80     RCALL     0x4596                                                                                          
004c96   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c98   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c9a   efec     GOTO      0x63d8                                                                                          
004c9c   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function prints out the common endings needed on text lines sent back    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // to the PC. It operates in two modes, Legacy and New. Legacy mode is used      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // when we need to emulate how the EBB's line endings have been done since       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the beginning (as some PC software counts on this). New mode can be turned    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // on with CU,10,1 and makes every line ending exactly the same : "\n".          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Because in Legacy mode we also need to print "OK", that is included           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // as an option here too.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   Legacy Mode:                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_OK_NORM : Print "OK\r\n"                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_NORM    : Print "\r\n"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     <type> = LE_REV     : Print "\n\r"                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //   New Mode:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //     Regardless of the value of <type>, always print "\n"                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004c9e   ece7     CALL      0x63ce,0x0     void print_line_ending(tLineEnding le_type)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ca0   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ca2   0101     MOVLB     0x1              if (bittstzero(gStandardizedCommandFormat))                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ca4   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
004ca6   d004     BRA       0x4cb0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ca8   0e33     MOVLW     0x33               ebb_print((far rom char *)"\n");                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004caa   6e46     MOVWF     0x46,0x0                                                                                        
004cac   0e7d     MOVLW     0x7d                                                                                            
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cae   d016     BRA       0x4cdc           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cb0   0100     MOVLB     0x0                if ((g_ack_enable) && (le_type == kLE_OK_NORM))                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cb2   51d0     MOVF      0xd0,0x0,0x1                                                                                    
004cb4   e008     BZ        0x4cc6                                                                                          
004cb6   0efe     MOVLW     0xfe                                                                                            
004cb8   50db     MOVF      0xdb,0x0,0x0                                                                                    
004cba   e105     BNZ       0x4cc6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cbc   0e30     MOVLW     0x30                 ebb_print((far rom char *)"OK");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cbe   6e46     MOVWF     0x46,0x0                                                                                        
004cc0   0e7d     MOVLW     0x7d                                                                                            
004cc2   eccb     CALL      0x6396,0x0                                                                                      
004cc4   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cc6   0efe     MOVLW     0xfe               if (le_type == kLE_REV)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cc8   50db     MOVF      0xdb,0x0,0x0                                                                                    
004cca   0802     SUBLW     0x2                                                                                             
004ccc   e104     BNZ       0x4cd6                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cce   0e2d     MOVLW     0x2d                 ebb_print((far rom char *)"\n\r");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd0   6e46     MOVWF     0x46,0x0                                                                                        
004cd2   0e7d     MOVLW     0x7d                                                                                            
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd4   d003     BRA       0x4cdc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // le_type == kLE_NORM                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd6   0e2a     MOVLW     0x2a                 ebb_print((far rom char *)"\r\n");                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cd8   6e46     MOVWF     0x46,0x0                                                                                        
004cda   0e7d     MOVLW     0x7d                                                                                            
004cdc   eccb     CALL      0x6396,0x0                                                                                      
004cde   f031                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ce0   efec     GOTO      0x63d8         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ce2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return all I/Os to their default power-on values                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_R_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ce4   ec30     CALL      0x6860,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ce6   f034                                                                                                               
004ce8   ec20     CALL      0x6440,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cea   f032                                                                                                               
004cec   dc83     RCALL     0x45f4           check_and_send_TX_data();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cee   eff4     GOTO      0x41e8           UserInit();                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cf0   f020                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // CU is "Configure UBW" and controls system-wide configuration values           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "CU,<parameter_number>,<parameter_value><CR>"                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <parameter_value>                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   {1|0} turns on or off the 'ack' ("OK" at end of packets)                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   {1|0} turns on or off parameter limit checking (defaults to on))          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   {1|0} turns on or off the red LED acting as an empty FIFO indicator (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   <new_fifo_size> sets the FIFO size, in commands. Defaults to 1 at boot    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 10  {1|0} turns on or off the standardized command format replies (defaults to off)) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 50  {1|0} turns on or off the automatic enabling of both motors on any move command (defaults to on) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 51  <limit_switch_mask> sets the limit_switch_mask value for limit switch checking in ISR. Set to 0 to disable. Any high bit looks for a corresponding bit in the limit_switch_target on PORTB D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 52  <limit_switch_target> set the limit_switch_value for limit switch checking in ISR.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 53  {1|0} turns on or off the sending of "Limit switch triggered" replies (defaults to off) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 54  {1|0} turns on/off command checksum (defaults to off)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  <NewThreshood> Set the power lost threshold. Set to 0 to disable.         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  <NewStepperDisableTimeoutS> Sets the stepper timeout in seconds. 0 to disable. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 250 {1|0} turns on or off the GPIO DEBUG (i/o pins to time moves and the ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 251 {1|0} turns on or off the UART ISR DEBUG (prints internal numbers at end of each move) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 252 {1|0} turns on or off the UART ISR DEBUG FULL (prints internal numbers at end of each ISR) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 253 {1|0} turns on or off the UART COMMAND DEBUG (prints all received command bytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 254 {1} turns on lock up mode. Tight loop of I/O toggles shows true ISR timing. Reset to exit. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 255 {1|0} turns on or off command parsing debug printing on USB               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 256 {1|0} 1=don't add any moves to FIFO, 0=(default) add moves to FIFO (used for testing of parse functions) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 257 {1|0} turns on or off RC7 as indicator of parsing any command (when high) - defaults to off D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cf2   cfd9     MOVFF     0xfd9,0xfe6    void parse_CU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cf4   ffe6                                                                                                               
004cf6   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
004cf8   ffd9                                                                                                               
004cfa   0e04     MOVLW     0x4                                                                                             
004cfc   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT16 parameter_number;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             INT16 paramater_value;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004cfe   6ae6     CLRF      0xe6,0x0         print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d00   6ae6     CLRF      0xe6,0x0                                                                                        
004d02   dfaf     RCALL     0x4c62                                                                                          
004d04   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d06   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d08   6ae6     CLRF      0xe6,0x0         extract_number(kUINT, &parameter_number, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d0a   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
004d0c   ffe6                                                                                                               
004d0e   cfda     MOVFF     0xfda,0xfe6                                                                                     
004d10   ffe6                                                                                                               
004d12   0e03     MOVLW     0x3                                                                                             
004d14   6ee6     MOVWF     0xe6,0x0                                                                                        
004d16   ec58     CALL      0x5eb0,0x0                                                                                      
004d18   f02f                                                                                                               
004d1a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d1c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d1e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d20   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d22   6ae6     CLRF      0xe6,0x0         extract_number(kINT, &paramater_value, kREQUIRED);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d24   50d9     MOVF      0xd9,0x0,0x0                                                                                    
004d26   0f02     ADDLW     0x2                                                                                             
004d28   6ee6     MOVWF     0xe6,0x0                                                                                        
004d2a   0e00     MOVLW     0x0                                                                                             
004d2c   20da     ADDWFC    0xda,0x0,0x0                                                                                    
004d2e   6ee6     MOVWF     0xe6,0x0                                                                                        
004d30   0e02     MOVLW     0x2                                                                                             
004d32   6ee6     MOVWF     0xe6,0x0                                                                                        
004d34   ec58     CALL      0x5eb0,0x0                                                                                      
004d36   f02f                                                                                                               
004d38   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d3a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d3c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
004d3e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d40   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d42   5197     MOVF      0x97,0x0,0x1                                                                                    
004d44   e001     BZ        0x4d48                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d46   d2f4     BRA       0x5330             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,1,1 or CU,1,0 to turn on/off "OK" at end of command reply                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d48   0e01     MOVLW     0x1              if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d4a   6e46     MOVWF     0x46,0x0                                                                                        
004d4c   6a47     CLRF      0x47,0x0                                                                                        
004d4e   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d50   1846     XORWF     0x46,0x0,0x0                                                                                    
004d52   e103     BNZ       0x4d5a                                                                                          
004d54   52de     MOVF      0xde,0x1,0x0                                                                                    
004d56   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004d58   1847     XORWF     0x47,0x0,0x0                                                                                    
004d5a   e11a     BNZ       0x4d90                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d5c   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d5e   0f02     ADDLW     0x2                                                                                             
004d60   6ee9     MOVWF     0xe9,0x0                                                                                        
004d62   cfda     MOVFF     0xfda,0xfea                                                                                     
004d64   ffea                                                                                                               
004d66   50ee     MOVF      0xee,0x0,0x0                                                                                    
004d68   10ed     IORWF     0xed,0x0,0x0                                                                                    
004d6a   e00b     BZ        0x4d82                                                                                          
004d6c   0e01     MOVLW     0x1                                                                                             
004d6e   6e46     MOVWF     0x46,0x0                                                                                        
004d70   6a47     CLRF      0x47,0x0                                                                                        
004d72   0e02     MOVLW     0x2                                                                                             
004d74   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d76   1846     XORWF     0x46,0x0,0x0                                                                                    
004d78   e103     BNZ       0x4d80                                                                                          
004d7a   0e03     MOVLW     0x3                                                                                             
004d7c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004d7e   1847     XORWF     0x47,0x0,0x0                                                                                    
004d80   e104     BNZ       0x4d8a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d82   0e02     MOVLW     0x2                  g_ack_enable = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d84   cfdb     MOVFF     0xfdb,0xd0                                                                                      
004d86   f0d0                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d88   d002     BRA       0x4d8e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d8a   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d8c   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,2,1 or CU,2,0 to turn on/off parameter limit checks                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d8e   d2cd     BRA       0x532a           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004d90   0e02     MOVLW     0x2                                                                                             
004d92   6e46     MOVWF     0x46,0x0                                                                                        
004d94   6a47     CLRF      0x47,0x0                                                                                        
004d96   50df     MOVF      0xdf,0x0,0x0                                                                                    
004d98   1846     XORWF     0x46,0x0,0x0                                                                                    
004d9a   e103     BNZ       0x4da2                                                                                          
004d9c   52de     MOVF      0xde,0x1,0x0                                                                                    
004d9e   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004da0   1847     XORWF     0x47,0x0,0x0                                                                                    
004da2   e11a     BNZ       0x4dd8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004da4   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value || 1 == paramater_value)                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004da6   0f02     ADDLW     0x2                                                                                             
004da8   6ee9     MOVWF     0xe9,0x0                                                                                        
004daa   cfda     MOVFF     0xfda,0xfea                                                                                     
004dac   ffea                                                                                                               
004dae   50ee     MOVF      0xee,0x0,0x0                                                                                    
004db0   10ed     IORWF     0xed,0x0,0x0                                                                                    
004db2   e00b     BZ        0x4dca                                                                                          
004db4   0e01     MOVLW     0x1                                                                                             
004db6   6e46     MOVWF     0x46,0x0                                                                                        
004db8   6a47     CLRF      0x47,0x0                                                                                        
004dba   0e02     MOVLW     0x2                                                                                             
004dbc   50db     MOVF      0xdb,0x0,0x0                                                                                    
004dbe   1846     XORWF     0x46,0x0,0x0                                                                                    
004dc0   e103     BNZ       0x4dc8                                                                                          
004dc2   0e03     MOVLW     0x3                                                                                             
004dc4   50db     MOVF      0xdb,0x0,0x0                                                                                    
004dc6   1847     XORWF     0x47,0x0,0x0                                                                                    
004dc8   e104     BNZ       0x4dd2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dca   0e02     MOVLW     0x2                  gLimitChecks = paramater_value;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dcc   cfdb     MOVFF     0xfdb,0x1c2                                                                                     
004dce   f1c2                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dd0   d002     BRA       0x4dd6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dd2   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dd4   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,3,1 or CU,3,0 to turn on/off red LED FIFO empty indicator                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dd6   d2a9     BRA       0x532a           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dd8   0e03     MOVLW     0x3                                                                                             
004dda   6e46     MOVWF     0x46,0x0                                                                                        
004ddc   6a47     CLRF      0x47,0x0                                                                                        
004dde   50df     MOVF      0xdf,0x0,0x0                                                                                    
004de0   1846     XORWF     0x46,0x0,0x0                                                                                    
004de2   e103     BNZ       0x4dea                                                                                          
004de4   52de     MOVF      0xde,0x1,0x0                                                                                    
004de6   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004de8   1847     XORWF     0x47,0x0,0x0                                                                                    
004dea   e11c     BNZ       0x4e24                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dec   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dee   0f02     ADDLW     0x2                                                                                             
004df0   6ee9     MOVWF     0xe9,0x0                                                                                        
004df2   cfda     MOVFF     0xfda,0xfea                                                                                     
004df4   ffea                                                                                                               
004df6   50ee     MOVF      0xee,0x0,0x0                                                                                    
004df8   10ed     IORWF     0xed,0x0,0x0                                                                                    
004dfa   e103     BNZ       0x4e02                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dfc   9006     BCF       0x6,0x0,0x0          bitclrzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004dfe   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e00   d010     BRA       0x4e22             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e02   0e01     MOVLW     0x1                                                                                             
004e04   6e46     MOVWF     0x46,0x0                                                                                        
004e06   6a47     CLRF      0x47,0x0                                                                                        
004e08   0e02     MOVLW     0x2                                                                                             
004e0a   50db     MOVF      0xdb,0x0,0x0                                                                                    
004e0c   1846     XORWF     0x46,0x0,0x0                                                                                    
004e0e   e103     BNZ       0x4e16                                                                                          
004e10   0e03     MOVLW     0x3                                                                                             
004e12   50db     MOVF      0xdb,0x0,0x0                                                                                    
004e14   1847     XORWF     0x47,0x0,0x0                                                                                    
004e16   e103     BNZ       0x4e1e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e18   8006     BSF       0x6,0x0,0x0          bitsetzero(gRedLEDEmptyFIFO);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e1a   948c     BCF       0x8c,0x2,0x0         mLED_2_Off()                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e1c   d002     BRA       0x4e22             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e1e   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e20   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,4,<new_FIFO_size>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e22   d283     BRA       0x532a           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e24   0e04     MOVLW     0x4                                                                                             
004e26   6e46     MOVWF     0x46,0x0                                                                                        
004e28   6a47     CLRF      0x47,0x0                                                                                        
004e2a   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e2c   1846     XORWF     0x46,0x0,0x0                                                                                    
004e2e   e103     BNZ       0x4e36                                                                                          
004e30   52de     MOVF      0xde,0x1,0x0                                                                                    
004e32   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e34   1847     XORWF     0x47,0x0,0x0                                                                                    
004e36   e11d     BNZ       0x4e72                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e38   0e02     MOVLW     0x2                if (paramater_value > (INT16)COMMAND_FIFO_MAX_LENGTH)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e3a   cfdb     MOVFF     0xfdb,0x46                                                                                      
004e3c   f046                                                                                                               
004e3e   0e03     MOVLW     0x3                                                                                             
004e40   cfdb     MOVFF     0xfdb,0x47                                                                                      
004e42   f047                                                                                                               
004e44   3447     RLCF      0x47,0x0,0x0                                                                                    
004e46   e204     BC        0x4e50                                                                                          
004e48   5046     MOVF      0x46,0x0,0x0                                                                                    
004e4a   0820     SUBLW     0x20                                                                                            
004e4c   0e00     MOVLW     0x0                                                                                             
004e4e   5447     SUBFWB    0x47,0x0,0x0                                                                                    
004e50   e207     BC        0x4e60                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e52   0e20     MOVLW     0x20                 paramater_value = COMMAND_FIFO_MAX_LENGTH;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e54   6ef3     MOVWF     0xf3,0x0                                                                                        
004e56   0e02     MOVLW     0x2                                                                                             
004e58   cff3     MOVFF     0xff3,0xfdb                                                                                     
004e5a   ffdb                                                                                                               
004e5c   0e03     MOVLW     0x3                                                                                             
004e5e   6adb     CLRF      0xdb,0x0                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Spin here until we're certain the FIFO is empty and there are no          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // command executing. We want the ISR to be completely idle while we         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // change this value.                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e60   ec04     CALL      0x3008,0x0         while (process_QM())                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e62   f018                                                                                                               
004e64   0900     IORLW     0x0                                                                                             
004e66   e001     BZ        0x4e6a                                                                                          
004e68   d7fb     BRA       0x4e60                                                                                          
                                                 ;                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e6a   0e02     MOVLW     0x2                gCurrentFIFOLength = paramater_value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e6c   50db     MOVF      0xdb,0x0,0x0                                                                                    
004e6e   6e13     MOVWF     0x13,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,10,1 or CU,10,0 to turn on/off standardized line ending                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e70   d25c     BRA       0x532a           else if (10u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e72   0e0a     MOVLW     0xa                                                                                             
004e74   6e46     MOVWF     0x46,0x0                                                                                        
004e76   6a47     CLRF      0x47,0x0                                                                                        
004e78   50df     MOVF      0xdf,0x0,0x0                                                                                    
004e7a   1846     XORWF     0x46,0x0,0x0                                                                                    
004e7c   e103     BNZ       0x4e84                                                                                          
004e7e   52de     MOVF      0xde,0x1,0x0                                                                                    
004e80   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004e82   1847     XORWF     0x47,0x0,0x0                                                                                    
004e84   e11c     BNZ       0x4ebe                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e86   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e88   0f02     ADDLW     0x2                                                                                             
004e8a   6ee9     MOVWF     0xe9,0x0                                                                                        
004e8c   cfda     MOVFF     0xfda,0xfea                                                                                     
004e8e   ffea                                                                                                               
004e90   50ee     MOVF      0xee,0x0,0x0                                                                                    
004e92   10ed     IORWF     0xed,0x0,0x0                                                                                    
004e94   e103     BNZ       0x4e9c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e96   0101     MOVLB     0x1                  bitclrzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e98   91c3     BCF       0xc3,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e9a   d010     BRA       0x4ebc             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004e9c   0e01     MOVLW     0x1                                                                                             
004e9e   6e46     MOVWF     0x46,0x0                                                                                        
004ea0   6a47     CLRF      0x47,0x0                                                                                        
004ea2   0e02     MOVLW     0x2                                                                                             
004ea4   50db     MOVF      0xdb,0x0,0x0                                                                                    
004ea6   1846     XORWF     0x46,0x0,0x0                                                                                    
004ea8   e103     BNZ       0x4eb0                                                                                          
004eaa   0e03     MOVLW     0x3                                                                                             
004eac   50db     MOVF      0xdb,0x0,0x0                                                                                    
004eae   1847     XORWF     0x47,0x0,0x0                                                                                    
004eb0   e103     BNZ       0x4eb8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb2   0101     MOVLB     0x1                  bitsetzero(gStandardizedCommandFormat);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb4   81c3     BSF       0xc3,0x0,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb6   d002     BRA       0x4ebc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eb8   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eba   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,50,1 or CU,50,0 to turn on/off automatic motor enable                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ebc   d236     BRA       0x532a           else if (50u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ebe   0e32     MOVLW     0x32                                                                                            
004ec0   6e46     MOVWF     0x46,0x0                                                                                        
004ec2   6a47     CLRF      0x47,0x0                                                                                        
004ec4   50df     MOVF      0xdf,0x0,0x0                                                                                    
004ec6   1846     XORWF     0x46,0x0,0x0                                                                                    
004ec8   e103     BNZ       0x4ed0                                                                                          
004eca   52de     MOVF      0xde,0x1,0x0                                                                                    
004ecc   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004ece   1847     XORWF     0x47,0x0,0x0                                                                                    
004ed0   e10f     BNZ       0x4ef0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ed2   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ed4   0f02     ADDLW     0x2                                                                                             
004ed6   6ee9     MOVWF     0xe9,0x0                                                                                        
004ed8   cfda     MOVFF     0xfda,0xfea                                                                                     
004eda   ffea                                                                                                               
004edc   50ee     MOVF      0xee,0x0,0x0                                                                                    
004ede   10ed     IORWF     0xed,0x0,0x0                                                                                    
004ee0   e103     BNZ       0x4ee8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ee2   0100     MOVLB     0x0                  gAutomaticMotorEnable = FALSE;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ee4   6bd9     CLRF      0xd9,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ee6   d003     BRA       0x4eee             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ee8   0100     MOVLB     0x0                  gAutomaticMotorEnable = TRUE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eea   0e01     MOVLW     0x1                                                                                             
004eec   6fd9     MOVWF     0xd9,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,51,<limit_switch_mask>                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004eee   d21d     BRA       0x532a           else if (51u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ef0   0e33     MOVLW     0x33                                                                                            
004ef2   6e46     MOVWF     0x46,0x0                                                                                        
004ef4   6a47     CLRF      0x47,0x0                                                                                        
004ef6   50df     MOVF      0xdf,0x0,0x0                                                                                    
004ef8   1846     XORWF     0x46,0x0,0x0                                                                                    
004efa   e103     BNZ       0x4f02                                                                                          
004efc   52de     MOVF      0xde,0x1,0x0                                                                                    
004efe   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004f00   1847     XORWF     0x47,0x0,0x0                                                                                    
004f02   e111     BNZ       0x4f26                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f04   0eff     MOVLW     0xff               gLimitSwitchMask = (paramater_value & 0xFF);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f06   6ee7     MOVWF     0xe7,0x0                                                                                        
004f08   0e02     MOVLW     0x2                                                                                             
004f0a   cfdb     MOVFF     0xfdb,0x46                                                                                      
004f0c   f046                                                                                                               
004f0e   0e03     MOVLW     0x3                                                                                             
004f10   cfdb     MOVFF     0xfdb,0x47                                                                                      
004f12   f047                                                                                                               
004f14   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004f16   1646     ANDWF     0x46,0x1,0x0                                                                                    
004f18   6a47     CLRF      0x47,0x0                                                                                        
004f1a   5046     MOVF      0x46,0x0,0x0                                                                                    
004f1c   6e0c     MOVWF     0xc,0x0                                                                                         
004f1e   500c     MOVF      0xc,0x0,0x0        if (gLimitSwitchMask == 0u)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f20   e101     BNZ       0x4f24                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f22   900e     BCF       0xe,0x0,0x0          bitclrzero(gLimitSwitchTriggered);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,52,<limit_siwtch_target>                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f24   d202     BRA       0x532a           else if (52u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f26   0e34     MOVLW     0x34                                                                                            
004f28   6e46     MOVWF     0x46,0x0                                                                                        
004f2a   6a47     CLRF      0x47,0x0                                                                                        
004f2c   50df     MOVF      0xdf,0x0,0x0                                                                                    
004f2e   1846     XORWF     0x46,0x0,0x0                                                                                    
004f30   e103     BNZ       0x4f38                                                                                          
004f32   52de     MOVF      0xde,0x1,0x0                                                                                    
004f34   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004f36   1847     XORWF     0x47,0x0,0x0                                                                                    
004f38   e10e     BNZ       0x4f56                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f3a   0eff     MOVLW     0xff               gLimitSwitchTarget = (paramater_value & 0xFF);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f3c   6ee7     MOVWF     0xe7,0x0                                                                                        
004f3e   0e02     MOVLW     0x2                                                                                             
004f40   cfdb     MOVFF     0xfdb,0x46                                                                                      
004f42   f046                                                                                                               
004f44   0e03     MOVLW     0x3                                                                                             
004f46   cfdb     MOVFF     0xfdb,0x47                                                                                      
004f48   f047                                                                                                               
004f4a   50e7     MOVF      0xe7,0x0,0x0                                                                                    
004f4c   1646     ANDWF     0x46,0x1,0x0                                                                                    
004f4e   6a47     CLRF      0x47,0x0                                                                                        
004f50   5046     MOVF      0x46,0x0,0x0                                                                                    
004f52   6e0d     MOVWF     0xd,0x0                                                                                         
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,53,1 turns on the sending of "Limit switch trigger" replies              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f54   d1ea     BRA       0x532a           else if (53u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f56   0e35     MOVLW     0x35                                                                                            
004f58   6e46     MOVWF     0x46,0x0                                                                                        
004f5a   6a47     CLRF      0x47,0x0                                                                                        
004f5c   50df     MOVF      0xdf,0x0,0x0                                                                                    
004f5e   1846     XORWF     0x46,0x0,0x0                                                                                    
004f60   e103     BNZ       0x4f68                                                                                          
004f62   52de     MOVF      0xde,0x1,0x0                                                                                    
004f64   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004f66   1847     XORWF     0x47,0x0,0x0                                                                                    
004f68   e114     BNZ       0x4f92                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f6a   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f6c   6e46     MOVWF     0x46,0x0                                                                                        
004f6e   6a47     CLRF      0x47,0x0                                                                                        
004f70   0e02     MOVLW     0x2                                                                                             
004f72   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f74   1846     XORWF     0x46,0x0,0x0                                                                                    
004f76   e103     BNZ       0x4f7e                                                                                          
004f78   0e03     MOVLW     0x3                                                                                             
004f7a   50db     MOVF      0xdb,0x0,0x0                                                                                    
004f7c   1847     XORWF     0x47,0x0,0x0                                                                                    
004f7e   e104     BNZ       0x4f88                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f80   0100     MOVLB     0x0                  gLimitSwitchReplies = TRUE;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f82   0e01     MOVLW     0x1                                                                                             
004f84   6fdd     MOVWF     0xdd,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f86   d004     BRA       0x4f90             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f88   0100     MOVLB     0x0                  gLimitSwitchReplies = FALSE;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f8a   6bdd     CLRF      0xdd,0x1                                                                                        
004f8c   0100     MOVLB     0x0                  gLimitSwitchReplyPrinted = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f8e   6bde     CLRF      0xde,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,54,1 turns on command checksums                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f90   d1cc     BRA       0x532a           else if (54u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004f92   0e36     MOVLW     0x36                                                                                            
004f94   6e46     MOVWF     0x46,0x0                                                                                        
004f96   6a47     CLRF      0x47,0x0                                                                                        
004f98   50df     MOVF      0xdf,0x0,0x0                                                                                    
004f9a   1846     XORWF     0x46,0x0,0x0                                                                                    
004f9c   e103     BNZ       0x4fa4                                                                                          
004f9e   52de     MOVF      0xde,0x1,0x0                                                                                    
004fa0   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004fa2   1847     XORWF     0x47,0x0,0x0                                                                                    
004fa4   e112     BNZ       0x4fca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fa6   0e01     MOVLW     0x1                if (1 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fa8   6e46     MOVWF     0x46,0x0                                                                                        
004faa   6a47     CLRF      0x47,0x0                                                                                        
004fac   0e02     MOVLW     0x2                                                                                             
004fae   50db     MOVF      0xdb,0x0,0x0                                                                                    
004fb0   1846     XORWF     0x46,0x0,0x0                                                                                    
004fb2   e103     BNZ       0x4fba                                                                                          
004fb4   0e03     MOVLW     0x3                                                                                             
004fb6   50db     MOVF      0xdb,0x0,0x0                                                                                    
004fb8   1847     XORWF     0x47,0x0,0x0                                                                                    
004fba   e104     BNZ       0x4fc4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fbc   0100     MOVLB     0x0                  gCommandChecksumRequired = TRUE;                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fbe   0e01     MOVLW     0x1                                                                                             
004fc0   6fdf     MOVWF     0xdf,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc2   d002     BRA       0x4fc8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc4   0100     MOVLB     0x0                  gCommandChecksumRequired = FALSE;                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc6   6bdf     CLRF      0xdf,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,60,<NewThreshold>                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fc8   d1b0     BRA       0x532a           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fca   0e3c     MOVLW     0x3c                                                                                            
004fcc   6e46     MOVWF     0x46,0x0                                                                                        
004fce   6a47     CLRF      0x47,0x0                                                                                        
004fd0   50df     MOVF      0xdf,0x0,0x0                                                                                    
004fd2   1846     XORWF     0x46,0x0,0x0                                                                                    
004fd4   e103     BNZ       0x4fdc                                                                                          
004fd6   52de     MOVF      0xde,0x1,0x0                                                                                    
004fd8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
004fda   1847     XORWF     0x47,0x0,0x0                                                                                    
004fdc   e10d     BNZ       0x4ff8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fde   0e02     MOVLW     0x2                g_PowerMonitorThresholdADC = (paramater_value & 0x03FF);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004fe0   cfdb     MOVFF     0xfdb,0xa5                                                                                      
004fe2   f0a5                                                                                                               
004fe4   0e03     MOVLW     0x3                                                                                             
004fe6   cfdb     MOVFF     0xfdb,0xa6                                                                                      
004fe8   f0a6                                                                                                               
004fea   0eff     MOVLW     0xff                                                                                            
004fec   0100     MOVLB     0x0                                                                                             
004fee   17a5     ANDWF     0xa5,0x1,0x1                                                                                    
004ff0   0e03     MOVLW     0x3                                                                                             
004ff2   0100     MOVLB     0x0                                                                                             
004ff4   17a6     ANDWF     0xa6,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,61,<NewStepperDisableTimeoutThreshold>                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ff6   d199     BRA       0x532a           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
004ff8   0e3d     MOVLW     0x3d                                                                                            
004ffa   6e46     MOVWF     0x46,0x0                                                                                        
004ffc   6a47     CLRF      0x47,0x0                                                                                        
004ffe   50df     MOVF      0xdf,0x0,0x0                                                                                    
005000   1846     XORWF     0x46,0x0,0x0                                                                                    
005002   e103     BNZ       0x500a                                                                                          
005004   52de     MOVF      0xde,0x1,0x0                                                                                    
005006   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005008   1847     XORWF     0x47,0x0,0x0                                                                                    
00500a   e137     BNZ       0x507a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00500c   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00500e   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;    // Turn low priority interrupts off                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005010   0e02     MOVLW     0x2                g_StepperDisableTimeoutS = paramater_value;                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005012   cfdb     MOVFF     0xfdb,0xa9                                                                                      
005014   f0a9                                                                                                               
005016   0e03     MOVLW     0x3                                                                                             
005018   cfdb     MOVFF     0xfdb,0xaa                                                                                      
00501a   f0aa                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00501c   0100     MOVLB     0x0                if (g_StepperDisableTimeoutS == 0u)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00501e   51a9     MOVF      0xa9,0x0,0x1                                                                                    
005020   11aa     IORWF     0xaa,0x0,0x1                                                                                    
005022   e109     BNZ       0x5036                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn feature completely off no matter what state we're in               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005024   0100     MOVLB     0x0                  g_StepperDisableState = kSTEPPER_TIMEOUT_DISABLED;                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005026   6ba8     CLRF      0xa8,0x1                                                                                        
005028   0100     MOVLB     0x0                  g_StepperDisableSecondCounter = 0;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00502a   6bab     CLRF      0xab,0x1                                                                                        
00502c   6bac     CLRF      0xac,0x1                                                                                        
00502e   0100     MOVLB     0x0                  g_StepperDisableCountdownS = 0;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005030   6bad     CLRF      0xad,0x1                                                                                        
005032   6bae     CLRF      0xae,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005034   d01f     BRA       0x5074             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // User wants feature enabled with new timeout. Do different things        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // based on current state.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005036   0100     MOVLB     0x0                  switch (g_StepperDisableState)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005038   51a8     MOVF      0xa8,0x0,0x1                                                                                    
00503a   0a03     XORLW     0x3                                                                                             
00503c   e014     BZ        0x5066                                                                                          
00503e   0a02     XORLW     0x2                                                                                             
005040   e00f     BZ        0x5060                                                                                          
005042   0a01     XORLW     0x1                                                                                             
005044   e00d     BZ        0x5060                                                                                          
005046   0a02     XORLW     0x2                                                                                             
005048   e001     BZ        0x504c                                                                                          
00504a   d00a     BRA       0x5060                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_TIMING:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                     // Always start over with new timeout value                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00504c   c0a9     MOVFF     0xa9,0xad                g_StepperDisableCountdownS = g_StepperDisableTimeoutS;                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00504e   f0ad                                                                                                               
005050   c0aa     MOVFF     0xaa,0xae                                                                                       
005052   f0ae                                                                                                               
005054   0100     MOVLB     0x0                      g_StepperDisableSecondCounter = 1000u;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005056   0ee8     MOVLW     0xe8                                                                                            
005058   6fab     MOVWF     0xab,0x1                                                                                        
00505a   0e03     MOVLW     0x3                                                                                             
00505c   6fac     MOVWF     0xac,0x1                                                                                        
00505e   d00a     BRA       0x5074                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   default:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_PRIMED:                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_DISABLED:                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005060   0100     MOVLB     0x0                      g_StepperDisableState = kSTEPPER_TIMEOUT_PRIMED;                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005062   0e01     MOVLW     0x1                                                                                             
005064   6fa8     MOVWF     0xa8,0x1                                                                                        
                                                     // Note intentional fall-through                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   case kSTEPPER_TIMEOUT_FIRED:                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005066   0100     MOVLB     0x0                      g_StepperDisableSecondCounter = 0;                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005068   6bab     CLRF      0xab,0x1                                                                                        
00506a   6bac     CLRF      0xac,0x1                                                                                        
00506c   0100     MOVLB     0x0                      g_StepperDisableCountdownS = 0;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00506e   6bad     CLRF      0xad,0x1                                                                                        
005070   6bae     CLRF      0xae,0x1                                                                                        
005072   d000     BRA       0x5074                   break;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005074   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;    // Turn low priority interrupts on                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005076   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,250,1 or CU,250,0 to turn on/off GPIO ISR timing debug                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005078   d158     BRA       0x532a           else if (250u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00507a   0efa     MOVLW     0xfa                                                                                            
00507c   6e46     MOVWF     0x46,0x0                                                                                        
00507e   6a47     CLRF      0x47,0x0                                                                                        
005080   50df     MOVF      0xdf,0x0,0x0                                                                                    
005082   1846     XORWF     0x46,0x0,0x0                                                                                    
005084   e103     BNZ       0x508c                                                                                          
005086   52de     MOVF      0xde,0x1,0x0                                                                                    
005088   50dd     MOVF      0xdd,0x0,0x0                                                                                    
00508a   1847     XORWF     0x47,0x0,0x0                                                                                    
00508c   e11d     BNZ       0x50c8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00508e   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005090   0f02     ADDLW     0x2                                                                                             
005092   6ee9     MOVWF     0xe9,0x0                                                                                        
005094   cfda     MOVFF     0xfda,0xfea                                                                                     
005096   ffea                                                                                                               
005098   50ee     MOVF      0xee,0x0,0x0                                                                                    
00509a   10ed     IORWF     0xed,0x0,0x0                                                                                    
00509c   e102     BNZ       0x50a2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00509e   9209     BCF       0x9,0x1,0x0          bitclr(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a0   d012     BRA       0x50c6             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050a2   0e01     MOVLW     0x1                                                                                             
0050a4   6e46     MOVWF     0x46,0x0                                                                                        
0050a6   6a47     CLRF      0x47,0x0                                                                                        
0050a8   0e02     MOVLW     0x2                                                                                             
0050aa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0050ac   1846     XORWF     0x46,0x0,0x0                                                                                    
0050ae   e103     BNZ       0x50b6                                                                                          
0050b0   0e03     MOVLW     0x3                                                                                             
0050b2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0050b4   1847     XORWF     0x47,0x0,0x0                                                                                    
0050b6   e105     BNZ       0x50c2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050b8   8209     BSF       0x9,0x1,0x0          bitset(TestMode, TEST_MODE_GPIO_NUM);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ba   9295     BCF       0x95,0x1,0x0         TRISDbits.TRISD1 = 0;   // D1 high when in ISR                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050bc   9095     BCF       0x95,0x0,0x0         TRISDbits.TRISD0 = 0;   // D0 high when loading next command               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050be   9292     BCF       0x92,0x1,0x0         TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c0   d002     BRA       0x50c6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c2   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c4   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,251,1 or CU,251,0 to turn on/off ISR end of move values printing (On RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c6   d131     BRA       0x532a           else if (251u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050c8   0efb     MOVLW     0xfb                                                                                            
0050ca   6e46     MOVWF     0x46,0x0                                                                                        
0050cc   6a47     CLRF      0x47,0x0                                                                                        
0050ce   50df     MOVF      0xdf,0x0,0x0                                                                                    
0050d0   1846     XORWF     0x46,0x0,0x0                                                                                    
0050d2   e103     BNZ       0x50da                                                                                          
0050d4   52de     MOVF      0xde,0x1,0x0                                                                                    
0050d6   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0050d8   1847     XORWF     0x47,0x0,0x0                                                                                    
0050da   e12b     BNZ       0x5132                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050dc   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050de   0f02     ADDLW     0x2                                                                                             
0050e0   6ee9     MOVWF     0xe9,0x0                                                                                        
0050e2   cfda     MOVFF     0xfda,0xfea                                                                                     
0050e4   ffea                                                                                                               
0050e6   50ee     MOVF      0xee,0x0,0x0                                                                                    
0050e8   10ed     IORWF     0xed,0x0,0x0                                                                                    
0050ea   e103     BNZ       0x50f2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ec   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050ee   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050f0   d01f     BRA       0x5130             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0050f2   0e01     MOVLW     0x1                                                                                             
0050f4   6e46     MOVWF     0x46,0x0                                                                                        
0050f6   6a47     CLRF      0x47,0x0                                                                                        
0050f8   0e02     MOVLW     0x2                                                                                             
0050fa   50db     MOVF      0xdb,0x0,0x0                                                                                    
0050fc   1846     XORWF     0x46,0x0,0x0                                                                                    
0050fe   e103     BNZ       0x5106                                                                                          
005100   0e03     MOVLW     0x3                                                                                             
005102   50db     MOVF      0xdb,0x0,0x0                                                                                    
005104   1847     XORWF     0x47,0x0,0x0                                                                                    
005106   e112     BNZ       0x512c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005108   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00510a   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00510c   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00510e   6ee6     MOVWF     0xe6,0x0                                                                                        
005110   ecd2     CALL      0x91a4,0x0                                                                                      
005112   f048                                                                                                               
005114   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00511c   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00511e   6ee6     MOVWF     0xe6,0x0                                                                                        
005116   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005118   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00511a   6ae6     CLRF      0xe6,0x0                                                                                        
005120   eccc     CALL      0x8f98,0x0                                                                                      
005122   f047                                                                                                               
005124   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005126   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005128   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00512a   d002     BRA       0x5130             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00512c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00512e   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,252,1 or CU,252,0 to turn on/off every ISR tick values printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005130   d0fc     BRA       0x532a           else if (252u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005132   0efc     MOVLW     0xfc                                                                                            
005134   6e46     MOVWF     0x46,0x0                                                                                        
005136   6a47     CLRF      0x47,0x0                                                                                        
005138   50df     MOVF      0xdf,0x0,0x0                                                                                    
00513a   1846     XORWF     0x46,0x0,0x0                                                                                    
00513c   e103     BNZ       0x5144                                                                                          
00513e   52de     MOVF      0xde,0x1,0x0                                                                                    
005140   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005142   1847     XORWF     0x47,0x0,0x0                                                                                    
005144   e12b     BNZ       0x519c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005146   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005148   0f02     ADDLW     0x2                                                                                             
00514a   6ee9     MOVWF     0xe9,0x0                                                                                        
00514c   cfda     MOVFF     0xfda,0xfea                                                                                     
00514e   ffea                                                                                                               
005150   50ee     MOVF      0xee,0x0,0x0                                                                                    
005152   10ed     IORWF     0xed,0x0,0x0                                                                                    
005154   e103     BNZ       0x515c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005156   9609     BCF       0x9,0x3,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005158   9409     BCF       0x9,0x2,0x0          bitclr(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00515a   d01f     BRA       0x519a             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00515c   0e01     MOVLW     0x1                                                                                             
00515e   6e46     MOVWF     0x46,0x0                                                                                        
005160   6a47     CLRF      0x47,0x0                                                                                        
005162   0e02     MOVLW     0x2                                                                                             
005164   50db     MOVF      0xdb,0x0,0x0                                                                                    
005166   1846     XORWF     0x46,0x0,0x0                                                                                    
005168   e103     BNZ       0x5170                                                                                          
00516a   0e03     MOVLW     0x3                                                                                             
00516c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00516e   1847     XORWF     0x47,0x0,0x0                                                                                    
005170   e112     BNZ       0x5196                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005172   8609     BSF       0x9,0x3,0x0          bitset(TestMode, TEST_MODE_USART_ISR_FULL_NUM);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005174   8409     BSF       0x9,0x2,0x0          bitset(TestMode, TEST_MODE_USART_ISR_NUM);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005176   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005178   6ee6     MOVWF     0xe6,0x0                                                                                        
00517a   ecd2     CALL      0x91a4,0x0                                                                                      
00517c   f048                                                                                                               
00517e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005186   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005188   6ee6     MOVWF     0xe6,0x0                                                                                        
005180   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005182   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005184   6ae6     CLRF      0xe6,0x0                                                                                        
00518a   eccc     CALL      0x8f98,0x0                                                                                      
00518c   f047                                                                                                               
00518e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005190   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005192   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005194   d002     BRA       0x519a             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005196   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005198   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,253,1 or CU,253,0 to turn on/off move command extra debug printing (on RC6) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00519a   d0c7     BRA       0x532a           else if (253u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00519c   0efd     MOVLW     0xfd                                                                                            
00519e   6e46     MOVWF     0x46,0x0                                                                                        
0051a0   6a47     CLRF      0x47,0x0                                                                                        
0051a2   50df     MOVF      0xdf,0x0,0x0                                                                                    
0051a4   1846     XORWF     0x46,0x0,0x0                                                                                    
0051a6   e103     BNZ       0x51ae                                                                                          
0051a8   52de     MOVF      0xde,0x1,0x0                                                                                    
0051aa   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0051ac   1847     XORWF     0x47,0x0,0x0                                                                                    
0051ae   e129     BNZ       0x5202                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b0   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051b2   0f02     ADDLW     0x2                                                                                             
0051b4   6ee9     MOVWF     0xe9,0x0                                                                                        
0051b6   cfda     MOVFF     0xfda,0xfea                                                                                     
0051b8   ffea                                                                                                               
0051ba   50ee     MOVF      0xee,0x0,0x0                                                                                    
0051bc   10ed     IORWF     0xed,0x0,0x0                                                                                    
0051be   e102     BNZ       0x51c4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051c0   9809     BCF       0x9,0x4,0x0          bitclr(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051c2   d01e     BRA       0x5200             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051c4   0e01     MOVLW     0x1                                                                                             
0051c6   6e46     MOVWF     0x46,0x0                                                                                        
0051c8   6a47     CLRF      0x47,0x0                                                                                        
0051ca   0e02     MOVLW     0x2                                                                                             
0051cc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0051ce   1846     XORWF     0x46,0x0,0x0                                                                                    
0051d0   e103     BNZ       0x51d8                                                                                          
0051d2   0e03     MOVLW     0x3                                                                                             
0051d4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0051d6   1847     XORWF     0x47,0x0,0x0                                                                                    
0051d8   e111     BNZ       0x51fc                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051da   8809     BSF       0x9,0x4,0x0          bitset(TestMode, TEST_MODE_USART_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 baud1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_IDLE_CLK_LOW &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_16_BIT_RATE &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_WAKEUP_OFF &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   BAUD_AUTO_OFF                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051dc   0eec     MOVLW     0xec                 );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051de   6ee6     MOVWF     0xe6,0x0                                                                                        
0051e0   ecd2     CALL      0x91a4,0x0                                                                                      
0051e2   f048                                                                                                               
0051e4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                 Open1USART(                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_TX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_RX_INT_OFF &                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_ASYNCH_MODE &                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_EIGHT_BIT &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_CONT_RX &                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   USART_BRGH_HIGH &                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ec   0e1c     MOVLW     0x1c                   USART_ADDEN_OFF,                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ee   6ee6     MOVWF     0xe6,0x0                                                                                        
0051e6   0e02     MOVLW     0x2                    2                   // At 48 MHz, this creates 4 Mbaud output            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051e8   6ee6     MOVWF     0xe6,0x0             );                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051ea   6ae6     CLRF      0xe6,0x0                                                                                        
0051f0   eccc     CALL      0x8f98,0x0                                                                                      
0051f2   f047                                                                                                               
0051f4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051f6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0051f8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051fa   d002     BRA       0x5200             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051fc   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0051fe   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,254 turns on 'lock up mode' for measuring true ISR timing by cycling     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // I/O pin on and off as fast as possible, then breaks in that I/O toggle      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // can be seen for the ISR and measured.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005200   d094     BRA       0x532a           else if (254u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005202   0efe     MOVLW     0xfe                                                                                            
005204   6e46     MOVWF     0x46,0x0                                                                                        
005206   6a47     CLRF      0x47,0x0                                                                                        
005208   50df     MOVF      0xdf,0x0,0x0                                                                                    
00520a   1846     XORWF     0x46,0x0,0x0                                                                                    
00520c   e103     BNZ       0x5214                                                                                          
00520e   52de     MOVF      0xde,0x1,0x0                                                                                    
005210   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005212   1847     XORWF     0x47,0x0,0x0                                                                                    
005214   e11a     BNZ       0x524a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005216   8209     BSF       0x9,0x1,0x0        bitset(TestMode, TEST_MODE_GPIO_NUM);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005218   9295     BCF       0x95,0x1,0x0       TRISDbits.TRISD1 = 0;   // D1 high when in ISR                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00521a   9095     BCF       0x95,0x0,0x0       TRISDbits.TRISD0 = 0;   // D0 high when loading next command                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00521c   9292     BCF       0x92,0x1,0x0       TRISAbits.TRISA1 = 0;   // A1 when FIFO empty                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005246   d7eb     BRA       0x521e             while(1)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00521e   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005220   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005222   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005224   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005226   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005228   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00522a   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00522c   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00522e   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005230   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005232   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005234   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005236   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005238   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00523a   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00523c   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00523e   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005240   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005242   908c     BCF       0x8c,0x0,0x0           BCF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005244   808c     BSF       0x8c,0x0,0x0           BSF 0x8c,0x0,0x0                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,255,1 or CU,255,0 to turn on/off command parsing debug printing on USB   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005248   d070     BRA       0x532a           else if (255u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00524a   6846     SETF      0x46,0x0                                                                                        
00524c   6a47     CLRF      0x47,0x0                                                                                        
00524e   50df     MOVF      0xdf,0x0,0x0                                                                                    
005250   1846     XORWF     0x46,0x0,0x0                                                                                    
005252   e103     BNZ       0x525a                                                                                          
005254   52de     MOVF      0xde,0x1,0x0                                                                                    
005256   50dd     MOVF      0xdd,0x0,0x0                                                                                    
005258   1847     XORWF     0x47,0x0,0x0                                                                                    
00525a   e11a     BNZ       0x5290                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00525c   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00525e   0f02     ADDLW     0x2                                                                                             
005260   6ee9     MOVWF     0xe9,0x0                                                                                        
005262   cfda     MOVFF     0xfda,0xfea                                                                                     
005264   ffea                                                                                                               
005266   50ee     MOVF      0xee,0x0,0x0                                                                                    
005268   10ed     IORWF     0xed,0x0,0x0                                                                                    
00526a   e102     BNZ       0x5270                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00526c   9a09     BCF       0x9,0x5,0x0          bitclr(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00526e   d00f     BRA       0x528e             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005270   0e01     MOVLW     0x1                                                                                             
005272   6e46     MOVWF     0x46,0x0                                                                                        
005274   6a47     CLRF      0x47,0x0                                                                                        
005276   0e02     MOVLW     0x2                                                                                             
005278   50db     MOVF      0xdb,0x0,0x0                                                                                    
00527a   1846     XORWF     0x46,0x0,0x0                                                                                    
00527c   e103     BNZ       0x5284                                                                                          
00527e   0e03     MOVLW     0x3                                                                                             
005280   50db     MOVF      0xdb,0x0,0x0                                                                                    
005282   1847     XORWF     0x47,0x0,0x0                                                                                    
005284   e102     BNZ       0x528a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005286   8a09     BSF       0x9,0x5,0x0          bitset(TestMode, TEST_MODE_DEBUG_COMMAND_NUM);                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005288   d002     BRA       0x528e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00528a   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00528c   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,256,1 or CU,256,0 to turn on/off sending parsed commands to FIFO         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00528e   d04d     BRA       0x532a           else if (256u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005290   6a46     CLRF      0x46,0x0                                                                                        
005292   0e01     MOVLW     0x1                                                                                             
005294   6e47     MOVWF     0x47,0x0                                                                                        
005296   50df     MOVF      0xdf,0x0,0x0                                                                                    
005298   1846     XORWF     0x46,0x0,0x0                                                                                    
00529a   e103     BNZ       0x52a2                                                                                          
00529c   52de     MOVF      0xde,0x1,0x0                                                                                    
00529e   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0052a0   1847     XORWF     0x47,0x0,0x0                                                                                    
0052a2   e11a     BNZ       0x52d8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052a4   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052a6   0f02     ADDLW     0x2                                                                                             
0052a8   6ee9     MOVWF     0xe9,0x0                                                                                        
0052aa   cfda     MOVFF     0xfda,0xfea                                                                                     
0052ac   ffea                                                                                                               
0052ae   50ee     MOVF      0xee,0x0,0x0                                                                                    
0052b0   10ed     IORWF     0xed,0x0,0x0                                                                                    
0052b2   e102     BNZ       0x52b8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052b4   9c09     BCF       0x9,0x6,0x0          bitclr(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052b6   d00f     BRA       0x52d6             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052b8   0e01     MOVLW     0x1                                                                                             
0052ba   6e46     MOVWF     0x46,0x0                                                                                        
0052bc   6a47     CLRF      0x47,0x0                                                                                        
0052be   0e02     MOVLW     0x2                                                                                             
0052c0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0052c2   1846     XORWF     0x46,0x0,0x0                                                                                    
0052c4   e103     BNZ       0x52cc                                                                                          
0052c6   0e03     MOVLW     0x3                                                                                             
0052c8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0052ca   1847     XORWF     0x47,0x0,0x0                                                                                    
0052cc   e102     BNZ       0x52d2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ce   8c09     BSF       0x9,0x6,0x0          bitset(TestMode, TEST_MODE_DEBUG_BLOCK_FIFO_NUM);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d0   d002     BRA       0x52d6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d2   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d4   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,257,1 or CU,257,0 to turn on/off RC0 as indicator of command is parsing  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d6   d029     BRA       0x532a           else if (257u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052d8   0e01     MOVLW     0x1                                                                                             
0052da   6e46     MOVWF     0x46,0x0                                                                                        
0052dc   0e01     MOVLW     0x1                                                                                             
0052de   6e47     MOVWF     0x47,0x0                                                                                        
0052e0   50df     MOVF      0xdf,0x0,0x0                                                                                    
0052e2   1846     XORWF     0x46,0x0,0x0                                                                                    
0052e4   e103     BNZ       0x52ec                                                                                          
0052e6   52de     MOVF      0xde,0x1,0x0                                                                                    
0052e8   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0052ea   1847     XORWF     0x47,0x0,0x0                                                                                    
0052ec   e11c     BNZ       0x5326                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052ee   50d9     MOVF      0xd9,0x0,0x0       if (0 == paramater_value)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052f0   0f02     ADDLW     0x2                                                                                             
0052f2   6ee9     MOVWF     0xe9,0x0                                                                                        
0052f4   cfda     MOVFF     0xfda,0xfea                                                                                     
0052f6   ffea                                                                                                               
0052f8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0052fa   10ed     IORWF     0xed,0x0,0x0                                                                                    
0052fc   e103     BNZ       0x5304                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0052fe   9009     BCF       0x9,0x0,0x0          bitclrzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005300   8094     BSF       0x94,0x0,0x0         TRISCbits.TRISC0 = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005302   d010     BRA       0x5324             else if (1 == paramater_value)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005304   0e01     MOVLW     0x1                                                                                             
005306   6e46     MOVWF     0x46,0x0                                                                                        
005308   6a47     CLRF      0x47,0x0                                                                                        
00530a   0e02     MOVLW     0x2                                                                                             
00530c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00530e   1846     XORWF     0x46,0x0,0x0                                                                                    
005310   e103     BNZ       0x5318                                                                                          
005312   0e03     MOVLW     0x3                                                                                             
005314   50db     MOVF      0xdb,0x0,0x0                                                                                    
005316   1847     XORWF     0x47,0x0,0x0                                                                                    
005318   e103     BNZ       0x5320                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00531a   8009     BSF       0x9,0x0,0x0          bitsetzero(TestMode); // TEST_MODE_PARSING_COMMAND_NUM                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00531c   9094     BCF       0x94,0x0,0x0         TRISCbits.TRISC0 = 0;   // C0 high when parsing command                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00531e   d002     BRA       0x5324             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005320   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005322   8d97     BSF       0x97,0x6,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005324   d002     BRA       0x532a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005326   0100     MOVLB     0x0                bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005328   8d97     BSF       0x97,0x6,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00532a   6ae6     CLRF      0xe6,0x0         print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00532c   dcb8     RCALL     0x4c9e                                                                                          
00532e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005330   0e04     MOVLW     0x4            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005332   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005334   e202     BC        0x533a                                                                                          
005336   6ae1     CLRF      0xe1,0x0                                                                                        
005338   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00533a   6ee1     MOVWF     0xe1,0x0                                                                                        
00533c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00533e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005340   ffd9                                                                                                               
005342   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QU is "Query Utility" and provides a simple mechanism for the PC reading      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // certain values from the EBB.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QU,<parameter_number><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns: Some value(s), dependant on what parameter_number is.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <parameter_number> <return_packet>                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1   QU,1,XX  where XX is a value from 00 to FF, representing the contents of  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //              the PortB pins at the time of the last limit switch trigger      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 2   QU,2,ddd to read back the maximum supported FIFO length for this version  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 3   QU,3,ddd to read back the current FIFO length                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 4   QU,4,XXX prints out stack high water value (as 3 digit hex value)         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 5   QU,5,XXX prints out stack high water value (as 3 digit hex value) and resets it to zero D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005344   ec85     CALL      0x670a,0x0     void parse_QU_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005346   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 parameter_number;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005348   ec98     CALL      0x6730,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00534a   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00534c   0e01     MOVLW     0x1              extract_number(kUCHAR, &parameter_number, kREQUIRED);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00534e   ecd1     CALL      0x63a2,0x0                                                                                      
005350   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005352   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005354   5197     MOVF      0x97,0x0,0x1                                                                                    
005356   e001     BZ        0x535a                                                                                          
005358   d082     BRA       0x545e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,1 to read back current value of gLimitSwitchPortB                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,1,XX" where XX is two digit hex value from 00 to FF             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00535a   04df     DECF      0xdf,0x0,0x0     if (1u == parameter_number)                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00535c   e108     BNZ       0x536e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00535e   ec22     CALL      0x6644,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005360   f033                                                                                                               
0063ea   6ee6     MOVWF     0xe6,0x0           ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0063ec   eccb     CALL      0x4596,0x0                                                                                      
0063ee   f022                                                                                                               
0063f0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0063f2   0012     RETURN    0x0                                                                                             
005362   0e02     MOVLW     0x2                ebb_print_hex(gLimitSwitchPortB, 2);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005364   6ee6     MOVWF     0xe6,0x0                                                                                        
005366   c0dc     MOVFF     0xdc,0x46                                                                                       
005368   f046                                                                                                               
00536a   6a47     CLRF      0x47,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,2 to read back the maximum supported FIFO length for this version        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,2,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00536c   d020     BRA       0x53ae           else if (2u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00536e   0e02     MOVLW     0x2                                                                                             
005370   ec29     CALL      0x6452,0x0                                                                                      
005372   f032                                                                                                               
005374   e108     BNZ       0x5386                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005376   ec22     CALL      0x6644,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005378   f033                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00537a   0e20     MOVLW     0x20               ebb_print_uint(COMMAND_FIFO_MAX_LENGTH);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00537c   6ee6     MOVWF     0xe6,0x0                                                                                        
00537e   6ae6     CLRF      0xe6,0x0                                                                                        
005380   6ae6     CLRF      0xe6,0x0                                                                                        
005382   6ae6     CLRF      0xe6,0x0                                                                                        
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,3 to read back the current FIFO length                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Returns "QU,3,ddd" where ddd is one to three digit decimal value from 0 to 255 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005384   d044     BRA       0x540e           else if (3u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005386   0e03     MOVLW     0x3                                                                                             
005388   ec29     CALL      0x6452,0x0                                                                                      
00538a   f032                                                                                                               
00538c   e106     BNZ       0x539a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00538e   ec22     CALL      0x6644,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005390   f033                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005392   5013     MOVF      0x13,0x0,0x0       ebb_print_uint(gCurrentFIFOLength);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005394   ec52     CALL      0x64a4,0x0                                                                                      
005396   f032                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // QU,4 prints out current stack high water value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005398   d038     BRA       0x540a           else if (4u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00539a   0e04     MOVLW     0x4                                                                                             
00539c   ec29     CALL      0x6452,0x0                                                                                      
00539e   f032                                                                                                               
0053a0   e109     BNZ       0x53b4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053a2   ecc1     CALL      0x4182,0x0         check_high_water();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053a4   f020                                                                                                               
0053a6   ec22     CALL      0x6644,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053a8   f033                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053aa   ec03     CALL      0x6606,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ac   f033                                                                                                               
0053ae   ecf0     CALL      0x63e0,0x0                                                                                      
0053b0   f031                                                                                                               
006606   0e03     MOVLW     0x3                                                                                             
006608   6ee6     MOVWF     0xe6,0x0                                                                                        
00660a   c0e0     MOVFF     0xe0,0x46                                                                                       
00660c   f046                                                                                                               
00660e   c0e1     MOVFF     0xe1,0x47                                                                                       
006610   f047                                                                                                               
006612   0012     RETURN    0x0                                                                                             
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // CU,5 prints out current stack high water value and resets it to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b2   d04f     BRA       0x5452           else if (5u == parameter_number)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053b4   0e05     MOVLW     0x5                                                                                             
0053b6   ec29     CALL      0x6452,0x0                                                                                      
0053b8   f032                                                                                                               
0053ba   e10e     BNZ       0x53d8                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053bc   ec22     CALL      0x6644,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053be   f033                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053c0   ec03     CALL      0x6606,0x0         ebb_print_hex(gStackHighWater, 3);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053c2   f033                                                                                                               
0053c4   ecf0     CALL      0x63e0,0x0                                                                                      
0053c6   f031                                                                                                               
0063e0   6a48     CLRF      0x48,0x0                                                                                        
0063e2   6a49     CLRF      0x49,0x0                                                                                        
0063e4   da59     RCALL     0x6898                                                                                          
0063e6   efc3     GOTO      0x6786                                                                                          
0063e8   f033                                                                                                               
0053c8   ecd5     CALL      0x63aa,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ca   f031                                                                                                               
0053cc   9cf2     BCF       0xf2,0x6,0x0       INTCONbits.GIEL = 0;  // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ce   0100     MOVLB     0x0                gStackHighWater = 0;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d0   6be0     CLRF      0xe0,0x1                                                                                        
0053d2   6be1     CLRF      0xe1,0x1                                                                                        
0053d4   8cf2     BSF       0xf2,0x6,0x0       INTCONbits.GIEL = 1;  // Turn low priority interrupts on                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 60  QU,60,dddd prints out current value of g_PowerMonitorThresholdADC       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d6   d041     BRA       0x545a           else if (60u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053d8   0e3c     MOVLW     0x3c                                                                                            
0053da   ec29     CALL      0x6452,0x0                                                                                      
0053dc   f032                                                                                                               
0053de   e107     BNZ       0x53ee                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053e0   ec22     CALL      0x6644,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053e2   f033                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053e4   c0a5     MOVFF     0xa5,0x46          ebb_print_uint(g_PowerMonitorThresholdADC);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053e6   f046                                                                                                               
0053e8   c0a6     MOVFF     0xa6,0x47                                                                                       
0053ea   f047                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // 61  QU,61,dddddd prints out current value of g_StepperDisableTimeoutS       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ec   d00a     BRA       0x5402           else if (61u == parameter_number)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053ee   0e3d     MOVLW     0x3d                                                                                            
0053f0   ec29     CALL      0x6452,0x0                                                                                      
0053f2   f032                                                                                                               
0053f4   e10f     BNZ       0x5414                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f6   ec22     CALL      0x6644,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053f8   f033                                                                                                               
                                               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053fa   c0a9     MOVFF     0xa9,0x46          ebb_print_uint(g_StepperDisableTimeoutS);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0053fc   f046                                                                                                               
0053fe   c0aa     MOVFF     0xaa,0x47                                                                                       
005400   f047                                                                                                               
005402   6a48     CLRF      0x48,0x0                                                                                        
005404   6a49     CLRF      0x49,0x0                                                                                        
005406   c046     MOVFF     0x46,0xfe6                                                                                      
005408   ffe6                                                                                                               
00540a   ec2f     CALL      0x665e,0x0                                                                                      
00540c   f033                                                                                                               
00540e   ec13     CALL      0x6826,0x0                                                                                      
005410   f034                                                                                                               
                                               print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 200 QU,200,dddddddddd,dddddddddd prints out the current value of acc_union[0] and acc_union[1] (the accumulators) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005412   d01f     BRA       0x5452           else if (200u == parameter_number)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005414   0ec8     MOVLW     0xc8                                                                                            
005416   ec29     CALL      0x6452,0x0                                                                                      
005418   f032                                                                                                               
00541a   e11e     BNZ       0x5458                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00541c   ec22     CALL      0x6644,0x0         ebb_print_uint(parameter_number);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00541e   f033                                                                                                               
006644   deef     RCALL     0x6424                                                                                          
006646   d900     RCALL     0x6848                                                                                          
006648   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00664a   eff5     GOTO      0x63ea                                                                                          
00664c   f031                                                                                                               
005420   9ef2     BCF       0xf2,0x7,0x0       INTCONbits.GIEH = 0;    // Turn high priority interrupts off                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005422   c01e     MOVFF     0x1e,0xfe6         ebb_print_uint(acc_union[0].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005424   ffe6                                                                                                               
005426   c01f     MOVFF     0x1f,0xfe6                                                                                      
005428   ffe6                                                                                                               
00542a   c020     MOVFF     0x20,0xfe6                                                                                      
00542c   ffe6                                                                                                               
00542e   c021     MOVFF     0x21,0xfe6                                                                                      
005430   ffe6                                                                                                               
005432   ec13     CALL      0x6826,0x0                                                                                      
005434   f034                                                                                                               
005436   0e2c     MOVLW     0x2c               ebb_print_char(',');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005438   ecf5     CALL      0x63ea,0x0                                                                                      
00543a   f031                                                                                                               
00543c   c022     MOVFF     0x22,0xfe6         ebb_print_uint(acc_union[1].value);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00543e   ffe6                                                                                                               
005440   c023     MOVFF     0x23,0xfe6                                                                                      
005442   ffe6                                                                                                               
005444   c024     MOVFF     0x24,0xfe6                                                                                      
005446   ffe6                                                                                                               
005448   c025     MOVFF     0x25,0xfe6                                                                                      
00544a   ffe6                                                                                                               
00544c   ec13     CALL      0x6826,0x0                                                                                      
00544e   f034                                                                                                               
005450   8ef2     BSF       0xf2,0x7,0x0       INTCONbits.GIEH = 1;    // Turn high priority interrupts on                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005452   ecd5     CALL      0x63aa,0x0         print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005454   f031                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005456   d001     BRA       0x545a           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // parameter_number is not understood                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005458   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00545a   ec20     CALL      0x6440,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00545c   f032                                                                                                               
00545e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005460   efec     GOTO      0x63d8                                                                                          
005462   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "T" Packet                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Causes PIC to sample digital or analog inputs at a regular interval and send  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // I (or A) packets back at that interval.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Send T,0,0<CR> to stop I (or A) packets                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: T,<TIME_BETWEEN_UPDATES_IN_MS>,<MODE><CR>                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <MODE> is 0 for digital (I packets) and 1 for analog (A packets)              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,4000,0<CR>" to send an I packet back every 4 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "T,2000,1<CR>" to send an A packet back every 2 seconds.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_T_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int value;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char mode = 0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <TIME_BETWEEN_UPDATES_IN_MS> value                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, (void *)&time_between_updates, kREQUIRED);               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract the <MODE> value                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &mode, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now start up the timer at the right rate or shut                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // it down.                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (0u == mode)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of I packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_D_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (0u == time_between_updates)                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Turn off sending of A packets.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 T4CONbits.TMR4ON = 1;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Eventually guard this section from interrupts                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 ISR_A_RepeatRate = time_between_updates;                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // IMPORTANT: As of EBB v2.2.3 firmware, this command is different from the      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // UBW version. The analog config value is eliminated, replaced with the "AC"    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // command.                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // FORMAT: C,<portA_IO>,<portB_IO>,<portC_IO>,<portD_IO>,<portE_IO><CR>          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // EXAMPLE: "C,255,0,4,0,0,0<CR>"                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <portX_IO> is the byte sent to the Data Direction (DDR) register for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // each port. A 1 in a bit location means input, a 0 means output.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // NOTE: it is up to the user to tell the proper port direction bits to be       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // inputs for the analog channels they wish to use.                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005464   ece7     CALL      0x63ce,0x0     void parse_C_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005466   f031                                                                                                               
005468   0e05     MOVLW     0x5                                                                                             
00546a   ec36     CALL      0x666c,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char PA, PB, PC, PD, PE;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00546c   f033                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the four values.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00546e   0e01     MOVLW     0x1              extract_number(kUCHAR, &PA, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005470   ecff     CALL      0x67fe,0x0                                                                                      
005472   f033                                                                                                               
005474   ec03     CALL      0x6806,0x0       extract_number(kUCHAR, &PB, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005476   f034                                                                                                               
                                             extract_number(kUCHAR, &PC, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005478   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PD, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00547a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00547c   0f03     ADDLW     0x3                                                                                             
00547e   ec27     CALL      0x664e,0x0                                                                                      
005480   f033                                                                                                               
005482   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &PE, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005484   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005486   0f04     ADDLW     0x4                                                                                             
005488   ec3e     CALL      0x687c,0x0                                                                                      
00548a   f034                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00548c   e110     BNZ       0x54ae           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now write those values to the data direction registers.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00548e   50df     MOVF      0xdf,0x0,0x0     TRISA = PA;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005490   6e92     MOVWF     0x92,0x0                                                                                        
005492   0e01     MOVLW     0x1              TRISB = PB;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005494   50db     MOVF      0xdb,0x0,0x0                                                                                    
005496   6e93     MOVWF     0x93,0x0                                                                                        
005498   0e02     MOVLW     0x2              TRISC = PC;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00549a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00549c   6e94     MOVWF     0x94,0x0                                                                                        
00549e   0e03     MOVLW     0x3              TRISD = PD;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054a0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054a2   6e95     MOVWF     0x95,0x0                                                                                        
0054a4   0e04     MOVLW     0x4              TRISE = PE;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054a6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054a8   6e96     MOVWF     0x96,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054aa   ec20     CALL      0x6440,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ac   f032                                                                                                               
0054ae   0e05     MOVLW     0x5            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054b0   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0054b2   e202     BC        0x54b8                                                                                          
0054b4   6ae1     CLRF      0xe1,0x0                                                                                        
0054b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0054b8   6ee1     MOVWF     0xe1,0x0                                                                                        
0054ba   efec     GOTO      0x63d8                                                                                          
0054bc   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This function turns on or off an analog channel                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is called from other pieces of code, not the user                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054be   ece7     CALL      0x63ce,0x0     void AnalogConfigure(unsigned char Channel, unsigned char Enable)                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054c0   f031                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054c2   0efe     MOVLW     0xfe             if (Channel > 16u)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054c4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054c6   0810     SUBLW     0x10                                                                                            
0054c8   e205     BC        0x54d4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ca   0e10     MOVLW     0x10               Channel = 16;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054cc   6ef3     MOVWF     0xf3,0x0                                                                                        
0054ce   0efe     MOVLW     0xfe                                                                                            
0054d0   cff3     MOVFF     0xff3,0xfdb                                                                                     
0054d2   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d4   0efd     MOVLW     0xfd             if (Enable)                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054d6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054d8   e02b     BZ        0x5530                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054da   0efe     MOVLW     0xfe               AnalogEnabledChannels |= ((unsigned int)0x0001 << Channel);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054dc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0054de   ecf1     CALL      0x91e2,0x0                                                                                      
0054e0   f048                                                                                                               
0054e2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0054e4   0100     MOVLB     0x0                                                                                             
0054e6   13a1     IORWF     0xa1,0x1,0x1                                                                                    
0054e8   50f4     MOVF      0xf4,0x0,0x0                                                                                    
0054ea   13a2     IORWF     0xa2,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ec   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054ee   6ef3     MOVWF     0xf3,0x0                                                                                        
0054f0   0efe     MOVLW     0xfe                                                                                            
0054f2   ecbb     CALL      0x6576,0x0                                                                                      
0054f4   f032                                                                                                               
0054f6   e20d     BC        0x5512                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Clear the right bit in ANCON0                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054f8   0e01     MOVLW     0x1                  ANCON0 &= ~(1 << Channel);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0054fa   6ef3     MOVWF     0xf3,0x0                                                                                        
0054fc   0efe     MOVLW     0xfe                                                                                            
0054fe   50db     MOVF      0xdb,0x0,0x0                                                                                    
005500   e003     BZ        0x5508                                                                                          
005502   ec16     CALL      0x642c,0x0                                                                                      
005504   f032                                                                                                               
005506   e1fd     BNZ       0x5502                                                                                          
005508   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00550a   1cf3     COMF      0xf3,0x0,0x0                                                                                    
00550c   010f     MOVLB     0xf                                                                                             
00550e   1748     ANDWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005510   d03d     BRA       0x558c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005512   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005514   50db     MOVF      0xdb,0x0,0x0                                                                                    
005516   080c     SUBLW     0xc                                                                                             
005518   e339     BNC       0x558c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Clear the right bit in ANCON1                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00551a   ec0a     CALL      0x6614,0x0             ANCON1 &= ~(1 << (Channel-8));                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00551c   f033                                                                                                               
00551e   e004     BZ        0x5528                                                                                          
005520   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
005522   0bfe     ANDLW     0xfe                                                                                            
005524   0646     DECF      0x46,0x1,0x0                                                                                    
005526   e1fc     BNZ       0x5520                                                                                          
005528   1ce8     COMF      0xe8,0x0,0x0                                                                                    
00552a   010f     MOVLB     0xf                                                                                             
00552c   1749     ANDWF     0x49,0x1,0x1                                                                                    
006614   0efe     MOVLW     0xfe                                                                                            
006616   50db     MOVF      0xdb,0x0,0x0                                                                                    
006618   0ff8     ADDLW     0xf8                                                                                            
00661a   6e46     MOVWF     0x46,0x0                                                                                        
00661c   0e01     MOVLW     0x1                                                                                             
00661e   5246     MOVF      0x46,0x1,0x0                                                                                    
006620   0012     RETURN    0x0                                                                                             
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00552e   d02e     BRA       0x558c           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005530   0efe     MOVLW     0xfe               AnalogEnabledChannels &= ~((unsigned int)0x0001 << Channel);                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005532   50db     MOVF      0xdb,0x0,0x0                                                                                    
005534   ecf1     CALL      0x91e2,0x0                                                                                      
005536   f048                                                                                                               
005538   cff3     MOVFF     0xff3,0x46                                                                                      
00553a   f046                                                                                                               
00553c   cff4     MOVFF     0xff4,0x47                                                                                      
00553e   f047                                                                                                               
005540   1e46     COMF      0x46,0x1,0x0                                                                                    
005542   1e47     COMF      0x47,0x1,0x0                                                                                    
005544   5046     MOVF      0x46,0x0,0x0                                                                                    
005546   0100     MOVLB     0x0                                                                                             
005548   17a1     ANDWF     0xa1,0x1,0x1                                                                                    
00554a   5047     MOVF      0x47,0x0,0x0                                                                                    
00554c   17a2     ANDWF     0xa2,0x1,0x1                                                                                    
                                               // Make sure to turn this analog input off                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00554e   0e08     MOVLW     0x8                if (Channel < 8u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005550   6ef3     MOVWF     0xf3,0x0                                                                                        
005552   0efe     MOVLW     0xfe                                                                                            
005554   ecbb     CALL      0x6576,0x0                                                                                      
005556   f032                                                                                                               
005558   e20c     BC        0x5572                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 // Set the right bit in ANCON0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00555a   0e01     MOVLW     0x1                  ANCON0 |= (1 << Channel);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00555c   6ef3     MOVWF     0xf3,0x0                                                                                        
00555e   0efe     MOVLW     0xfe                                                                                            
005560   50db     MOVF      0xdb,0x0,0x0                                                                                    
005562   e003     BZ        0x556a                                                                                          
005564   ec16     CALL      0x642c,0x0                                                                                      
005566   f032                                                                                                               
005568   e1fd     BNZ       0x5564                                                                                          
00556a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00556c   010f     MOVLB     0xf                                                                                             
00556e   1348     IORWF     0x48,0x1,0x1                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005570   d00d     BRA       0x558c             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005572   0efe     MOVLW     0xfe                 if (Channel <= 12u)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005574   50db     MOVF      0xdb,0x0,0x0                                                                                    
005576   080c     SUBLW     0xc                                                                                             
005578   e309     BNC       0x558c                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   // Set the right bit in ANCON1                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00557a   ec0a     CALL      0x6614,0x0             ANCON1 |= (1 << (Channel-8));                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00557c   f033                                                                                                               
00557e   e004     BZ        0x5588                                                                                          
005580   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
005582   0bfe     ANDLW     0xfe                                                                                            
005584   0646     DECF      0x46,0x1,0x0                                                                                    
005586   e1fc     BNZ       0x5580                                                                                          
005588   010f     MOVLB     0xf                                                                                             
00558a   1349     IORWF     0x49,0x1,0x1                                                                                    
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00558c   efec     GOTO      0x63d8         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00558e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Analog Configure                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "AC,<channel>,<enable><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <channel> is one of the 16 possible analog channels, from 0 through 15        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <enable> is 0 to disable, or 1 to enable                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn on a particular analog channel, use the AC command to enable it.      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // To turn off a particular analog channel, use the AC command to disable it.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Once enabled, that channel will be converted at the normal ADC conversion     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // rate and will show up in A packets.                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005590   ec42     CALL      0x6884,0x0     void parse_AC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005592   f034                                                                                                               
006884   dda4     RCALL     0x63ce                                                                                          
006886   0e02     MOVLW     0x2                                                                                             
006888   def1     RCALL     0x666c                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Channel, Enable;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the two values.                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005594   ecff     CALL      0x67fe,0x0       extract_number(kUCHAR, &Channel, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005596   f033                                                                                                               
00688a   0e01     MOVLW     0x1                                                                                             
00688c   0012     RETURN    0x0                                                                                             
005598   0f01     ADDLW     0x1              extract_number(kUCHAR, &Enable, kREQUIRED);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00559a   ec3e     CALL      0x687c,0x0                                                                                      
00559c   f034                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00559e   e10a     BNZ       0x55b4           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a0   0e01     MOVLW     0x1              AnalogConfigure(Channel, Enable);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055a2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
0055a4   ffe6                                                                                                               
0055a6   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
0055a8   ffe6                                                                                                               
0055aa   df89     RCALL     0x54be                                                                                          
0055ac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055ae   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055b0   ec20     CALL      0x6440,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055b2   f032                                                                                                               
0055b4   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055b6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0055b8   e202     BC        0x55be                                                                                          
0055ba   6ae1     CLRF      0xe1,0x0                                                                                        
0055bc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0055be   6ee1     MOVWF     0xe1,0x0                                                                                        
0055c0   efec     GOTO      0x63d8                                                                                          
0055c2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Outputs values to the ports pins that are set up as outputs.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example "O,121,224,002<CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055c4   ec42     CALL      0x6884,0x0     void parse_O_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055c6   f034                                                                                                               
00666c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0063b8   d988     RCALL     0x66ca           print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00666e   6ae6     CLRF      0xe6,0x0                                                                                        
006670   6ae6     CLRF      0xe6,0x0                                                                                        
006672   efdc     GOTO      0x63b8                                                                                          
006674   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Extract each of the values.                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055c8   ecd1     CALL      0x63a2,0x0       RetVal = extract_number(kUCHAR,  &Value, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ca   f031                                                                                                               
0055cc   ec6d     CALL      0x64da,0x0                                                                                      
0055ce   f032                                                                                                               
0063ba   6ae6     CLRF      0xe6,0x0                                                                                        
0063bc   efed     GOTO      0x67da                                                                                          
0063be   f033                                                                                                               
0055d0   e127     BNZ       0x5620           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d2   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0055d6   e102     BNZ       0x55dc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055d8   50df     MOVF      0xdf,0x0,0x0       LATA = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055da   6e89     MOVWF     0x89,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055dc   ec4e     CALL      0x669c,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055de   f033                                                                                                               
0055e0   e11f     BNZ       0x5620           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e2   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0055e6   e102     BNZ       0x55ec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055e8   50df     MOVF      0xdf,0x0,0x0       LATB = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ea   6e8a     MOVWF     0x8a,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ec   ec4e     CALL      0x669c,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055ee   f033                                                                                                               
0055f0   e117     BNZ       0x5620           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055f2   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055f4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0055f6   e102     BNZ       0x55fc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055f8   50df     MOVF      0xdf,0x0,0x0       LATC = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055fa   6e8b     MOVWF     0x8b,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055fc   ec4e     CALL      0x669c,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0055fe   f033                                                                                                               
005600   e10f     BNZ       0x5620           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005602   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005604   50db     MOVF      0xdb,0x0,0x0                                                                                    
005606   e102     BNZ       0x560c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005608   50df     MOVF      0xdf,0x0,0x0       LATD = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00560a   6e8c     MOVWF     0x8c,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00560c   ec4e     CALL      0x669c,0x0       RetVal = extract_number(kUCHAR,  &Value, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00560e   f033                                                                                                               
0064da   6ee7     MOVWF     0xe7,0x0                                                                                        
0064dc   0e01     MOVLW     0x1                                                                                             
0064de   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0064e0   ffdb                                                                                                               
006536   6ee6     MOVWF     0xe6,0x0                                                                                        
006538   efed     GOTO      0x67da                                                                                          
00653a   f033                                                                                                               
00669c   0e01     MOVLW     0x1                                                                                             
00669e   df4b     RCALL     0x6536                                                                                          
0066a0   de80     RCALL     0x63a2                                                                                          
0066a2   ef6d     GOTO      0x64da                                                                                          
0066a4   f032                                                                                                               
0067da   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0067dc   ffe6                                                                                                               
0067de   cfda     MOVFF     0xfda,0xfe6                                                                                     
0067e0   ffe6                                                                                                               
0067e2   0012     RETURN    0x0                                                                                             
005610   e107     BNZ       0x5620           if (error_byte) return;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064e2   0100     MOVLB     0x0                                                                                             
0064e4   5197     MOVF      0x97,0x0,0x1                                                                                    
0064e6   0012     RETURN    0x0                                                                                             
005612   0e01     MOVLW     0x1              if (kEXTRACT_OK == RetVal)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005614   50db     MOVF      0xdb,0x0,0x0                                                                                    
005616   e102     BNZ       0x561c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005618   50df     MOVF      0xdf,0x0,0x0       LATE = Value;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00561a   6e8d     MOVWF     0x8d,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00561c   ec20     CALL      0x6440,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00561e   f032                                                                                                               
005620   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005622   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005624   e202     BC        0x562a                                                                                          
005626   6ae1     CLRF      0xe1,0x0                                                                                        
005628   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00562a   6ee1     MOVWF     0xe1,0x0                                                                                        
00562c   efec     GOTO      0x63d8                                                                                          
00562e   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Read in the three I/O ports (A,B,C) and create                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a packet to send back with all of values.                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "I,143,221,010<CR>"                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Remember that on UBW 28 pin boards, we only have                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Port A bits 0 through 5                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Port B bits 0 through 7                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Port C bits 0,1,2 and 6,7                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // And that Port C bits 0,1,2 are used for                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // User1 LED, User2 LED and Program switch respectively.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The rest will be read in as zeros.                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_I_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005630   0e01     MOVLW     0x1              print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005632   6ee6     MOVWF     0xe6,0x0                                                                                        
005634   6ee6     MOVWF     0xe6,0x0                                                                                        
005636   ec65     CALL      0x66ca,0x0                                                                                      
005638   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00563a   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(PORTA);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00563c   ec53     CALL      0x66a6,0x0                                                                                      
00563e   f033                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005640   5081     MOVF      0x81,0x0,0x0     ebb_print_uint(PORTB);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005642   ec53     CALL      0x66a6,0x0                                                                                      
005644   f033                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005646   5082     MOVF      0x82,0x0,0x0     ebb_print_uint(PORTC);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005648   ec53     CALL      0x66a6,0x0                                                                                      
00564a   f033                                                                                                               
                                             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00564c   5083     MOVF      0x83,0x0,0x0     ebb_print_uint(PORTD);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00564e   ec53     CALL      0x66a6,0x0                                                                                      
005650   f033                                                                                                               
00639c   d960     RCALL     0x665e                                                                                          
00639e   ef13     GOTO      0x6826                                                                                          
0063a0   f034                                                                                                               
00665e   c047     MOVFF     0x47,0xfe6                                                                                      
006660   ffe6                                                                                                               
006662   c048     MOVFF     0x48,0xfe6                                                                                      
006664   ffe6                                                                                                               
006666   c049     MOVFF     0x49,0xfe6                                                                                      
006668   ffe6                                                                                                               
00666a   0012     RETURN    0x0                                                                                             
0066a6   d8e0     RCALL     0x6868                                                                                          
006826   ec6b     CALL      0x86d6,0x0                                                                                      
006828   f043                                                                                                               
00682a   ef3b     GOTO      0x6676                                                                                          
00682c   f033                                                                                                               
006868   de1d     RCALL     0x64a4                                                                                          
00686a   efce     GOTO      0x639c                                                                                          
00686c   f031                                                                                                               
0066a8   0e2c     MOVLW     0x2c             ebb_print_char(',');                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066aa   eff5     GOTO      0x63ea                                                                                          
0066ac   f031                                                                                                               
005652   5084     MOVF      0x84,0x0,0x0     ebb_print_uint(PORTE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005654   ec34     CALL      0x6868,0x0                                                                                      
005656   f034                                                                                                               
005658   efd5     GOTO      0x63aa           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00565a   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // All we do here is just print out our version number                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_V_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00565c   ecac     CALL      0x6558,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00565e   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005660   0ebc     MOVLW     0xbc             ebb_print((far rom char *)st_version);                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005662   6e46     MOVWF     0x46,0x0                                                                                        
005664   0e8d     MOVLW     0x8d                                                                                            
005666   ef57     GOTO      0x66ae                                                                                          
005668   f033                                                                                                               
0066ae   de73     RCALL     0x6396                                                                                          
0066b0   efd5     GOTO      0x63aa           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066b2   f031                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // A is for read Analog inputs                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just print out the analog values for each of the                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // enabled channels.                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returned packet will look like                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "A,2:421,5:891,9:3921<CR>" if channels 2, 5 and 9                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // are enabled.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00566a   ec20     CALL      0x6840,0x0     void parse_A_packet(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00566c   f034                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00566e   6adf     CLRF      0xdf,0x0         char channel = 0;                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005670   0e01     MOVLW     0x1              unsigned int ChannelBit = 0x0001;                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005672   6ef3     MOVWF     0xf3,0x0                                                                                        
005674   6edb     MOVWF     0xdb,0x0                                                                                        
005676   0e02     MOVLW     0x2                                                                                             
005678   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00567a   6ae6     CLRF      0xe6,0x0         print_command(TRUE, FALSE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00567c   0e01     MOVLW     0x1                                                                                             
00567e   6ee6     MOVWF     0xe6,0x0                                                                                        
005680   ec65     CALL      0x66ca,0x0                                                                                      
005682   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Sit and spin, waiting for one set of analog conversions to complete         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005684   bc9d     BTFSC     0x9d,0x6,0x0     while (PIE1bits.ADIE);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005686   d7fe     BRA       0x5684                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now print each analog value                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005688   6adf     CLRF      0xdf,0x0         for (channel = 0; channel < 16; channel++)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00568a   cfdf     MOVFF     0xfdf,0x46                                                                                      
00568c   f046                                                                                                               
00568e   0e10     MOVLW     0x10                                                                                            
005690   6ee7     MOVWF     0xe7,0x0                                                                                        
005692   1846     XORWF     0x46,0x0,0x0                                                                                    
005694   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
005696   d002     BRA       0x569c                                                                                          
005698   34e7     RLCF      0xe7,0x0,0x0                                                                                    
00569a   d002     BRA       0x56a0                                                                                          
00569c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00569e   5c46     SUBWF     0x46,0x0,0x0                                                                                    
0056a0   e23b     BC        0x5718                                                                                          
005714   2adf     INCF      0xdf,0x1,0x0                                                                                    
005716   d7b9     BRA       0x568a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056a2   0e01     MOVLW     0x1                if (ChannelBit & AnalogEnabledChannels)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056a4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0056a6   0100     MOVLB     0x0                                                                                             
0056a8   15a1     ANDWF     0xa1,0x0,0x1                                                                                    
0056aa   0100     MOVLB     0x0                                                                                             
0056ac   6e46     MOVWF     0x46,0x0                                                                                        
0056ae   0e02     MOVLW     0x2                                                                                             
0056b0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0056b2   0100     MOVLB     0x0                                                                                             
0056b4   15a2     ANDWF     0xa2,0x0,0x1                                                                                    
0056b6   0100     MOVLB     0x0                                                                                             
0056b8   6e47     MOVWF     0x47,0x0                                                                                        
0056ba   5046     MOVF      0x46,0x0,0x0                                                                                    
0056bc   1047     IORWF     0x47,0x0,0x0                                                                                    
0056be   e01f     BZ        0x56fe                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c0   0e2c     MOVLW     0x2c                 ebb_print_char(',');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c2   ecf5     CALL      0x63ea,0x0                                                                                      
0056c4   f031                                                                                                               
0056c6   ec12     CALL      0x6424,0x0           ebb_print_uint(channel);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056c8   f032                                                                                                               
0056ca   ae46     BTFSS     0x46,0x7,0x0                                                                                    
0056cc   d003     BRA       0x56d4                                                                                          
0056ce   6847     SETF      0x47,0x0                                                                                        
0056d0   6848     SETF      0x48,0x0                                                                                        
0056d2   6849     SETF      0x49,0x0                                                                                        
0056d4   ec24     CALL      0x6848,0x0                                                                                      
0056d6   f034                                                                                                               
0056d8   0e3a     MOVLW     0x3a                 ebb_print_char(':');                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056da   ecf5     CALL      0x63ea,0x0                                                                                      
0056dc   f031                                                                                                               
0056de   cfdf     MOVFF     0xfdf,0xfe9          ebb_print_uint(ISR_A_FIFO[channel]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056e0   ffe9                                                                                                               
0056e2   6aea     CLRF      0xea,0x0                                                                                        
0056e4   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0056e6   68ea     SETF      0xea,0x0                                                                                        
0056e8   ec75     CALL      0x66ea,0x0                                                                                      
0056ea   f033                                                                                                               
0056ec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0056ee   cfee     MOVFF     0xfee,0x46                                                                                      
0056f0   f046                                                                                                               
0056f2   cfef     MOVFF     0xfef,0x47                                                                                      
0056f4   f047                                                                                                               
0056f6   6a48     CLRF      0x48,0x0                                                                                        
0056f8   6a49     CLRF      0x49,0x0                                                                                        
0056fa   ec24     CALL      0x6848,0x0                                                                                      
0056fc   f034                                                                                                               
0066ea   90d8     BCF       0xd8,0x0,0x0                                                                                    
0066ec   36e9     RLCF      0xe9,0x1,0x0                                                                                    
0066ee   36ea     RLCF      0xea,0x1,0x0                                                                                    
0066f0   0e00     MOVLW     0x0                                                                                             
0066f2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0066f4   0e01     MOVLW     0x1                                                                                             
0066f6   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0056fe   ecee     CALL      0x65dc,0x0         ChannelBit = ChannelBit << 1;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005700   f032                                                                                                               
005702   90d8     BCF       0xd8,0x0,0x0                                                                                    
005704   3646     RLCF      0x46,0x1,0x0                                                                                    
005706   3647     RLCF      0x47,0x1,0x0                                                                                    
005708   0e01     MOVLW     0x1                                                                                             
00570a   c046     MOVFF     0x46,0xfdb                                                                                      
00570c   ffdb                                                                                                               
00570e   0e02     MOVLW     0x2                                                                                             
005710   c047     MOVFF     0x47,0xfdb                                                                                      
005712   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Add \r\n (for line ending legacy mode : note this is backwards from how     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // the rest of the code does legacy line endings) or just \n for new line      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // ending mode.                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005718   0e02     MOVLW     0x2              print_line_ending(kLE_REV);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00571a   ece8     CALL      0x67d0,0x0                                                                                      
00571c   f033                                                                                                               
00571e   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005720   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005722   e202     BC        0x5728                                                                                          
005724   6ae1     CLRF      0xe1,0x0                                                                                        
005726   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005728   6ee1     MOVWF     0xe1,0x0                                                                                        
00572a   efec     GOTO      0x63d8                                                                                          
00572c   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MW is for Memory Write                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location>,<value><CR>"                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to write to  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is a decimal value between 0 and 255 that is the value to write       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00572e   ec1c     CALL      0x6838,0x0     void parse_MW_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005730   f034                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005732   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005734   ecff     CALL      0x67fe,0x0                                                                                      
005736   f033                                                                                                               
005738   0f02     ADDLW     0x2              extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00573a   ec3e     CALL      0x687c,0x0                                                                                      
00573c   f034                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00573e   e10a     BNZ       0x5754           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005740   ecca     CALL      0x6794,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005742   f033                                                                                                               
005744   e205     BC        0x5750                                                                                          
006794   dee6     RCALL     0x6562                                                                                          
006796   0e00     MOVLW     0x0                                                                                             
006798   5c46     SUBWF     0x46,0x0,0x0                                                                                    
00679a   0e10     MOVLW     0x10                                                                                            
00679c   5847     SUBWFB    0x47,0x0,0x0                                                                                    
00679e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005746   ecb6     CALL      0x656c,0x0         *((unsigned char *)location) = value;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005748   f032                                                                                                               
00574a   0e02     MOVLW     0x2                                                                                             
00574c   cfdb     MOVFF     0xfdb,0xfef                                                                                     
00574e   ffef                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005750   ec20     CALL      0x6440,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005752   f032                                                                                                               
005754   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005756   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005758   e202     BC        0x575e                                                                                          
00575a   6ae1     CLRF      0xe1,0x0                                                                                        
00575c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00575e   6ee1     MOVWF     0xe1,0x0                                                                                        
005760   efec     GOTO      0x63d8                                                                                          
005762   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // MR is for Memory Read                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "MW,<location><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <location> is a decimal value between 0 and 4096 indicating the RAM address to read from  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The UBW will then send a "MR,<value><CR>" packet back to the PC               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the byte value read from the address                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005764   ec20     CALL      0x6840,0x0     void parse_MR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005766   f034                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int location;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005768   ec98     CALL      0x6730,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00576a   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00576c   0e03     MOVLW     0x3              extract_number(kUINT, &location, kREQUIRED);                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00576e   ecd1     CALL      0x63a2,0x0                                                                                      
005770   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005772   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005774   5197     MOVF      0x97,0x0,0x1                                                                                    
005776   e10d     BNZ       0x5792                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the address and write the byte in                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005778   ecca     CALL      0x6794,0x0       if (location < 4096u)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00577a   f033                                                                                                               
00577c   e205     BC        0x5788                                                                                          
006562   cfde     MOVFF     0xfde,0x46                                                                                      
006564   f046                                                                                                               
006566   cfdd     MOVFF     0xfdd,0x47                                                                                      
006568   f047                                                                                                               
00656a   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00577e   ecb6     CALL      0x656c,0x0         value = *((unsigned char *)location);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005780   f032                                                                                                               
005782   0e02     MOVLW     0x2                                                                                             
005784   cfef     MOVFF     0xfef,0xfdb                                                                                     
005786   ffdb                                                                                                               
00656c   cfde     MOVFF     0xfde,0xfe9                                                                                     
00656e   ffe9                                                                                                               
006570   cfdd     MOVFF     0xfdd,0xfea                                                                                     
006572   ffea                                                                                                               
006574   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back the MR packet                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005788   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00578a   ecd1     CALL      0x65a2,0x0                                                                                      
00578c   f032                                                                                                               
00578e   ec3e     CALL      0x667c,0x0                                                                                      
005790   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005792   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005794   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005796   e202     BC        0x579c                                                                                          
005798   6ae1     CLRF      0xe1,0x0                                                                                        
00579a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00579c   6ee1     MOVWF     0xe1,0x0                                                                                        
00579e   efec     GOTO      0x63d8                                                                                          
0057a0   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PD is for Pin Direction                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PD,<port>,<pin>,<direction><CR>"                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to change direction on D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <direction> is "1" for input, "0" for output                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a2   ec37     CALL      0x686e,0x0     void parse_PD_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a4   f034                                                                                                               
00686e   dfe4     RCALL     0x6838                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char direction;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006870   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006872   dfc5     RCALL     0x67fe                                                                                          
006874   dfc8     RCALL     0x6806           extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &direction, kREQUIRED);                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a6   e001     BZ        0x57aa           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057a8   d090     BRA       0x58ca                                                                                          
006876   0100     MOVLB     0x0                                                                                             
006878   5197     MOVF      0x97,0x0,0x1                                                                                    
00687a   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057aa   0e02     MOVLW     0x2              if (direction > 1u)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057ac   50db     MOVF      0xdb,0x0,0x0                                                                                    
0057ae   0801     SUBLW     0x1                                                                                             
0057b0   e201     BC        0x57b4                                                                                          
0057b2   d087     BRA       0x58c2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057b4   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057b6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0057b8   0807     SUBLW     0x7                                                                                             
0057ba   e201     BC        0x57be                                                                                          
0057bc   d082     BRA       0x58c2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057be   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057c0   ec29     CALL      0x6452,0x0                                                                                      
0057c2   f032                                                                                                               
0057c4   e116     BNZ       0x57f2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057c6   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057c8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0057ca   e10a     BNZ       0x57e0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057cc   ec25     CALL      0x644a,0x0           bitclr(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057ce   f032                                                                                                               
0057d0   e003     BZ        0x57d8                                                                                          
0057d2   ec16     CALL      0x642c,0x0                                                                                      
0057d4   f032                                                                                                               
0057d6   e1fd     BNZ       0x57d2                                                                                          
0057d8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057da   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0057dc   1692     ANDWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057de   d073     BRA       0x58c6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057e0   ec25     CALL      0x644a,0x0           bitset(TRISA, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057e2   f032                                                                                                               
0057e4   e003     BZ        0x57ec                                                                                          
0057e6   ec16     CALL      0x642c,0x0                                                                                      
0057e8   f032                                                                                                               
0057ea   e1fd     BNZ       0x57e6                                                                                          
0057ec   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0057ee   1292     IORWF     0x92,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057f0   d06a     BRA       0x58c6           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057f2   0e42     MOVLW     0x42                                                                                            
0057f4   ec29     CALL      0x6452,0x0                                                                                      
0057f6   f032                                                                                                               
0057f8   e116     BNZ       0x5826                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057fa   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0057fc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0057fe   e10a     BNZ       0x5814                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005800   ec25     CALL      0x644a,0x0           bitclr(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005802   f032                                                                                                               
005804   e003     BZ        0x580c                                                                                          
005806   ec16     CALL      0x642c,0x0                                                                                      
005808   f032                                                                                                               
00580a   e1fd     BNZ       0x5806                                                                                          
00580c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00580e   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005810   1693     ANDWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005812   d059     BRA       0x58c6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005814   ec25     CALL      0x644a,0x0           bitset(TRISB, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005816   f032                                                                                                               
005818   e003     BZ        0x5820                                                                                          
00581a   ec16     CALL      0x642c,0x0                                                                                      
00581c   f032                                                                                                               
00581e   e1fd     BNZ       0x581a                                                                                          
005820   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005822   1293     IORWF     0x93,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005824   d050     BRA       0x58c6           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005826   0e43     MOVLW     0x43                                                                                            
005828   ec29     CALL      0x6452,0x0                                                                                      
00582a   f032                                                                                                               
00582c   e116     BNZ       0x585a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00582e   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005830   50db     MOVF      0xdb,0x0,0x0                                                                                    
005832   e10a     BNZ       0x5848                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005834   ec25     CALL      0x644a,0x0           bitclr(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005836   f032                                                                                                               
005838   e003     BZ        0x5840                                                                                          
00583a   ec16     CALL      0x642c,0x0                                                                                      
00583c   f032                                                                                                               
00583e   e1fd     BNZ       0x583a                                                                                          
005840   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005842   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005844   1694     ANDWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005846   d03f     BRA       0x58c6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005848   ec25     CALL      0x644a,0x0           bitset(TRISC, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00584a   f032                                                                                                               
00584c   e003     BZ        0x5854                                                                                          
00584e   ec16     CALL      0x642c,0x0                                                                                      
005850   f032                                                                                                               
005852   e1fd     BNZ       0x584e                                                                                          
005854   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005856   1294     IORWF     0x94,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005858   d036     BRA       0x58c6           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00585a   0e44     MOVLW     0x44                                                                                            
00585c   ec29     CALL      0x6452,0x0                                                                                      
00585e   f032                                                                                                               
005860   e116     BNZ       0x588e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005862   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005864   50db     MOVF      0xdb,0x0,0x0                                                                                    
005866   e10a     BNZ       0x587c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005868   ec25     CALL      0x644a,0x0           bitclr(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00586a   f032                                                                                                               
00586c   e003     BZ        0x5874                                                                                          
00586e   ec16     CALL      0x642c,0x0                                                                                      
005870   f032                                                                                                               
005872   e1fd     BNZ       0x586e                                                                                          
005874   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005876   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005878   1695     ANDWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00587a   d025     BRA       0x58c6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00587c   ec25     CALL      0x644a,0x0           bitset(TRISD, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00587e   f032                                                                                                               
005880   e003     BZ        0x5888                                                                                          
005882   ec16     CALL      0x642c,0x0                                                                                      
005884   f032                                                                                                               
005886   e1fd     BNZ       0x5882                                                                                          
005888   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00588a   1295     IORWF     0x95,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00588c   d01c     BRA       0x58c6           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00588e   0e45     MOVLW     0x45                                                                                            
005890   ec29     CALL      0x6452,0x0                                                                                      
005892   f032                                                                                                               
005894   e116     BNZ       0x58c2                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005896   0e02     MOVLW     0x2                if (0u == direction)                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005898   50db     MOVF      0xdb,0x0,0x0                                                                                    
00589a   e10a     BNZ       0x58b0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00589c   ec25     CALL      0x644a,0x0           bitclr(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00589e   f032                                                                                                               
0058a0   e003     BZ        0x58a8                                                                                          
0058a2   ec16     CALL      0x642c,0x0                                                                                      
0058a4   f032                                                                                                               
0058a6   e1fd     BNZ       0x58a2                                                                                          
0058a8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058aa   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0058ac   1696     ANDWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ae   d00b     BRA       0x58c6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b0   ec25     CALL      0x644a,0x0           bitset(TRISE, pin);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058b2   f032                                                                                                               
0058b4   e003     BZ        0x58bc                                                                                          
0058b6   ec16     CALL      0x642c,0x0                                                                                      
0058b8   f032                                                                                                               
0058ba   e1fd     BNZ       0x58b6                                                                                          
0058bc   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0058be   1296     IORWF     0x96,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058c0   d002     BRA       0x58c6           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058c2   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058c4   d002     BRA       0x58ca             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058c6   ec20     CALL      0x6440,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058c8   f032                                                                                                               
0058ca   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058cc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0058ce   e202     BC        0x58d4                                                                                          
0058d0   6ae1     CLRF      0xe1,0x0                                                                                        
0058d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0058d4   6ee1     MOVWF     0xe1,0x0                                                                                        
0058d6   efec     GOTO      0x63d8                                                                                          
0058d8   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PI is for Pin Input                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PI,<port>,<pin><CR>"                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to read             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The command returns a "PI,<value><CR>" packet,                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // where <value> is the value (0 or 1 for digital)                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // value for that pin.                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058da   ec20     CALL      0x6840,0x0     void parse_PI_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058dc   f034                                                                                                               
006840   ddc6     RCALL     0x63ce                                                                                          
006842   0e03     MOVLW     0x3                                                                                             
006844   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
006846   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 port;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 pin;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058de   0e02     MOVLW     0x2              UINT8 value = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058e0   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058e2   ec98     CALL      0x6730,0x0       print_command(TRUE, TRUE);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058e4   f033                                                                                                               
006730   0e01     MOVLW     0x1                                                                                             
006732   6ee6     MOVWF     0xe6,0x0                                                                                        
006734   6ee6     MOVWF     0xe6,0x0                                                                                        
006736   efdc     GOTO      0x63b8                                                                                          
006738   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058e6   0e05     MOVLW     0x5              extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058e8   ecff     CALL      0x67fe,0x0                                                                                      
0058ea   f033                                                                                                               
0058ec   0f01     ADDLW     0x1              extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058ee   ec3e     CALL      0x687c,0x0                                                                                      
0058f0   f034                                                                                                               
00687c   dee8     RCALL     0x664e                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058f2   e160     BNZ       0x59b4           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00687e   0100     MOVLB     0x0                                                                                             
006880   5197     MOVF      0x97,0x0,0x1                                                                                    
006882   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058f4   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058f6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0058f8   0807     SUBLW     0x7                                                                                             
0058fa   e350     BNC       0x599c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Then test the bit in question based upon port                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058fc   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0058fe   ec29     CALL      0x6452,0x0                                                                                      
005900   f032                                                                                                               
005902   e10a     BNZ       0x5918                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005904   ec25     CALL      0x644a,0x0         value = bittst(PORTA, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005906   f032                                                                                                               
005908   e003     BZ        0x5910                                                                                          
00590a   ec16     CALL      0x642c,0x0                                                                                      
00590c   f032                                                                                                               
00590e   e1fd     BNZ       0x590a                                                                                          
005910   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005912   1480     ANDWF     0x80,0x0,0x0                                                                                    
005914   e039     BZ        0x5988                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005916   d029     BRA       0x596a           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005918   0e42     MOVLW     0x42                                                                                            
00591a   ec29     CALL      0x6452,0x0                                                                                      
00591c   f032                                                                                                               
00591e   e10a     BNZ       0x5934                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005920   ec25     CALL      0x644a,0x0         value = bittst(PORTB, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005922   f032                                                                                                               
005924   e003     BZ        0x592c                                                                                          
005926   ec16     CALL      0x642c,0x0                                                                                      
005928   f032                                                                                                               
00592a   e1fd     BNZ       0x5926                                                                                          
00592c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00592e   1481     ANDWF     0x81,0x0,0x0                                                                                    
005930   e11c     BNZ       0x596a                                                                                          
005932   d02a     BRA       0x5988                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005934   0e43     MOVLW     0x43             else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005936   ec29     CALL      0x6452,0x0                                                                                      
005938   f032                                                                                                               
00593a   e10a     BNZ       0x5950                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00593c   ec25     CALL      0x644a,0x0         value = bittst(PORTC, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00593e   f032                                                                                                               
005940   e003     BZ        0x5948                                                                                          
005942   ec16     CALL      0x642c,0x0                                                                                      
005944   f032                                                                                                               
005946   e1fd     BNZ       0x5942                                                                                          
005948   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00594a   1482     ANDWF     0x82,0x0,0x0                                                                                    
00594c   e10e     BNZ       0x596a                                                                                          
00594e   d01c     BRA       0x5988                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005950   0e44     MOVLW     0x44             else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005952   ec29     CALL      0x6452,0x0                                                                                      
005954   f032                                                                                                               
005956   e10b     BNZ       0x596e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005958   ec25     CALL      0x644a,0x0         value = bittst(PORTD, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00595a   f032                                                                                                               
00595c   e003     BZ        0x5964                                                                                          
00595e   ec16     CALL      0x642c,0x0                                                                                      
005960   f032                                                                                                               
005962   e1fd     BNZ       0x595e                                                                                          
005964   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005966   1483     ANDWF     0x83,0x0,0x0                                                                                    
005968   e00f     BZ        0x5988                                                                                          
00596a   0e01     MOVLW     0x1                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00596c   d010     BRA       0x598e           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00596e   0e45     MOVLW     0x45                                                                                            
005970   ec29     CALL      0x6452,0x0                                                                                      
005972   f032                                                                                                               
005974   e113     BNZ       0x599c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005976   ec25     CALL      0x644a,0x0         value = bittst(PORTE, pin);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005978   f032                                                                                                               
00597a   e003     BZ        0x5982                                                                                          
00597c   ec16     CALL      0x642c,0x0                                                                                      
00597e   f032                                                                                                               
005980   e1fd     BNZ       0x597c                                                                                          
005982   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005984   1484     ANDWF     0x84,0x0,0x0                                                                                    
005986   e102     BNZ       0x598c                                                                                          
005988   0e00     MOVLW     0x0                                                                                             
00598a   d001     BRA       0x598e                                                                                          
00598c   0e01     MOVLW     0x1                                                                                             
00598e   6ee7     MOVWF     0xe7,0x0                                                                                        
005990   0e02     MOVLW     0x2                                                                                             
005992   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
005994   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00599c   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00599e   d00a     BRA       0x59b4             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Convert to just a binary 1 or 0                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005996   50db     MOVF      0xdb,0x0,0x0     if (value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005998   e008     BZ        0x59aa                                                                                          
00599a   d002     BRA       0x59a0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a0   0e01     MOVLW     0x1                value = 1;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059a2   6ef3     MOVWF     0xf3,0x0                                                                                        
0059a4   0e02     MOVLW     0x2                                                                                             
0059a6   cff3     MOVFF     0xff3,0xfdb                                                                                     
0059a8   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now send back our response                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059aa   0e02     MOVLW     0x2              ebb_print_uint(value);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ac   ecd1     CALL      0x65a2,0x0                                                                                      
0059ae   f032                                                                                                               
0059b0   ec3e     CALL      0x667c,0x0                                                                                      
0059b2   f033                                                                                                               
0065a2   cfdb     MOVFF     0xfdb,0x46                                                                                      
0065a4   f046                                                                                                               
0065a6   effb     GOTO      0x67f6                                                                                          
0065a8   f033                                                                                                               
0067f6   6a47     CLRF      0x47,0x0                                                                                        
0067f8   6a48     CLRF      0x48,0x0                                                                                        
0067fa   6a49     CLRF      0x49,0x0                                                                                        
0067fc   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b4   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059b6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0059b8   e202     BC        0x59be                                                                                          
0059ba   6ae1     CLRF      0xe1,0x0                                                                                        
0059bc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0059be   6ee1     MOVWF     0xe1,0x0                                                                                        
0059c0   efec     GOTO      0x63d8                                                                                          
0059c2   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PO is for Pin Output                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "PO,<port>,<pin>,<value><CR>"                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <port> is "A", "B", "C" and indicates the port                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <pin> is a number between 0 and 7 and indicates which pin to write out the value to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <value> is "1" or "0" and indicates the state to change the pin to            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c4   ec37     CALL      0x686e,0x0     void parse_PO_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c6   f034                                                                                                               
006838   ddca     RCALL     0x63ce                                                                                          
00683a   0e03     MOVLW     0x3                                                                                             
00683c   ef36     GOTO      0x666c                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char port;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char pin;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00683e   f033                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0067fe   ddd1     RCALL     0x63a2           extract_number(kUCASE_ASCII_CHAR, &port, kREQUIRED);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006800   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &pin, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006802   50d9     MOVF      0xd9,0x0,0x0                                                                                    
006804   0012     RETURN    0x0                                                                                             
006806   0f01     ADDLW     0x1                                                                                             
006808   df22     RCALL     0x664e                                                                                          
00680a   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00680c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00680e   0f02     ADDLW     0x2                                                                                             
006810   ef27     GOTO      0x664e                                                                                          
006812   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059c8   e001     BZ        0x59cc           if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ca   d090     BRA       0x5aec                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Limit check the parameters                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059cc   0e02     MOVLW     0x2              if (value > 1u)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ce   50db     MOVF      0xdb,0x0,0x0                                                                                    
0059d0   0801     SUBLW     0x1                                                                                             
0059d2   e201     BC        0x59d6                                                                                          
0059d4   d087     BRA       0x5ae4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d6   0e01     MOVLW     0x1              if (pin > 7u)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059d8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0059da   0807     SUBLW     0x7                                                                                             
0059dc   e201     BC        0x59e0                                                                                          
0059de   d082     BRA       0x5ae4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e0   0e41     MOVLW     0x41             if ('A' == port)                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e2   ec29     CALL      0x6452,0x0                                                                                      
0059e4   f032                                                                                                               
0059e6   e116     BNZ       0x5a14                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059e8   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ea   50db     MOVF      0xdb,0x0,0x0                                                                                    
0059ec   e10a     BNZ       0x5a02                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059ee   ec25     CALL      0x644a,0x0           bitclr(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0059f0   f032                                                                                                               
0059f2   e003     BZ        0x59fa                                                                                          
0059f4   ec16     CALL      0x642c,0x0                                                                                      
0059f6   f032                                                                                                               
0059f8   e1fd     BNZ       0x59f4                                                                                          
0059fa   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0059fc   1cf3     COMF      0xf3,0x0,0x0                                                                                    
0059fe   1689     ANDWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a00   d073     BRA       0x5ae8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a02   ec25     CALL      0x644a,0x0           bitset(LATA, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a04   f032                                                                                                               
005a06   e003     BZ        0x5a0e                                                                                          
005a08   ec16     CALL      0x642c,0x0                                                                                      
005a0a   f032                                                                                                               
005a0c   e1fd     BNZ       0x5a08                                                                                          
005a0e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005a10   1289     IORWF     0x89,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a12   d06a     BRA       0x5ae8           else if ('B' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a14   0e42     MOVLW     0x42                                                                                            
005a16   ec29     CALL      0x6452,0x0                                                                                      
005a18   f032                                                                                                               
005a1a   e116     BNZ       0x5a48                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a1c   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a1e   50db     MOVF      0xdb,0x0,0x0                                                                                    
005a20   e10a     BNZ       0x5a36                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a22   ec25     CALL      0x644a,0x0           bitclr(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a24   f032                                                                                                               
005a26   e003     BZ        0x5a2e                                                                                          
005a28   ec16     CALL      0x642c,0x0                                                                                      
005a2a   f032                                                                                                               
005a2c   e1fd     BNZ       0x5a28                                                                                          
005a2e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005a30   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005a32   168a     ANDWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a34   d059     BRA       0x5ae8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a36   ec25     CALL      0x644a,0x0           bitset(LATB, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a38   f032                                                                                                               
005a3a   e003     BZ        0x5a42                                                                                          
005a3c   ec16     CALL      0x642c,0x0                                                                                      
005a3e   f032                                                                                                               
005a40   e1fd     BNZ       0x5a3c                                                                                          
005a42   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005a44   128a     IORWF     0x8a,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a46   d050     BRA       0x5ae8           else if ('C' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a48   0e43     MOVLW     0x43                                                                                            
005a4a   ec29     CALL      0x6452,0x0                                                                                      
005a4c   f032                                                                                                               
005a4e   e116     BNZ       0x5a7c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a50   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a52   50db     MOVF      0xdb,0x0,0x0                                                                                    
005a54   e10a     BNZ       0x5a6a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a56   ec25     CALL      0x644a,0x0           bitclr(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a58   f032                                                                                                               
005a5a   e003     BZ        0x5a62                                                                                          
005a5c   ec16     CALL      0x642c,0x0                                                                                      
005a5e   f032                                                                                                               
005a60   e1fd     BNZ       0x5a5c                                                                                          
005a62   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005a64   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005a66   168b     ANDWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a68   d03f     BRA       0x5ae8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a6a   ec25     CALL      0x644a,0x0           bitset(LATC, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a6c   f032                                                                                                               
005a6e   e003     BZ        0x5a76                                                                                          
005a70   ec16     CALL      0x642c,0x0                                                                                      
005a72   f032                                                                                                               
005a74   e1fd     BNZ       0x5a70                                                                                          
005a76   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005a78   128b     IORWF     0x8b,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a7a   d036     BRA       0x5ae8           else if ('D' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a7c   0e44     MOVLW     0x44                                                                                            
005a7e   ec29     CALL      0x6452,0x0                                                                                      
005a80   f032                                                                                                               
005a82   e116     BNZ       0x5ab0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a84   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a86   50db     MOVF      0xdb,0x0,0x0                                                                                    
005a88   e10a     BNZ       0x5a9e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a8a   ec25     CALL      0x644a,0x0           bitclr(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a8c   f032                                                                                                               
005a8e   e003     BZ        0x5a96                                                                                          
005a90   ec16     CALL      0x642c,0x0                                                                                      
005a92   f032                                                                                                               
005a94   e1fd     BNZ       0x5a90                                                                                          
005a96   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005a98   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005a9a   168c     ANDWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a9c   d025     BRA       0x5ae8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005a9e   ec25     CALL      0x644a,0x0           bitset(LATD, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aa0   f032                                                                                                               
005aa2   e003     BZ        0x5aaa                                                                                          
005aa4   ec16     CALL      0x642c,0x0                                                                                      
005aa6   f032                                                                                                               
005aa8   e1fd     BNZ       0x5aa4                                                                                          
005aaa   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005aac   128c     IORWF     0x8c,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aae   d01c     BRA       0x5ae8           else if ('E' == port)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ab0   0e45     MOVLW     0x45                                                                                            
005ab2   ec29     CALL      0x6452,0x0                                                                                      
005ab4   f032                                                                                                               
005ab6   e116     BNZ       0x5ae4                                                                                          
006452   6e46     MOVWF     0x46,0x0                                                                                        
006454   50df     MOVF      0xdf,0x0,0x0                                                                                    
006456   5c46     SUBWF     0x46,0x0,0x0                                                                                    
006458   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ab8   0e02     MOVLW     0x2                if (0u == value)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aba   50db     MOVF      0xdb,0x0,0x0                                                                                    
005abc   e10a     BNZ       0x5ad2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005abe   ec25     CALL      0x644a,0x0           bitclr(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ac0   f032                                                                                                               
005ac2   e003     BZ        0x5aca                                                                                          
005ac4   ec16     CALL      0x642c,0x0                                                                                      
005ac6   f032                                                                                                               
005ac8   e1fd     BNZ       0x5ac4                                                                                          
005aca   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005acc   1cf3     COMF      0xf3,0x0,0x0                                                                                    
005ace   168d     ANDWF     0x8d,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ad0   d00b     BRA       0x5ae8             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ad2   ec25     CALL      0x644a,0x0           bitset(LATE, pin);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ad4   f032                                                                                                               
005ad6   e003     BZ        0x5ade                                                                                          
005ad8   ec16     CALL      0x642c,0x0                                                                                      
005ada   f032                                                                                                               
005adc   e1fd     BNZ       0x5ad8                                                                                          
005ade   50f3     MOVF      0xf3,0x0,0x0                                                                                    
005ae0   128d     IORWF     0x8d,0x1,0x0                                                                                    
00642c   90d8     BCF       0xd8,0x0,0x0                                                                                    
00642e   36f3     RLCF      0xf3,0x1,0x0                                                                                    
006430   06e8     DECF      0xe8,0x1,0x0                                                                                    
006432   0012     RETURN    0x0                                                                                             
00644a   0e01     MOVLW     0x1                                                                                             
00644c   6ef3     MOVWF     0xf3,0x0                                                                                        
00644e   50db     MOVF      0xdb,0x0,0x0                                                                                    
006450   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ae2   d002     BRA       0x5ae8           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ae4   8d97     BSF       0x97,0x6,0x1       bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ae6   d002     BRA       0x5aec             return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ae8   ec20     CALL      0x6440,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aea   f032                                                                                                               
005aec   0e03     MOVLW     0x3            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005aee   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005af0   e202     BC        0x5af6                                                                                          
005af2   6ae1     CLRF      0xe1,0x0                                                                                        
005af4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005af6   6ee1     MOVWF     0xe1,0x0                                                                                        
005af8   efec     GOTO      0x63d8                                                                                          
005afa   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #if PC_PG_T_COMMANDS_ENABLED                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC Pulse Configure                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses will be generated on PortB, bits 0 through 3                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Pulses are in 1ms units, and can be from 0 (off) through 65535                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Each pin has a pulse length, and a repetition rate.                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // The repetition rate can be from 0 through 65535, but must be more than the pulse length D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Only the first set of parameters (for RB0) are required, the rest are optional D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PC,<RB0_Len>,<RB0_Rate>,<RB1_Len>,<RB1_Rate>,...,<RB3_Len>,<RB3_Rate><CR>     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PC_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int Length, Rate;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType RetVal1, RetVal2;                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Length, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUINT, &Rate, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Handle loading things up for RB0                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseLen[0] = Length;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             gPulseRate[0] = Rate;                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And now loop for the other 3                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             for (i = 0; i < 3u; i++)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal1 = extract_number(kUINT, &Length, kOPTIONAL);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               RetVal2 = extract_number(kUINT, &Rate, kOPTIONAL);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (error_byte)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (RetVal1 != kEXTRACT_OK || RetVal2 != kEXTRACT_OK)                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Handle loading things up for RB1 through RB3                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseLen[i+1] = Length;                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulseRate[i+1] = Rate;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG Pulse Go Command                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Starts a set of pulses (as configured by the PC command)                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // going. If a new set of parameters were sent by the PC command,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG will cause them all to take effect at the next 1ms                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // interval.                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           //                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Usage:                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,1<CR>   Start pulses, or load latest set of parameters and use them        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // PG,0<CR>   Stop pulses                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_PG_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extract_number(kUCHAR, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (Value)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set lower four bits of PortB to outputs                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               TRISB = TRISB & 0xF0;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Set global flag that turns pulses on                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = TRUE;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Clear global flag that turns pulses on                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               gPulsesOn = FALSE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005afc   cfd9     MOVFF     0xfd9,0xfe6    void LongDelay(void)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005afe   ffe6                                                                                                               
005b00   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
005b02   ffd9                                                                                                               
005b04   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char i;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // A basic for() loop decrementing a 16 bit number would be simpler, but seems to take more code space for D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // a given delay.  So do this instead:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b06   6adf     CLRF      0xdf,0x0         for(i = 0; i < 0xFF; i++)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b08   0eff     MOVLW     0xff                                                                                            
005b0a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005b0c   e20a     BC        0x5b22                                                                                          
005b1e   2adf     INCF      0xdf,0x1,0x0                                                                                    
005b20   d7f3     BRA       0x5b08                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b0e   68e8     SETF      0xe8,0x0           WREG = 0xFF;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b10   50e8     MOVF      0xe8,0x0,0x0       while(WREG)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b12   e005     BZ        0x5b1e                                                                                          
005b1c   d7f9     BRA       0x5b10                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b14   06e8     DECF      0xe8,0x1,0x0         WREG--;                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _asm                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b16   d000     BRA       0x5b18               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b18   d000     BRA       0x5b1a               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b1a   d000     BRA       0x5b1c               bra 0 // Equivalent to bra $+2, which takes half as much code as 2 nop instructions D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 _endasm                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Delay is ~59.8ms at 48MHz.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b22   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b24   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005b26   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
005b28   ffd9                                                                                                               
005b2a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // BL command : simply jump to the bootloader                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "BL<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_BL_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b2c   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b2e   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b30   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b32   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b34   dfe3     RCALL     0x5afc           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b36   ef0f     GOTO      0x1e             _asm goto 0x00001E _endasm                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b38   f000                                                                                                               
005b3a   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // RB ReBoot command : simply jump to the reset vector                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RB<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_RB_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // First, kill interrupts though                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b3c   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIEH = 0;    // Turn high priority interrupts off                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b3e   9cf2     BCF       0xf2,0x6,0x0     INTCONbits.GIEL = 0;    // Turn low priority interrupts off                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b40   9265     BCF       0x65,0x1,0x0     UCONbits.SUSPND = 0;    // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b42   6a65     CLRF      0x65,0x0         UCON = 0x00;            // Disable USB module                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // And wait awhile for the USB cable capacitance to discharge down to disconnected (SE0) state.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Otherwise host might not realize we disconnected/reconnected when we do the reset. D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b44   dfdb     RCALL     0x5afc           LongDelay();                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b46   00ff     RESET                      Reset();                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b48   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QR Query RC Servo power state command                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "RR<CR>"                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "0<CR><LF>OK<CR><LF>" or "1<CR><LF>OK<CR><LF>"                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 0 = power to RC servo off                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // 1 = power to RC servo on                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void parse_QR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b4a   ecac     CALL      0x6558,0x0       print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b4c   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b4e   5080     MOVF      0x80,0x0,0x0     ebb_print_uint(RCServoPowerIO_PORT);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b50   0b08     ANDLW     0x8                                                                                             
005b52   e001     BZ        0x5b56                                                                                          
005b54   0e01     MOVLW     0x1                                                                                             
005b56   ec34     CALL      0x6868,0x0                                                                                      
005b58   f034                                                                                                               
0064a4   6e46     MOVWF     0x46,0x0                                                                                        
0064a6   d9a7     RCALL     0x67f6                                                                                          
0064a8   6ee6     MOVWF     0xe6,0x0                                                                                        
0064aa   0012     RETURN    0x0                                                                                             
005b5a   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b5c   b1c3     BTFSC     0xc3,0x0,0x1                                                                                    
005b5e   d003     BRA       0x5b66                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b60   0e02     MOVLW     0x2                print_line_ending(kLE_REV);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b62   ece8     CALL      0x67d0,0x0                                                                                      
005b64   f033                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b66   ef20     GOTO      0x6440           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b68   f032                                                                                                               
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // SR Set RC Servo power timeout                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Example: "SR,<new_time_ms>,<new_power_state><CR><LF>"                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Returns "OK<CR><LF>"                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_time_ms> is a 32-bit unsigned integer, representing the new RC servo     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // poweroff timeout in milliseconds. This value is not saved across reboots.     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // It is the length of time the system will wait after any command that uses     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // the motors or servo before killing power to the RC servo.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Use a value of 0 for <new_time_ms> to completely disable the poweroff timer.  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new_power_state> is an optional parameter of either 0 or 1. It will          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // immediately affect the servo's power state, where 0 turns it off and 1        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // turns it on.                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b6a   ece7     CALL      0x63ce,0x0     void parse_SR_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b6c   f031                                                                                                               
005b6e   0e06     MOVLW     0x6                                                                                             
005b70   ec36     CALL      0x666c,0x0                                                                                      
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long Value;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 State;                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             ExtractReturnType GotState;                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b72   f033                                print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b74   0e07     MOVLW     0x7              extract_number(kULONG, &Value, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b76   ecd1     CALL      0x63a2,0x0                                                                                      
005b78   f031                                                                                                               
005b7a   0e01     MOVLW     0x1              GotState = extract_number(kUCHAR, &State, kOPTIONAL);                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b7c   6ee6     MOVWF     0xe6,0x0                                                                                        
005b7e   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005b80   0f04     ADDLW     0x4                                                                                             
005b82   ec27     CALL      0x664e,0x0                                                                                      
005b84   f033                                                                                                               
005b86   6ee7     MOVWF     0xe7,0x0                                                                                        
005b88   0e05     MOVLW     0x5                                                                                             
005b8a   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
005b8c   ffdb                                                                                                               
0063f4   6ee6     MOVWF     0xe6,0x0                                                                                        
0063f6   0e00     MOVLW     0x0                                                                                             
0063f8   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0063fa   6ee6     MOVWF     0xe6,0x0                                                                                        
0063fc   0012     RETURN    0x0                                                                                             
00664e   ded2     RCALL     0x63f4                                                                                          
006650   0e01     MOVLW     0x1                                                                                             
006652   efd1     GOTO      0x63a2                                                                                          
006654   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Bail if we got a conversion error                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b8e   0100     MOVLB     0x0              if (error_byte)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b90   5197     MOVF      0x97,0x0,0x1                                                                                    
005b92   e116     BNZ       0x5bc0                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b94   cfdf     MOVFF     0xfdf,0xd5       gRCServoPoweroffCounterReloadMS = Value;                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005b96   f0d5                                                                                                               
005b98   0e01     MOVLW     0x1                                                                                             
005b9a   cfdb     MOVFF     0xfdb,0xd6                                                                                      
005b9c   f0d6                                                                                                               
005b9e   0e02     MOVLW     0x2                                                                                             
005ba0   cfdb     MOVFF     0xfdb,0xd7                                                                                      
005ba2   f0d7                                                                                                               
005ba4   0e03     MOVLW     0x3                                                                                             
005ba6   cfdb     MOVFF     0xfdb,0xd8                                                                                      
005ba8   f0d8                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if <new_power_state> is there                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005baa   0e05     MOVLW     0x5              if (GotState == kEXTRACT_OK)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bac   50db     MOVF      0xdb,0x0,0x0                                                                                    
005bae   e106     BNZ       0x5bbc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Yup, so set new power state                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb0   0e04     MOVLW     0x4                if (State)                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb2   50db     MOVF      0xdb,0x0,0x0                                                                                    
005bb4   e002     BZ        0x5bba                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb6   8689     BSF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_ON;                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bb8   d001     BRA       0x5bbc             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bba   9689     BCF       0x89,0x3,0x0         RCServoPowerIO = RCSERVO_POWER_OFF;                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bbc   ec20     CALL      0x6440,0x0       print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bbe   f032                                                                                                               
005bc0   0e06     MOVLW     0x6            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bc2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005bc4   e202     BC        0x5bca                                                                                          
005bc6   6ae1     CLRF      0xe1,0x0                                                                                        
005bc8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005bca   6ee1     MOVWF     0xe1,0x0                                                                                        
005bcc   efec     GOTO      0x63d8                                                                                          
005bce   f031                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Just used for testing/debugging the packet parsing routines                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bd0   ece7     CALL      0x63ce,0x0     void parse_CK_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bd2   f031                                                                                                               
005bd4   0e10     MOVLW     0x10                                                                                            
005bd6   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UByte;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed char SByte;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned int UInt;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed int SInt;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULong;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long SLong;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UChar;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char UCaseChar;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bd8   ec30     CALL      0x6860,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bda   f034                                                                                                               
005bdc   dbe6     RCALL     0x63aa           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bde   6ae6     CLRF      0xe6,0x0         extract_number(kCHAR, &SByte, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005be0   50d9     MOVF      0xd9,0x0,0x0                                                                                    
005be2   0f01     ADDLW     0x1                                                                                             
005be4   ecfa     CALL      0x63f4,0x0                                                                                      
005be6   f031                                                                                                               
005be8   6ae6     CLRF      0xe6,0x0                                                                                        
005bea   d962     RCALL     0x5eb0                                                                                          
005bec   ec3b     CALL      0x6676,0x0                                                                                      
005bee   f033                                                                                                               
005bf0   6ae6     CLRF      0xe6,0x0         extract_number(kUCHAR, &UByte, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bf2   eced     CALL      0x67da,0x0                                                                                      
005bf4   f033                                                                                                               
005bf6   0e01     MOVLW     0x1                                                                                             
005bf8   ecff     CALL      0x67fe,0x0                                                                                      
005bfa   f033                                                                                                               
005bfc   0f04     ADDLW     0x4              extract_number(kINT, &SInt, kREQUIRED);                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005bfe   ecfa     CALL      0x63f4,0x0                                                                                      
005c00   f031                                                                                                               
005c02   0e02     MOVLW     0x2                                                                                             
005c04   ecff     CALL      0x67fe,0x0                                                                                      
005c06   f033                                                                                                               
005c08   0f02     ADDLW     0x2              extract_number(kUINT, &UInt, kREQUIRED);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c0a   ecfa     CALL      0x63f4,0x0                                                                                      
005c0c   f031                                                                                                               
005c0e   0e03     MOVLW     0x3                                                                                             
005c10   ecff     CALL      0x67fe,0x0                                                                                      
005c12   f033                                                                                                               
005c14   0f0a     ADDLW     0xa              extract_number(kLONG, &SLong, kREQUIRED);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c16   dbee     RCALL     0x63f4                                                                                          
005c18   0e06     MOVLW     0x6                                                                                             
005c1a   ecff     CALL      0x67fe,0x0                                                                                      
005c1c   f033                                                                                                               
005c1e   0f06     ADDLW     0x6              extract_number(kULONG, &ULong, kREQUIRED);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c20   dbe9     RCALL     0x63f4                                                                                          
005c22   0e07     MOVLW     0x7                                                                                             
005c24   ecff     CALL      0x67fe,0x0                                                                                      
005c26   f033                                                                                                               
005c28   0f0e     ADDLW     0xe              extract_number(kASCII_CHAR, &UChar, kREQUIRED);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c2a   dbe4     RCALL     0x63f4                                                                                          
005c2c   0e04     MOVLW     0x4                                                                                             
005c2e   ecff     CALL      0x67fe,0x0                                                                                      
005c30   f033                                                                                                               
005c32   0f0f     ADDLW     0xf              extract_number(kUCASE_ASCII_CHAR, &UCaseChar, kREQUIRED);                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c34   dbdf     RCALL     0x63f4                                                                                          
005c36   0e05     MOVLW     0x5                                                                                             
005c38   dbb4     RCALL     0x63a2                                                                                          
0063a2   6ee6     MOVWF     0xe6,0x0                                                                                        
0063a4   dd85     RCALL     0x5eb0                                                                                          
0063a6   ef3b     GOTO      0x6676                                                                                          
0063a8   f033                                                                                                               
006676   d8ec     RCALL     0x6850                                                                                          
006678   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00667a   0012     RETURN    0x0                                                                                             
006850   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006852   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006854   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006856   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c3a   0e22     MOVLW     0x22             ebb_print((rom char far *)"Param1=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c3c   6e46     MOVWF     0x46,0x0                                                                                        
005c3e   0e7d     MOVLW     0x7d                                                                                            
005c40   dbaa     RCALL     0x6396                                                                                          
005c42   0e01     MOVLW     0x1              ebb_print_int(SByte);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c44   ecd1     CALL      0x65a2,0x0                                                                                      
005c46   f032                                                                                                               
005c48   ae46     BTFSS     0x46,0x7,0x0                                                                                    
005c4a   d003     BRA       0x5c52                                                                                          
005c4c   6847     SETF      0x47,0x0                                                                                        
005c4e   6848     SETF      0x48,0x0                                                                                        
005c50   6849     SETF      0x49,0x0                                                                                        
005c52   ec10     CALL      0x6820,0x0                                                                                      
005c54   f034                                                                                                               
006820   d83b     RCALL     0x6898                                                                                          
006822   ef47     GOTO      0x688e                                                                                          
006824   f034                                                                                                               
006898   c046     MOVFF     0x46,0xfe6                                                                                      
00689a   ffe6                                                                                                               
00689c   ef2f     GOTO      0x665e                                                                                          
00689e   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c56   0e1a     MOVLW     0x1a             ebb_print((rom char far *)"Param2=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c58   6e46     MOVWF     0x46,0x0                                                                                        
005c5a   0e7d     MOVLW     0x7d                                                                                            
005c5c   db9c     RCALL     0x6396                                                                                          
005c5e   dbe2     RCALL     0x6424           ebb_print_uint(UByte);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c60   ec3e     CALL      0x667c,0x0                                                                                      
005c62   f033                                                                                                               
006424   cfdf     MOVFF     0xfdf,0x46                                                                                      
006426   f046                                                                                                               
006428   effb     GOTO      0x67f6                                                                                          
00642a   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c64   0e12     MOVLW     0x12             ebb_print((rom char far *)"Param3=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c66   6e46     MOVWF     0x46,0x0                                                                                        
005c68   0e7d     MOVLW     0x7d                                                                                            
005c6a   db95     RCALL     0x6396                                                                                          
005c6c   0e04     MOVLW     0x4              ebb_print_int(SInt);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c6e   cfdb     MOVFF     0xfdb,0x46                                                                                      
005c70   f046                                                                                                               
005c72   0e05     MOVLW     0x5                                                                                             
005c74   cfdb     MOVFF     0xfdb,0x47                                                                                      
005c76   f047                                                                                                               
005c78   6a48     CLRF      0x48,0x0                                                                                        
005c7a   6a49     CLRF      0x49,0x0                                                                                        
005c7c   ae47     BTFSS     0x47,0x7,0x0                                                                                    
005c7e   d002     BRA       0x5c84                                                                                          
005c80   6848     SETF      0x48,0x0                                                                                        
005c82   6849     SETF      0x49,0x0                                                                                        
005c84   ec10     CALL      0x6820,0x0                                                                                      
005c86   f034                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c88   0e0a     MOVLW     0xa              ebb_print((rom char far *)"Param4=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c8a   6e46     MOVWF     0x46,0x0                                                                                        
005c8c   0e7d     MOVLW     0x7d                                                                                            
005c8e   db83     RCALL     0x6396                                                                                          
005c90   0e02     MOVLW     0x2              ebb_print_uint(UInt);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005c92   cfdb     MOVFF     0xfdb,0x46                                                                                      
005c94   f046                                                                                                               
005c96   0e03     MOVLW     0x3                                                                                             
005c98   cfdb     MOVFF     0xfdb,0x47                                                                                      
005c9a   f047                                                                                                               
005c9c   6a48     CLRF      0x48,0x0                                                                                        
005c9e   6a49     CLRF      0x49,0x0                                                                                        
005ca0   ec3e     CALL      0x667c,0x0                                                                                      
005ca2   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca4   0e02     MOVLW     0x2              ebb_print((rom char far *)"Param5=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ca6   6e46     MOVWF     0x46,0x0                                                                                        
005ca8   0e7d     MOVLW     0x7d                                                                                            
005caa   db75     RCALL     0x6396                                                                                          
005cac   50d9     MOVF      0xd9,0x0,0x0     ebb_print_int(SLong);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cae   0f0a     ADDLW     0xa                                                                                             
005cb0   dbad     RCALL     0x640c                                                                                          
005cb2   ec47     CALL      0x688e,0x0                                                                                      
005cb4   f034                                                                                                               
00688e   ec87     CALL      0x870e,0x0                                                                                      
006890   f043                                                                                                               
006892   def1     RCALL     0x6676                                                                                          
006894   efd5     GOTO      0x63aa           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006896   f031                                                                                                               
005cb6   ec9d     CALL      0x673a,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cb8   f033                                                                                                               
005cba   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(ULong);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cbc   0f06     ADDLW     0x6                                                                                             
005cbe   dba6     RCALL     0x640c                                                                                          
005cc0   ec13     CALL      0x6826,0x0                                                                                      
005cc2   f034                                                                                                               
005cc4   db72     RCALL     0x63aa           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cc6   0ef2     MOVLW     0xf2             ebb_print((rom char far *)"Param7=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cc8   6e46     MOVWF     0x46,0x0                                                                                        
005cca   0e7c     MOVLW     0x7c                                                                                            
005ccc   db64     RCALL     0x6396                                                                                          
005cce   0e0e     MOVLW     0xe              ebb_print_char(UChar);                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cd0   ecb6     CALL      0x676c,0x0                                                                                      
005cd2   f033                                                                                                               
00676c   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
00676e   ffe6                                                                                                               
006770   eccb     CALL      0x4596,0x0                                                                                      
006772   f022                                                                                                               
006774   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006776   efd5     GOTO      0x63aa           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006778   f031                                                                                                               
005cd4   0eea     MOVLW     0xea             ebb_print((rom char far *)"Param8=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cd6   6e46     MOVWF     0x46,0x0                                                                                        
005cd8   0e7c     MOVLW     0x7c                                                                                            
005cda   db5d     RCALL     0x6396                                                                                          
005cdc   0e0f     MOVLW     0xf              ebb_print_char(UCaseChar);                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cde   ecb6     CALL      0x676c,0x0                                                                                      
005ce0   f033                                                                                                               
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce2   ec9d     CALL      0x673a,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce4   f033                                                                                                               
005ce6   0e08     MOVLW     0x8              ebb_print_hex(ULong, 8);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ce8   6ee6     MOVWF     0xe6,0x0                                                                                        
005cea   ec6a     CALL      0x66d4,0x0                                                                                      
005cec   f033                                                                                                               
0066d4   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0066d6   0f06     ADDLW     0x6                                                                                             
0066d8   de99     RCALL     0x640c                                                                                          
0066da   ec31     CALL      0x8662,0x0                                                                                      
0066dc   f043                                                                                                               
0066de   6e46     MOVWF     0x46,0x0                                                                                        
0066e0   0e05     MOVLW     0x5                                                                                             
0066e2   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0066e4   5046     MOVF      0x46,0x0,0x0                                                                                    
0066e6   efd5     GOTO      0x63aa           print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0066e8   f031                                                                                                               
005cee   ec9d     CALL      0x673a,0x0       ebb_print((rom char far *)"Param6=");                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf0   f033                                                                                                               
00673a   0efa     MOVLW     0xfa                                                                                            
00673c   6e46     MOVWF     0x46,0x0                                                                                        
00673e   0e7c     MOVLW     0x7c                                                                                            
006740   efcb     GOTO      0x6396                                                                                          
006742   f031                                                                                                               
005cf2   6ae6     CLRF      0xe6,0x0         ebb_print_hex(ULong, 0);                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf4   ec6a     CALL      0x66d4,0x0                                                                                      
005cf6   f033                                                                                                               
00640c   6ee9     MOVWF     0xe9,0x0                                                                                        
00640e   cfda     MOVFF     0xfda,0xfea                                                                                     
006410   ffea                                                                                                               
006412   cfee     MOVFF     0xfee,0xfe6                                                                                     
006414   ffe6                                                                                                               
006416   cfee     MOVFF     0xfee,0xfe6                                                                                     
006418   ffe6                                                                                                               
00641a   cfee     MOVFF     0xfee,0xfe6                                                                                     
00641c   ffe6                                                                                                               
00641e   cfef     MOVFF     0xfef,0xfe6                                                                                     
006420   ffe6                                                                                                               
006422   0012     RETURN    0x0                                                                                             
                                             print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cf8   dba3     RCALL     0x6440           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cfa   0e10     MOVLW     0x10           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005cfc   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005cfe   e202     BC        0x5d04                                                                                          
005d00   6ae1     CLRF      0xe1,0x0                                                                                        
005d02   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005d04   6ee1     MOVWF     0xe1,0x0                                                                                        
005d06   d368     BRA       0x63d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d08   ec85     CALL      0x670a,0x0     void populateDeviceStringWithName(void)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d0a   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             extern BYTE * USB_SD_Ptr[];                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d0c   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d0e   0e11     MOVLW     0x11                                                                                            
005d10   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005d12   e204     BC        0x5d1c                                                                                          
005d18   2adf     INCF      0xdf,0x1,0x0                                                                                    
005d1a   d7f9     BRA       0x5d0e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d14   dbb7     RCALL     0x6484             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d16   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d1c   ecd0     CALL      0x67a0,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d1e   f033                                                                                                               
0067a0   de6c     RCALL     0x647a                                                                                          
0067a2   ec83     CALL      0x8f06,0x0                                                                                      
0067a4   f047                                                                                                               
0067a6   efe9     GOTO      0x65d2                                                                                          
0067a8   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // The EEB's name is now in the 'name' local variable as a straight string     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // of bytes. We need to move it to the proper locations in the sd002           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // USB string descriptor (which is in RAM now). But it needs to be a           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // unicode string, so we've got to skip every other byte.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Since the FLASH copy of 'name' is padded with zeros and is always 16        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // bytes long, we are safe to always copy 16 bytes over to the string          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // descriptor.                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Because sd002 is an anonymous structure without any names for its           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // members, we are totally going to just hack this bad boy and jump            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // into a known offset from the beginning of the structure.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // As of 2.5.5, we now not only update the Product string, but also the        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // serial number string.                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d20   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH; i++)                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d22   0e10     MOVLW     0x10                                                                                            
005d24   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005d26   e221     BC        0x5d6a                                                                                          
005d66   2adf     INCF      0xdf,0x1,0x0                                                                                    
005d68   d7dc     BRA       0x5d22                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Only copy over valid ASCII characters. On the first invalid               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // one, bail out.                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d28   dbad     RCALL     0x6484             if (gDeviceStringName[i] <= 128u && gDeviceStringName[i] >= 32u)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d2a   50ef     MOVF      0xef,0x0,0x0                                                                                    
005d2c   0880     SUBLW     0x80                                                                                            
005d2e   e31d     BNC       0x5d6a                                                                                          
005d30   dba9     RCALL     0x6484                                                                                          
005d32   cfef     MOVFF     0xfef,0x46                                                                                      
005d34   f046                                                                                                               
005d36   0e20     MOVLW     0x20                                                                                            
005d38   5c46     SUBWF     0x46,0x0,0x0                                                                                    
005d3a   e317     BNC       0x5d6a                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d3c   dba3     RCALL     0x6484               *(USB_SD_Ptr[2] + 24 + (i*2)) = gDeviceStringName[i];                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d3e   50ef     MOVF      0xef,0x0,0x0                                                                                    
005d40   6ee6     MOVWF     0xe6,0x0                                                                                        
005d42   0e18     MOVLW     0x18                                                                                            
005d44   0102     MOVLB     0x2                                                                                             
005d46   6a47     CLRF      0x47,0x0                                                                                        
005d48   25fa     ADDWF     0xfa,0x0,0x1                                                                                    
005d4a   6e46     MOVWF     0x46,0x0                                                                                        
005d4c   51fb     MOVF      0xfb,0x0,0x1                                                                                    
005d4e   ecc5     CALL      0x658a,0x0                                                                                      
005d50   f032                                                                                                               
00658a   2247     ADDWFC    0x47,0x1,0x0                                                                                    
00658c   50df     MOVF      0xdf,0x0,0x0                                                                                    
00658e   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
006590   2446     ADDWF     0x46,0x0,0x0                                                                                    
006592   6ee9     MOVWF     0xe9,0x0                                                                                        
006594   0e00     MOVLW     0x0                                                                                             
006596   2047     ADDWFC    0x47,0x0,0x0                                                                                    
006598   6eea     MOVWF     0xea,0x0                                                                                        
00659a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00659c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00659e   6eef     MOVWF     0xef,0x0                                                                                        
0065a0   0012     RETURN    0x0                                                                                             
005d52   db98     RCALL     0x6484               *(USB_SD_Ptr[3] + 2 + (i*2)) = gDeviceStringName[i];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d54   50ef     MOVF      0xef,0x0,0x0                                                                                    
005d56   6ee6     MOVWF     0xe6,0x0                                                                                        
005d58   0e02     MOVLW     0x2                                                                                             
005d5a   6a47     CLRF      0x47,0x0                                                                                        
005d5c   25fc     ADDWF     0xfc,0x0,0x1                                                                                    
005d5e   6e46     MOVWF     0x46,0x0                                                                                        
005d60   51fd     MOVF      0xfd,0x0,0x1                                                                                    
005d62   ecc5     CALL      0x658a,0x0                                                                                      
005d64   f032                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now update the string descriptor lengths based on how many characters       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // we copied over from Flash                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d6a   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[2]) = 24 + (i * 2);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d6c   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
005d6e   0f18     ADDLW     0x18                                                                                            
005d70   c2fa     MOVFF     0x2fa,0xfe9                                                                                     
005d72   ffe9                                                                                                               
005d74   c2fb     MOVFF     0x2fb,0xfea                                                                                     
005d76   ffea                                                                                                               
005d78   6eef     MOVWF     0xef,0x0                                                                                        
005d7a   50df     MOVF      0xdf,0x0,0x0     *(USB_SD_Ptr[3]) = 2 + (i * 2);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d7c   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
005d7e   0f02     ADDLW     0x2                                                                                             
005d80   c2fc     MOVFF     0x2fc,0xfe9                                                                                     
005d82   ffe9                                                                                                               
005d84   c2fd     MOVFF     0x2fd,0xfea                                                                                     
005d86   ffea                                                                                                               
005d88   6eef     MOVWF     0xef,0x0                                                                                        
005d8a   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d8c   d325     BRA       0x63d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // ST command : Set Tag                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "ST,<new name><CR>"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // <new name> is a 0 to 16 character ASCII string.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // This string gets saved in FLASH, and is returned by the "QT" command, as      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // well as being appended to the USB name that shows up in the OS                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d8e   ec2c     CALL      0x6858,0x0     void parse_ST_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d90   f034                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d92   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d94   ec30     CALL      0x6860,0x0       print_command(FALSE, FALSE);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d96   f034                                                                                                               
006860   6ae6     CLRF      0xe6,0x0                                                                                        
006862   6ae6     CLRF      0xe6,0x0                                                                                        
006864   ef65     GOTO      0x66ca                                                                                          
006866   f033                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d98   0e01     MOVLW     0x1              for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005d9a   6adb     CLRF      0xdb,0x0                                                                                        
005d9c   0e11     MOVLW     0x11                                                                                            
005d9e   6ef3     MOVWF     0xf3,0x0                                                                                        
005da0   0e01     MOVLW     0x1                                                                                             
005da2   dbe9     RCALL     0x6576                                                                                          
005da4   e20b     BC        0x5dbc                                                                                          
005db6   0e01     MOVLW     0x1                                                                                             
005db8   2adb     INCF      0xdb,0x1,0x0                                                                                    
005dba   d7f0     BRA       0x5d9c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da6   0e01     MOVLW     0x1                gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005da8   50db     MOVF      0xdb,0x0,0x0                                                                                    
005daa   6aea     CLRF      0xea,0x0                                                                                        
005dac   0fe8     ADDLW     0xe8                                                                                            
005dae   6ee9     MOVWF     0xe9,0x0                                                                                        
005db0   0e00     MOVLW     0x0                                                                                             
005db2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
005db4   6aef     CLRF      0xef,0x0                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dbc   0e10     MOVLW     0x10             bytes = extract_string(gDeviceStringName, FLASH_NAME_LENGTH);                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dbe   6ee6     MOVWF     0xe6,0x0                                                                                        
005dc0   ecf2     CALL      0x67e4,0x0                                                                                      
005dc2   f033                                                                                                               
005dc4   d83a     RCALL     0x5e3a                                                                                          
005dc6   ec28     CALL      0x6850,0x0                                                                                      
005dc8   f034                                                                                                               
005dca   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We have reserved FLASH addresses 0xF800 to 0xFBFF (1024 bytes) for          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // storing persistent variables like the EEB's name. Note that no wear-leveling D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // is done, so it's not a good idea to change these values more than 10K times. :-) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dcc   68e6     SETF      0xe6,0x0         EraseFlash(FLASH_NAME_ADDRESS, FLASH_NAME_ADDRESS + 0x3FF);                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dce   0efb     MOVLW     0xfb                                                                                            
005dd0   6ee6     MOVWF     0xe6,0x0                                                                                        
005dd2   6ae6     CLRF      0xe6,0x0                                                                                        
005dd4   ecd5     CALL      0x67aa,0x0                                                                                      
005dd6   f033                                                                                                               
005dd8   ec62     CALL      0x8cc4,0x0                                                                                      
005dda   f046                                                                                                               
005ddc   ece9     CALL      0x65d2,0x0                                                                                      
005dde   f032                                                                                                               
0067aa   6ae6     CLRF      0xe6,0x0                                                                                        
0067ac   6ae6     CLRF      0xe6,0x0                                                                                        
0067ae   0ef8     MOVLW     0xf8                                                                                            
0067b0   6ee6     MOVWF     0xe6,0x0                                                                                        
0067b2   6ae6     CLRF      0xe6,0x0                                                                                        
0067b4   6ae6     CLRF      0xe6,0x0                                                                                        
0067b6   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005de0   db4c     RCALL     0x647a           WriteBytesFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005de2   ec2c     CALL      0x8858,0x0                                                                                      
005de4   f044                                                                                                               
005de6   ece9     CALL      0x65d2,0x0                                                                                      
005de8   f032                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dea   db2a     RCALL     0x6440           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dec   0e02     MOVLW     0x2            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dee   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
005df0   e202     BC        0x5df6                                                                                          
005df2   6ae1     CLRF      0xe1,0x0                                                                                        
005df4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005df6   6ee1     MOVWF     0xe1,0x0                                                                                        
005df8   d2ef     BRA       0x63d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // QT command : Query Tag                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // "QT<CR>"                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Prints out the 'tag' that was set with the "ST" command previously, if any    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// TODO: Optimize this by simply pointing ebb_print() at the string in FLASH?   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /// We could save 16 bytes of RAM that way and make the code simpler.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dfa   ec85     CALL      0x670a,0x0     void parse_QT_packet(void)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dfc   f033                                                                                                               
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 i;                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005dfe   dbac     RCALL     0x6558           print_command(FALSE, TRUE);                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006558   0e01     MOVLW     0x1                                                                                             
00655a   6ee6     MOVWF     0xe6,0x0                                                                                        
00655c   6ae6     CLRF      0xe6,0x0                                                                                        
00655e   ef65     GOTO      0x66ca                                                                                          
006560   f033                                                                                                               
0066ca   ec31     CALL      0x4c62,0x0                                                                                      
0066cc   f026                                                                                                               
0066ce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0066d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0066d2   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Clear out our name array                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e00   6adf     CLRF      0xdf,0x0         for (i=0; i < FLASH_NAME_LENGTH+1; i++)                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e02   0e11     MOVLW     0x11                                                                                            
005e04   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005e06   e204     BC        0x5e10                                                                                          
005e0c   2adf     INCF      0xdf,0x1,0x0                                                                                    
005e0e   d7f9     BRA       0x5e02                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e08   db3d     RCALL     0x6484             gDeviceStringName[i] = 0x00;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e0a   6aef     CLRF      0xef,0x0                                                                                        
006484   50df     MOVF      0xdf,0x0,0x0                                                                                    
006486   6aea     CLRF      0xea,0x0                                                                                        
006488   0fe8     ADDLW     0xe8                                                                                            
00648a   6ee9     MOVWF     0xe9,0x0                                                                                        
00648c   0e00     MOVLW     0x0                                                                                             
00648e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
006490   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // We always read 16, knowing that any unused bytes will be set to zero        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e10   ecd0     CALL      0x67a0,0x0       ReadFlash(FLASH_NAME_ADDRESS, FLASH_NAME_LENGTH, gDeviceStringName);           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e12   f033                                                                                                               
00647a   d9b4     RCALL     0x67e4                                                                                          
00647c   0e10     MOVLW     0x10                                                                                            
00647e   6ee6     MOVWF     0xe6,0x0                                                                                        
006480   efd5     GOTO      0x67aa                                                                                          
006482   f033                                                                                                               
0065d2   6e46     MOVWF     0x46,0x0                                                                                        
0065d4   0e08     MOVLW     0x8                                                                                             
0065d6   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0065d8   5046     MOVF      0x46,0x0,0x0                                                                                    
0065da   0012     RETURN    0x0                                                                                             
0067e4   0ee8     MOVLW     0xe8                                                                                            
0067e6   6ee6     MOVWF     0xe6,0x0                                                                                        
0067e8   0e00     MOVLW     0x0                                                                                             
0067ea   6ee6     MOVWF     0xe6,0x0                                                                                        
0067ec   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Only print it out if the first character is printable ASCII                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e14   0e80     MOVLW     0x80             if (gDeviceStringName[0] < 128u && gDeviceStringName[0] > 32u)                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e16   0100     MOVLB     0x0                                                                                             
005e18   5de8     SUBWF     0xe8,0x0,0x1                                                                                    
005e1a   e209     BC        0x5e2e                                                                                          
005e1c   51e8     MOVF      0xe8,0x0,0x1                                                                                    
005e1e   0820     SUBLW     0x20                                                                                            
005e20   e206     BC        0x5e2e                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e22   ecf2     CALL      0x67e4,0x0         ebb_print_ram((char *)gDeviceStringName);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e24   f033                                                                                                               
005e26   ec25     CALL      0x864a,0x0                                                                                      
005e28   f043                                                                                                               
005e2a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005e2c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e2e   0101     MOVLB     0x1              if (!bittstzero(gStandardizedCommandFormat))                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e30   a1c3     BTFSS     0xc3,0x0,0x1                                                                                    
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e32   dabb     RCALL     0x63aa             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e34   db05     RCALL     0x6440           print_line_ending(kLE_OK_NORM);                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006440   6ae6     CLRF      0xe6,0x0                                                                                        
006442   ec4f     CALL      0x4c9e,0x0                                                                                      
006444   f026                                                                                                               
006446   52e5     MOVF      0xe5,0x1,0x0                                                                                    
006448   0012     RETURN    0x0                                                                                             
005e36   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e38   d2cf     BRA       0x63d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string in g_RX_buf[]                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Copy over all bytes from g_RX_buf_out into ReturnValue until you hit          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a comma or a CR or you've copied over MaxBytes characters.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Return the number of bytes copied. Advance g_RX_buf_out as you go.            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e3a   ec85     CALL      0x670a,0x0     UINT8 extract_string (                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e3c   f033                                                                                                               
0063ce   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0063d0   ffe6                                                                                                               
0063d2   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0063d4   ffd9                                                                                                               
0063d6   0012     RETURN    0x0                                                                                             
00670a   de61     RCALL     0x63ce                                                                                          
00670c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
00670e   0012     RETURN    0x0                                                                                             
                                             unsigned char * ReturnValue,                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             UINT8 MaxBytes                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e3e   6adf     CLRF      0xdf,0x0         UINT8 bytes = 0;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Always terminate the string                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e40   db53     RCALL     0x64e8           *ReturnValue = 0x00;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e42   6aef     CLRF      0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e44   ecdc     CALL      0x67b8,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e46   f033                                                                                                               
005e48   e102     BNZ       0x5e4e                                                                                          
0067b8   0e0d     MOVLW     0xd                                                                                             
0067ba   6e46     MOVWF     0x46,0x0                                                                                        
0067bc   0100     MOVLB     0x0                                                                                             
0067be   ddf8     RCALL     0x63b0                                                                                          
0067c0   5c46     SUBWF     0x46,0x0,0x0                                                                                    
0067c2   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e4a   8997     BSF       0x97,0x4,0x1       bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e4c   d005     BRA       0x5e58             return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e4e   dab0     RCALL     0x63b0           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e50   082c     SUBLW     0x2c                                                                                            
005e52   e004     BZ        0x5e5c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e54   ec41     CALL      0x6682,0x0         ebb_print((rom char far *)"!5 Err: Need comma next, found: '");              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e56   f033                                                                                                               
006682   0ec8     MOVLW     0xc8                                                                                            
006684   6e46     MOVWF     0x46,0x0                                                                                        
006686   0e7c     MOVLW     0x7c                                                                                            
006688   de86     RCALL     0x6396                                                                                          
00668a   0100     MOVLB     0x0                ebb_print_char(g_RX_buf[g_RX_buf_out]);                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00668c   de91     RCALL     0x63b0                                                                                          
00668e   dead     RCALL     0x63ea                                                                                          
006690   0e27     MOVLW     0x27               ebb_print_char(0x27); // The ' character                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006692   deab     RCALL     0x63ea                                                                                          
006694   de8a     RCALL     0x63aa             print_line_ending(kLE_NORM);                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006696   0100     MOVLB     0x0                bitset(error_byte, kERROR_BYTE_PRINTED_ERROR);                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006698   8b97     BSF       0x97,0x5,0x1                                                                                    
00669a   0012     RETURN    0x0                                                                                             
005e58   0e00     MOVLW     0x0                return(0);                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e5a   d028     BRA       0x5eac                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e5c   dad0     RCALL     0x63fe           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e5e   e104     BNZ       0x5e68                                                                                          
005e60   0e01     MOVLW     0x1                                                                                             
005e62   1847     XORWF     0x47,0x0,0x0                                                                                    
005e64   e101     BNZ       0x5e68                                                                                          
005e66   6bcb     CLRF      0xcb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eaa   d7de     BRA       0x5e68           while(1)                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Check to see if we're already at the end                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e68   0e0d     MOVLW     0xd                if (kCR == g_RX_buf[g_RX_buf_out] || (BYTE)',' == g_RX_buf[g_RX_buf_out] || bytes >= MaxBytes) D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e6a   ecf7     CALL      0x67ee,0x0                                                                                      
005e6c   f033                                                                                                               
005e6e   e009     BZ        0x5e82                                                                                          
005e70   0e2c     MOVLW     0x2c                                                                                            
005e72   6e47     MOVWF     0x47,0x0                                                                                        
005e74   da9d     RCALL     0x63b0                                                                                          
005e76   5c47     SUBWF     0x47,0x0,0x0                                                                                    
005e78   e004     BZ        0x5e82                                                                                          
005e7a   0efc     MOVLW     0xfc                                                                                            
005e7c   50db     MOVF      0xdb,0x0,0x0                                                                                    
005e7e   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
005e80   e302     BNC       0x5e86                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e82   50df     MOVF      0xdf,0x0,0x0         return (bytes);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e84   d013     BRA       0x5eac                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Copy over a byte                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e86   da94     RCALL     0x63b0             *ReturnValue = g_RX_buf[g_RX_buf_out];                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e88   6ee6     MOVWF     0xe6,0x0                                                                                        
005e8a   db2e     RCALL     0x64e8                                                                                          
005e8c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005e8e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
005e90   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e92   dab5     RCALL     0x63fe             advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e94   e104     BNZ       0x5e9e                                                                                          
005e96   0e01     MOVLW     0x1                                                                                             
005e98   1847     XORWF     0x47,0x0,0x0                                                                                    
005e9a   e101     BNZ       0x5e9e                                                                                          
005e9c   6bcb     CLRF      0xcb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Count this one                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005e9e   2adf     INCF      0xdf,0x1,0x0       bytes++;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea0   0efd     MOVLW     0xfd               ReturnValue++;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ea2   2adb     INCF      0xdb,0x1,0x0                                                                                    
005ea4   0efe     MOVLW     0xfe                                                                                            
005ea6   e3e0     BNC       0x5e68                                                                                          
005ea8   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             return(bytes);                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eac   52e5     MOVF      0xe5,0x1,0x0   }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eae   d294     BRA       0x63d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Look at the string pointed to by g_RX_buf[g_RX_buf_out]                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // There should be a comma where g_RX_buf[g_RX_buf_out] points to upon entry.    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If not, throw a comma error.                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // If so, then look for up to like a ton of bytes after the                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // comma for numbers, and put them all into one                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // unsigned long accumulator.                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Advance the pointer to the byte after the last number                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // and return.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eb0   da8e     RCALL     0x63ce         ExtractReturnType extract_number(                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eb2   0e09     MOVLW     0x9                                                                                             
005eb4   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                             ExtractType Type,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             void * ReturnValue,                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char Required                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           )                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned long ULAccumulator;                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             signed long Accumulator;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eb6   0e08     MOVLW     0x8              BOOL Negative = FALSE;                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eb8   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check to see if we're already at the end                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eba   ecdc     CALL      0x67b8,0x0       if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ebc   f033                                                                                                               
005ebe   e105     BNZ       0x5eca                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ec0   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ec2   50db     MOVF      0xdb,0x0,0x0                                                                                    
005ec4   e119     BNZ       0x5ef8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ec6   8997     BSF       0x97,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ec8   d017     BRA       0x5ef8             return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for comma where ptr points                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eca   da72     RCALL     0x63b0           if (g_RX_buf[g_RX_buf_out] != ',')                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ecc   082c     SUBLW     0x2c                                                                                            
005ece   e006     BZ        0x5edc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ed0   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ed2   50db     MOVF      0xdb,0x0,0x0                                                                                    
005ed4   e101     BNZ       0x5ed8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ed6   dbd5     RCALL     0x6682               ebb_print((rom char far *)"!5 Err: Need comma next, found: '");            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0063b0   51cb     MOVF      0xcb,0x0,0x1         ebb_print_char(g_RX_buf[g_RX_buf_out]);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0063b2   d985     RCALL     0x66be                                                                                          
0063b4   50ef     MOVF      0xef,0x0,0x0                                                                                    
0063b6   0012     RETURN    0x0                                                                                             
                                                 ebb_print_char(0x27);     // The ' character                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 print_line_ending(kLE_NORM);                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset (error_byte, kERROR_BYTE_PRINTED_ERROR);                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ed8   0e02     MOVLW     0x2                return(kEXTRACT_COMMA_MISSING);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eda   d11a     BRA       0x6110                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Move to the next character                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005edc   da90     RCALL     0x63fe           advance_RX_buf_out();                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ede   e104     BNZ       0x5ee8                                                                                          
005ee0   0e01     MOVLW     0x1                                                                                             
005ee2   1847     XORWF     0x47,0x0,0x0                                                                                    
005ee4   e101     BNZ       0x5ee8                                                                                          
005ee6   6bcb     CLRF      0xcb,0x1                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Check for end of command                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ee8   0e0d     MOVLW     0xd              if (kCR == g_RX_buf[g_RX_buf_out])                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005eea   ecf7     CALL      0x67ee,0x0                                                                                      
005eec   f033                                                                                                               
005eee   e106     BNZ       0x5efc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ef0   0efb     MOVLW     0xfb               if (0u == Required)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ef2   50db     MOVF      0xdb,0x0,0x0                                                                                    
005ef4   e101     BNZ       0x5ef8                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ef6   8997     BSF       0x97,0x4,0x1         bitset(error_byte, kERROR_BYTE_MISSING_PARAMETER);                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ef8   0e03     MOVLW     0x3                return(kEXTRACT_MISSING_PARAMETER);                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005efa   d10a     BRA       0x6110                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Now check for a sign character if we're not looking for ASCII chars         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005efc   0e2d     MOVLW     0x2d               ('-' == g_RX_buf[g_RX_buf_out])                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005efe   ecf7     CALL      0x67ee,0x0                                                                                      
005f00   f033                                                                                                               
0067ee   6e46     MOVWF     0x46,0x0                                                                                        
0067f0   dddf     RCALL     0x63b0                                                                                          
0067f2   5c46     SUBWF     0x46,0x0,0x0                                                                                    
0067f4   0012     RETURN    0x0                                                                                             
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               (                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f04   0e04     MOVLW     0x4                  (kASCII_CHAR != Type)                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f06   db54     RCALL     0x65b0                                                                                          
                                                 &&                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f0a   0e05     MOVLW     0x5                  (kUCASE_ASCII_CHAR != Type)                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f0c   6e48     MOVWF     0x48,0x0                                                                                        
005f0e   0efe     MOVLW     0xfe                                                                                            
005f10   50db     MOVF      0xdb,0x0,0x0                                                                                    
005f12   5c48     SUBWF     0x48,0x0,0x0                                                                                    
005f08   e01d     BZ        0x5f44             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f14   e017     BZ        0x5f44                                                                                          
005f02   e120     BNZ       0x5f44           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // It's an error if we see a negative sign on an unsigned value              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f16   0efe     MOVLW     0xfe                 (kUCHAR == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f18   04db     DECF      0xdb,0x0,0x0                                                                                    
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f1e   0e03     MOVLW     0x3                  (kUINT == Type)                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f20   db2f     RCALL     0x6580                                                                                          
005f1a   e101     BNZ       0x5f1e               ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f1c   d0c0     BRA       0x609e                                                                                          
005f22   e101     BNZ       0x5f26                                                                                          
005f24   d0bc     BRA       0x609e                                                                                          
005f26   0e07     MOVLW     0x7                  (kULONG == Type)                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f28   db43     RCALL     0x65b0                                                                                          
005f2a   e101     BNZ       0x5f2e             )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f2c   d0b8     BRA       0x609e                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f2e   0e01     MOVLW     0x1                  Negative = TRUE;                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f30   6ef3     MOVWF     0xf3,0x0                                                                                        
005f32   0e08     MOVLW     0x8                                                                                             
005f34   cff3     MOVFF     0xff3,0xfdb                                                                                     
005f36   ffdb                                                                                                               
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f38   da62     RCALL     0x63fe               advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f3a   e104     BNZ       0x5f44                                                                                          
005f3c   0e01     MOVLW     0x1                                                                                             
005f3e   1847     XORWF     0x47,0x0,0x0                                                                                    
005f40   e101     BNZ       0x5f44                                                                                          
005f42   6bcb     CLRF      0xcb,0x1                                                                                        
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If we need to get a digit, go do that                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f44   0e04     MOVLW     0x4                (kASCII_CHAR != Type)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f46   db1c     RCALL     0x6580                                                                                          
                                               &&                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f4a   0e05     MOVLW     0x5                (kUCASE_ASCII_CHAR != Type)                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f4c   db31     RCALL     0x65b0                                                                                          
005f48   e009     BZ        0x5f5c           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f4e   e006     BZ        0x5f5c                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f50   0e0a     MOVLW     0xa                extract_digit(&ULAccumulator, 10);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f52   daf1     RCALL     0x6536                                                                                          
005f54   d8e6     RCALL     0x6122                                                                                          
005f56   ec28     CALL      0x6850,0x0                                                                                      
005f58   f034                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f5a   d031     BRA       0x5fbe           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Otherwise just copy the byte                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f5c   51cb     MOVF      0xcb,0x0,0x1       ULAccumulator = g_RX_buf[g_RX_buf_out];                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f5e   dbaf     RCALL     0x66be                                                                                          
005f60   cfef     MOVFF     0xfef,0x46                                                                                      
005f62   f046                                                                                                               
005f64   0e00     MOVLW     0x0                                                                                             
005f66   c046     MOVFF     0x46,0xfdf                                                                                      
005f68   ffdf                                                                                                               
005f6a   db3f     RCALL     0x65ea                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Force uppercase if that's what type we have                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f6c   0e05     MOVLW     0x5                if (kUCASE_ASCII_CHAR == Type)                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f6e   db08     RCALL     0x6580                                                                                          
005f70   e11f     BNZ       0x5fb0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f72   0e00     MOVLW     0x0                  ULAccumulator = toupper(ULAccumulator);                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005f74   cfdf     MOVFF     0xfdf,0xfe6                                                                                     
005f76   ffe6                                                                                                               
005f78   0e01     MOVLW     0x1                                                                                             
005f7a   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
005f7c   ffe6                                                                                                               
005f7e   ecbe     CALL      0x917c,0x0                                                                                      
005f80   f048                                                                                                               
005f82   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005f84   52e5     MOVF      0xe5,0x1,0x0                                                                                    
005f86   cff3     MOVFF     0xff3,0x46                                                                                      
005f88   f046                                                                                                               
005f8a   cff4     MOVFF     0xff4,0x47                                                                                      
005f8c   f047                                                                                                               
005f8e   6a48     CLRF      0x48,0x0                                                                                        
005f90   6a49     CLRF      0x49,0x0                                                                                        
005f92   ae47     BTFSS     0x47,0x7,0x0                                                                                    
005f94   d002     BRA       0x5f9a                                                                                          
005f96   6848     SETF      0x48,0x0                                                                                        
005f98   6849     SETF      0x49,0x0                                                                                        
005f9a   c046     MOVFF     0x46,0xfdf                                                                                      
005f9c   ffdf                                                                                                               
005f9e   0e01     MOVLW     0x1                                                                                             
005fa0   c047     MOVFF     0x47,0xfdb                                                                                      
005fa2   ffdb                                                                                                               
005fa4   0e02     MOVLW     0x2                                                                                             
005fa6   c048     MOVFF     0x48,0xfdb                                                                                      
005fa8   ffdb                                                                                                               
005faa   0e03     MOVLW     0x3                                                                                             
005fac   c049     MOVFF     0x49,0xfdb                                                                                      
005fae   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               // Move to the next character                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb0   0100     MOVLB     0x0                advance_RX_buf_out();                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fb2   da25     RCALL     0x63fe                                                                                          
005fb4   e104     BNZ       0x5fbe                                                                                          
005fb6   0e01     MOVLW     0x1                                                                                             
005fb8   1847     XORWF     0x47,0x0,0x0                                                                                    
005fba   e101     BNZ       0x5fbe                                                                                          
005fbc   6bcb     CLRF      0xcb,0x1                                                                                        
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // Range check absolute values                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fbe   0e08     MOVLW     0x8              if (Negative)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fc0   50db     MOVF      0xdb,0x0,0x0                                                                                    
005fc2   e040     BZ        0x6044                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fc4   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fc6   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fca   da51     RCALL     0x646e                 (ULAccumulator > (unsigned long)128)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fcc   0e80     MOVLW     0x80                                                                                            
005fce   da6e     RCALL     0x64ac                                                                                          
005fd0   0e00     MOVLW     0x0                                                                                             
005fd2   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005fc8   e106     BNZ       0x5fd6               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fd4   e312     BNC       0x5ffa                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fd6   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fd8   dad3     RCALL     0x6580                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fdc   da48     RCALL     0x646e                 (ULAccumulator > (unsigned long)32768)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fde   0e00     MOVLW     0x0                                                                                             
005fe0   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005fe2   0e80     MOVLW     0x80                                                                                            
005fe4   da63     RCALL     0x64ac                                                                                          
005fda   e106     BNZ       0x5fe8               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fe6   e309     BNC       0x5ffa                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fe8   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fea   dae2     RCALL     0x65b0                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005fee   da3f     RCALL     0x646e                 (ULAccumulator > (unsigned long)0x80000000L)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ff0   0e00     MOVLW     0x0                                                                                             
005ff2   da5c     RCALL     0x64ac                                                                                          
005ff4   0e80     MOVLW     0x80                                                                                            
005ff6   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
005fec   e108     BNZ       0x5ffe               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ff8   e202     BC        0x5ffe                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ffa   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ffc   d050     BRA       0x609e               return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
005ffe   da7b     RCALL     0x64f6             Accumulator = ULAccumulator;                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0064f6   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
0064f8   ffe9                                                                                                               
0064fa   cfda     MOVFF     0xfda,0xfea                                                                                     
0064fc   ffea                                                                                                               
0064fe   0e04     MOVLW     0x4                                                                                             
006500   cfee     MOVFF     0xfee,0xfdb                                                                                     
006502   ffdb                                                                                                               
006504   0e05     MOVLW     0x5                                                                                             
006506   cfee     MOVFF     0xfee,0xfdb                                                                                     
006508   ffdb                                                                                                               
00650a   0e06     MOVLW     0x6                                                                                             
00650c   cfee     MOVFF     0xfee,0xfdb                                                                                     
00650e   ffdb                                                                                                               
006510   0e07     MOVLW     0x7                                                                                             
006512   cfee     MOVFF     0xfee,0xfdb                                                                                     
006514   ffdb                                                                                                               
006516   0012     RETURN    0x0                                                                                             
                                               // Then apply the negative if that's the right thing to do                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006000   0e08     MOVLW     0x8                if (Negative)                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006002   50db     MOVF      0xdb,0x0,0x0                                                                                    
006004   e053     BZ        0x60ac                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006006   0e04     MOVLW     0x4                  Accumulator = -Accumulator;                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006008   cfdb     MOVFF     0xfdb,0x38                                                                                      
00600a   f038                                                                                                               
00600c   0e05     MOVLW     0x5                                                                                             
00600e   cfdb     MOVFF     0xfdb,0x39                                                                                      
006010   f039                                                                                                               
006012   0e06     MOVLW     0x6                                                                                             
006014   cfdb     MOVFF     0xfdb,0x3a                                                                                      
006016   f03a                                                                                                               
006018   0e07     MOVLW     0x7                                                                                             
00601a   cfdb     MOVFF     0xfdb,0x3b                                                                                      
00601c   f03b                                                                                                               
00601e   683d     SETF      0x3d,0x0                                                                                        
006020   683e     SETF      0x3e,0x0                                                                                        
006022   683f     SETF      0x3f,0x0                                                                                        
006024   6840     SETF      0x40,0x0                                                                                        
006026   ec05     CALL      0x900a,0x0                                                                                      
006028   f048                                                                                                               
00602a   0e04     MOVLW     0x4                                                                                             
00602c   c034     MOVFF     0x34,0xfdb                                                                                      
00602e   ffdb                                                                                                               
006030   0e05     MOVLW     0x5                                                                                             
006032   c035     MOVFF     0x35,0xfdb                                                                                      
006034   ffdb                                                                                                               
006036   0e06     MOVLW     0x6                                                                                             
006038   c036     MOVFF     0x36,0xfdb                                                                                      
00603a   ffdb                                                                                                               
00603c   0e07     MOVLW     0x7                                                                                             
00603e   c037     MOVFF     0x37,0xfdb                                                                                      
006040   ffdb                                                                                                               
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006042   d034     BRA       0x60ac           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               if (                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006044   0efe     MOVLW     0xfe                   kCHAR == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006046   50db     MOVF      0xdb,0x0,0x0                                                                                    
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00604a   da11     RCALL     0x646e                 (ULAccumulator > (unsigned long)127)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00604c   0e7f     MOVLW     0x7f                                                                                            
00604e   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006050   0e00     MOVLW     0x0                                                                                             
006052   da2c     RCALL     0x64ac                                                                                          
006048   e106     BNZ       0x6056               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006054   e323     BNC       0x609c                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                   kUCHAR == Type                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006056   0efe     MOVLW     0xfe                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006058   04db     DECF      0xdb,0x0,0x0                                                                                    
00605c   db73     RCALL     0x6744                 (ULAccumulator > (unsigned long)255)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00605e   0e00     MOVLW     0x0                                                                                             
006060   da25     RCALL     0x64ac                                                                                          
00605a   e104     BNZ       0x6064               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006062   e31c     BNC       0x609c                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006064   0e02     MOVLW     0x2                    kINT == Type                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006066   da8c     RCALL     0x6580                                                                                          
                                                   &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00606a   db6c     RCALL     0x6744                 (ULAccumulator > (unsigned long)32767)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00606c   0e7f     MOVLW     0x7f                                                                                            
00606e   da1e     RCALL     0x64ac                                                                                          
006068   e104     BNZ       0x6072               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006070   e315     BNC       0x609c                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006072   0e03     MOVLW     0x3                    kUINT == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006074   da9d     RCALL     0x65b0                                                                                          
0065b0   6e47     MOVWF     0x47,0x0                                                                                        
0065b2   0efe     MOVLW     0xfe                                                                                            
0065b4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0065b6   5c47     SUBWF     0x47,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065b8   0012     RETURN    0x0                                                                                             
006078   db65     RCALL     0x6744                 (ULAccumulator > (unsigned long)65535)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00607a   0eff     MOVLW     0xff                                                                                            
00607c   da17     RCALL     0x64ac                                                                                          
0064ac   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0064ae   0e00     MOVLW     0x0                                                                                             
0064b0   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0064b2   0e00     MOVLW     0x0                                                                                             
0064b4   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
0064b6   0012     RETURN    0x0                                                                                             
006076   e104     BNZ       0x6080               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00607e   e30e     BNC       0x609c                                                                                          
                                                 ||                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 (                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006080   0e06     MOVLW     0x6                    kLONG == Type                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006082   6e48     MOVWF     0x48,0x0                                                                                        
006084   0efe     MOVLW     0xfe                                                                                            
006086   50db     MOVF      0xdb,0x0,0x0                                                                                    
006088   5c48     SUBWF     0x48,0x0,0x0           &&                                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00608c   db5b     RCALL     0x6744                 (ULAccumulator > (unsigned long)0x7FFFFFFFL)                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00608e   0eff     MOVLW     0xff                                                                                            
006090   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006092   0eff     MOVLW     0xff                                                                                            
006094   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
006096   0e7f     MOVLW     0x7f                                                                                            
006098   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00646e   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
006470   ffe9                                                                                                               
006472   cfda     MOVFF     0xfda,0xfea                                                                                     
006474   ffea                                                                                                               
006476   80d8     BSF       0xd8,0x0,0x0                                                                                    
006478   0012     RETURN    0x0                                                                                             
006744   de94     RCALL     0x646e                                                                                          
006746   0eff     MOVLW     0xff                                                                                            
006748   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00674a   0012     RETURN    0x0                                                                                             
00608a   e10c     BNZ       0x60a4               )                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00609a   e204     BC        0x60a4                                                                                          
                                               )                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00609c   0100     MOVLB     0x0                  bitset(error_byte, kERROR_BYTE_PARAMETER_OUTSIDE_LIMIT);                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00609e   8d97     BSF       0x97,0x6,0x1                                                                                    
0060a0   0e01     MOVLW     0x1                  return(kEXTRACT_PARAMETER_OUTSIDE_LIMIT);                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060a2   d036     BRA       0x6110                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060a4   0e07     MOVLW     0x7                if (kULONG != Type)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060a6   da6c     RCALL     0x6580                                                                                          
0060a8   e001     BZ        0x60ac                                                                                          
006580   6e46     MOVWF     0x46,0x0                                                                                        
006582   0efe     MOVLW     0xfe                                                                                            
006584   50db     MOVF      0xdb,0x0,0x0                                                                                    
006586   5c46     SUBWF     0x46,0x0,0x0                                                                                    
006588   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060aa   da25     RCALL     0x64f6               Accumulator = ULAccumulator;                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             // If all went well, then copy the result                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ac   0efe     MOVLW     0xfe             switch (Type)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060ae   50db     MOVF      0xdb,0x0,0x0                                                                                    
0060b0   0a07     XORLW     0x7                                                                                             
0060b2   e021     BZ        0x60f6                                                                                          
0060b4   0a01     XORLW     0x1                                                                                             
0060b6   e017     BZ        0x60e6                                                                                          
0060b8   0a05     XORLW     0x5                                                                                             
0060ba   e011     BZ        0x60de                                                                                          
0060bc   0a01     XORLW     0x1                                                                                             
0060be   e00f     BZ        0x60de                                                                                          
0060c0   0a03     XORLW     0x3                                                                                             
0060c2   e008     BZ        0x60d4                                                                                          
0060c4   0a05     XORLW     0x5                                                                                             
0060c6   e006     BZ        0x60d4                                                                                          
0060c8   0a01     XORLW     0x1                                                                                             
0060ca   e004     BZ        0x60d4                                                                                          
0060cc   0a05     XORLW     0x5                                                                                             
0060ce   e002     BZ        0x60d4                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kCHAR:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed char *)ReturnValue = (signed char)Accumulator;                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCHAR:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kASCII_CHAR:                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUCASE_ASCII_CHAR:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d4   da29     RCALL     0x6528               *(unsigned char *)ReturnValue = (unsigned char)Accumulator;                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d6   0e04     MOVLW     0x4                                                                                             
0060d8   cfdb     MOVFF     0xfdb,0xfef                                                                                     
0060da   ffef                                                                                                               
0060dc   d018     BRA       0x610e               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kINT:                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 *(signed int *)ReturnValue = (signed int)Accumulator;                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kUINT:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060de   db72     RCALL     0x67c4               *(unsigned int *)ReturnValue = (unsigned int)Accumulator;                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060e0   cfdb     MOVFF     0xfdb,0xfed                                                                                     
0060e2   ffed                                                                                                               
0067c4   deb1     RCALL     0x6528                                                                                          
0067c6   0e04     MOVLW     0x4                                                                                             
0067c8   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0067ca   ffee                                                                                                               
0067cc   0e05     MOVLW     0x5                                                                                             
0067ce   0012     RETURN    0x0                                                                                             
0060e4   d014     BRA       0x610e               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kLONG:                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060e6   db6e     RCALL     0x67c4               *(signed long *)ReturnValue = Accumulator;                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060e8   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0060ea   ffee                                                                                                               
0060ec   0e06     MOVLW     0x6                                                                                             
0060ee   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0060f0   ffee                                                                                                               
0060f2   0e07     MOVLW     0x7                                                                                             
006528   0efc     MOVLW     0xfc                                                                                            
00652a   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
00652c   ffe9                                                                                                               
00652e   0efd     MOVLW     0xfd                                                                                            
006530   cfdb     MOVFF     0xfdb,0xfea                                                                                     
006532   ffea                                                                                                               
006534   0012     RETURN    0x0                                                                                             
0060f4   d00a     BRA       0x610a               break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               case kULONG:                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060f6   da18     RCALL     0x6528               *(unsigned long *)ReturnValue = ULAccumulator;                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060f8   cfdf     MOVFF     0xfdf,0xfee                                                                                     
0060fa   ffee                                                                                                               
0060fc   0e01     MOVLW     0x1                                                                                             
0060fe   cfdb     MOVFF     0xfdb,0xfee                                                                                     
006100   ffee                                                                                                               
006102   0e02     MOVLW     0x2                                                                                             
006104   cfdb     MOVFF     0xfdb,0xfee                                                                                     
006106   ffee                                                                                                               
006108   0e03     MOVLW     0x3                                                                                             
00610a   cfdb     MOVFF     0xfdb,0xfee                                                                                     
00610c   ffee                                                                                                               
                                                 break;                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               default:                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d0   0e04     MOVLW     0x4                  return(kEXTRACT_INVALID_TYPE);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0060d2   d01e     BRA       0x6110                                                                                          
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00610e   0e00     MOVLW     0x0              return(kEXTRACT_OK);                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006110   6e46     MOVWF     0x46,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006112   0e09     MOVLW     0x9                                                                                             
006114   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
006116   e202     BC        0x611c                                                                                          
006118   6ae1     CLRF      0xe1,0x0                                                                                        
00611a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00611c   6ee1     MOVWF     0xe1,0x0                                                                                        
00611e   5046     MOVF      0x46,0x0,0x0                                                                                    
006120   d15b     BRA       0x63d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Loop 'digits' number of times, looking at the                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // byte in input_buffer index *ptr, and if it is                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // a digit, adding it to acc. Take care of                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // powers of ten as well. If you hit a non-numerical                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // char, then return FALSE, otherwise return TRUE.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // Store result as you go in *acc.                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006122   db9a     RCALL     0x6858         signed char extract_digit(unsigned long * acc, unsigned char digits)             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006858   ddba     RCALL     0x63ce                                                                                          
00685a   0e02     MOVLW     0x2                                                                                             
00685c   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
00685e   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char val;                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             unsigned char digit_cnt;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006124   d9e1     RCALL     0x64e8           *acc = 0;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006126   6aee     CLRF      0xee,0x0                                                                                        
006128   6aee     CLRF      0xee,0x0                                                                                        
00612a   6aee     CLRF      0xee,0x0                                                                                        
00612c   6aee     CLRF      0xee,0x0                                                                                        
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00612e   0e01     MOVLW     0x1              for (digit_cnt = 0; digit_cnt < digits; digit_cnt++)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006130   6adb     CLRF      0xdb,0x0                                                                                        
006132   0efc     MOVLW     0xfc                                                                                            
006134   50db     MOVF      0xdb,0x0,0x0                                                                                    
006136   6ef3     MOVWF     0xf3,0x0                                                                                        
006138   0e01     MOVLW     0x1                                                                                             
00613a   da1d     RCALL     0x6576                                                                                          
00613c   e24f     BC        0x61dc                                                                                          
0061d6   0e01     MOVLW     0x1                                                                                             
0061d8   2adb     INCF      0xdb,0x1,0x0                                                                                    
0061da   d7ab     BRA       0x6132                                                                                          
006576   cfdb     MOVFF     0xfdb,0xff4                                                                                     
006578   fff4                                                                                                               
00657a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00657c   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
00657e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00613e   0100     MOVLB     0x0                val = g_RX_buf[g_RX_buf_out];                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006140   51cb     MOVF      0xcb,0x0,0x1                                                                                    
006142   dabd     RCALL     0x66be                                                                                          
006144   cfef     MOVFF     0xfef,0xfdf                                                                                     
006146   ffdf                                                                                                               
006148   0e30     MOVLW     0x30               if ((val >= 48u) && (val <= 57u))                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00614a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00614c   e342     BNC       0x61d2                                                                                          
00614e   50df     MOVF      0xdf,0x0,0x0                                                                                    
006150   0839     SUBLW     0x39                                                                                            
006152   e33f     BNC       0x61d2                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006154   d9c9     RCALL     0x64e8               *acc = (*acc * 10) + (val - 48);                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006156   cfee     MOVFF     0xfee,0x46                                                                                      
006158   f046                                                                                                               
00615a   cfee     MOVFF     0xfee,0x47                                                                                      
00615c   f047                                                                                                               
00615e   cfee     MOVFF     0xfee,0x48                                                                                      
006160   f048                                                                                                               
006162   cfef     MOVFF     0xfef,0x49                                                                                      
006164   f049                                                                                                               
006166   0e0a     MOVLW     0xa                                                                                             
006168   6e3d     MOVWF     0x3d,0x0                                                                                        
00616a   6a3e     CLRF      0x3e,0x0                                                                                        
00616c   6a3f     CLRF      0x3f,0x0                                                                                        
00616e   6a40     CLRF      0x40,0x0                                                                                        
006170   c046     MOVFF     0x46,0x38                                                                                       
006172   f038                                                                                                               
006174   c047     MOVFF     0x47,0x39                                                                                       
006176   f039                                                                                                               
006178   c048     MOVFF     0x48,0x3a                                                                                       
00617a   f03a                                                                                                               
00617c   c049     MOVFF     0x49,0x3b                                                                                       
00617e   f03b                                                                                                               
006180   ec05     CALL      0x900a,0x0                                                                                      
006182   f048                                                                                                               
006184   c034     MOVFF     0x34,0x46                                                                                       
006186   f046                                                                                                               
006188   c035     MOVFF     0x35,0x47                                                                                       
00618a   f047                                                                                                               
00618c   c036     MOVFF     0x36,0x48                                                                                       
00618e   f048                                                                                                               
006190   c037     MOVFF     0x37,0x49                                                                                       
006192   f049                                                                                                               
006194   0e30     MOVLW     0x30                                                                                            
006196   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
006198   6e4a     MOVWF     0x4a,0x0                                                                                        
00619a   6a4b     CLRF      0x4b,0x0                                                                                        
00619c   6a4c     CLRF      0x4c,0x0                                                                                        
00619e   6a4d     CLRF      0x4d,0x0                                                                                        
0061a0   50e8     MOVF      0xe8,0x0,0x0                                                                                    
0061a2   2646     ADDWF     0x46,0x1,0x0                                                                                    
0061a4   504b     MOVF      0x4b,0x0,0x0                                                                                    
0061a6   2247     ADDWFC    0x47,0x1,0x0                                                                                    
0061a8   504c     MOVF      0x4c,0x0,0x0                                                                                    
0061aa   2248     ADDWFC    0x48,0x1,0x0                                                                                    
0061ac   504d     MOVF      0x4d,0x0,0x0                                                                                    
0061ae   2249     ADDWFC    0x49,0x1,0x0                                                                                    
0061b0   d99b     RCALL     0x64e8                                                                                          
0061b2   c046     MOVFF     0x46,0xfee                                                                                      
0061b4   ffee                                                                                                               
0061b6   c047     MOVFF     0x47,0xfee                                                                                      
0061b8   ffee                                                                                                               
0061ba   c048     MOVFF     0x48,0xfee                                                                                      
0061bc   ffee                                                                                                               
0061be   c049     MOVFF     0x49,0xfee                                                                                      
0061c0   ffee                                                                                                               
0064e8   0efd     MOVLW     0xfd                                                                                            
0064ea   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0064ec   ffe9                                                                                                               
0064ee   0efe     MOVLW     0xfe                                                                                            
0064f0   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0064f2   ffea                                                                                                               
0064f4   0012     RETURN    0x0                                                                                             
                                                 // Move to the next character                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061c2   0100     MOVLB     0x0                  advance_RX_buf_out();                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061c4   d91c     RCALL     0x63fe                                                                                          
0061c6   e107     BNZ       0x61d6                                                                                          
0061c8   0e01     MOVLW     0x1                                                                                             
0061ca   1847     XORWF     0x47,0x0,0x0                                                                                    
0061cc   e104     BNZ       0x61d6                                                                                          
0061ce   6bcb     CLRF      0xcb,0x1                                                                                        
0063fe   2bcb     INCF      0xcb,0x1,0x1                                                                                    
006400   51cb     MOVF      0xcb,0x0,0x1                                                                                    
006402   6e46     MOVWF     0x46,0x0                                                                                        
006404   6a47     CLRF      0x47,0x0                                                                                        
006406   0e00     MOVLW     0x0                                                                                             
006408   1846     XORWF     0x46,0x0,0x0                                                                                    
00640a   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061d0   d002     BRA       0x61d6             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061d2   0e00     MOVLW     0x0                  return(FALSE);                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061d4   d004     BRA       0x61de                                                                                          
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061dc   0e01     MOVLW     0x1              return(TRUE);                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061de   6e46     MOVWF     0x46,0x0       }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061e0   0e02     MOVLW     0x2                                                                                             
0061e2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0061e4   e202     BC        0x61ea                                                                                          
0061e6   6ae1     CLRF      0xe1,0x0                                                                                        
0061e8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0061ea   6ee1     MOVWF     0xe1,0x0                                                                                        
0061ec   5046     MOVF      0x46,0x0,0x0                                                                                    
0061ee   d0f4     BRA       0x63d8                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // For debugging, this command will spit out a bunch of values.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void print_status(void)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061f0   0ec0     MOVLW     0xc0             ebb_print((far rom char*)"Status=");                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061f2   6e46     MOVWF     0x46,0x0                                                                                        
0061f4   0e7c     MOVLW     0x7c                                                                                            
0061f6   d8cf     RCALL     0x6396                                                                                          
006396   d9b0     RCALL     0x66f8                                                                                          
006398   ef28     GOTO      0x6850                                                                                          
00639a   f034                                                                                                               
0061f8   c091     MOVFF     0x91,0x46        ebb_print_uint(ISR_D_FIFO_length);                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0061fa   f046                                                                                                               
0061fc   dafc     RCALL     0x67f6                                                                                          
0061fe   ef3e     GOTO      0x667c                                                                                          
006200   f033                                                                                                               
00667c   d8e5     RCALL     0x6848                                                                                          
006848   c046     MOVFF     0x46,0xfe6                                                                                      
00684a   ffe6                                                                                                               
00684c   efce     GOTO      0x639c                                                                                          
00684e   f031                                                                                                               
0063aa   0e01     MOVLW     0x1              print_line_ending(kLE_NORM);                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0063ac   efe8     GOTO      0x67d0                                                                                          
0063ae   f033                                                                                                               
00667e   efd5     GOTO      0x63aa                                                                                          
006680   f031                                                                                                               
0067d0   6ee6     MOVWF     0xe6,0x0                                                                                        
0067d2   ec4f     CALL      0x4c9e,0x0                                                                                      
0067d4   f026                                                                                                               
0067d6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0067d8   0012     RETURN    0x0                                                                                             
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /******************************************************************************  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Function:        void BlinkUSBStatus(void)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * PreCondition:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Input:           None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Output:          None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Side Effects:    None                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Overview:        BlinkUSBStatus turns on and off LEDs corresponding to        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  the USB device state.                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            * Note:            mLED macros can be found in io_cfg.h                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  usb_device_state is declared in usbmmap.c and is modified    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *                  in usbdrv.c, usbctrltrf.c, and usb9.c                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                            *****************************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           void BlinkUSBStatus(void)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static WORD LEDCount = 0;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             static unsigned char LEDState = 0;                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             if (                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006202   0105     MOVLB     0x5                USBDeviceState == DETACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006204   51bc     MOVF      0xbc,0x0,0x1                                                                                    
                                               ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006208   0e01     MOVLW     0x1                1u == USBSuspendControl                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00620a   6e46     MOVWF     0x46,0x0                                                                                        
00620c   5065     MOVF      0x65,0x0,0x0                                                                                    
00620e   0b02     ANDLW     0x2                                                                                             
006210   e001     BZ        0x6214                                                                                          
006212   0e01     MOVLW     0x1                                                                                             
006206   e008     BZ        0x6218           )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006214   5c46     SUBWF     0x46,0x0,0x0                                                                                    
006216   e117     BNZ       0x6246                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006218   d9d6     RCALL     0x65c6             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00621a   e10b     BNZ       0x6232             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00621c   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00621e   117d     IORWF     0x7d,0x0,0x1                                                                                    
006220   e111     BNZ       0x6244                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006222   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006224   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006226   6f7c     MOVWF     0x7c,0x1                                                                                        
006228   0e0f     MOVLW     0xf                                                                                             
00622a   6f7d     MOVWF     0x7d,0x1                                                                                        
00622c   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00622e   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006230   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006232   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006234   117d     IORWF     0x7d,0x0,0x1                                                                                    
006236   e152     BNZ       0x62dc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006238   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00623a   0ea0     MOVLW     0xa0                   LEDCount = 4000U;                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00623c   6f7c     MOVWF     0x7c,0x1                                                                                        
00623e   0e0f     MOVLW     0xf                                                                                             
006240   6f7d     MOVWF     0x7d,0x1                                                                                        
006242   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006244   0012     RETURN    0x0              else if (                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               USBDeviceState == ATTACHED_STATE                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006246   05bc     DECF      0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00624a   0e02     MOVLW     0x2                USBDeviceState == POWERED_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006248   e009     BZ        0x625c             ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00624c   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
00624e   e006     BZ        0x625c                                                                                          
006250   0e04     MOVLW     0x4                USBDeviceState == DEFAULT_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006252   5dbc     SUBWF     0xbc,0x0,0x1       ||                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006254   e003     BZ        0x625c                                                                                          
006256   0e10     MOVLW     0x10               USBDeviceState == ADDRESS_STATE                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006258   5dbc     SUBWF     0xbc,0x0,0x1     )                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00625a   e117     BNZ       0x628a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00625c   d9b4     RCALL     0x65c6             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00625e   e10b     BNZ       0x6276             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006260   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006262   117d     IORWF     0x7d,0x0,0x1                                                                                    
006264   e111     BNZ       0x6288                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006266   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006268   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00626a   6f7c     MOVWF     0x7c,0x1                                                                                        
00626c   0e4e     MOVLW     0x4e                                                                                            
00626e   6f7d     MOVWF     0x7d,0x1                                                                                        
006270   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006272   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006274   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006276   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006278   117d     IORWF     0x7d,0x0,0x1                                                                                    
00627a   e130     BNZ       0x62dc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00627c   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00627e   0e20     MOVLW     0x20                   LEDCount = 20000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006280   6f7c     MOVWF     0x7c,0x1                                                                                        
006282   0e4e     MOVLW     0x4e                                                                                            
006284   6f7d     MOVWF     0x7d,0x1                                                                                        
006286   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006288   0012     RETURN    0x0              else if (USBDeviceState == CONFIGURED_STATE)                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00628a   0e20     MOVLW     0x20                                                                                            
00628c   5dbc     SUBWF     0xbc,0x0,0x1                                                                                    
00628e   e126     BNZ       0x62dc                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006290   d99a     RCALL     0x65c6             LEDCount--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065c6   0101     MOVLB     0x1                                                                                             
0065c8   077c     DECF      0x7c,0x1,0x1                                                                                    
0065ca   0e00     MOVLW     0x0                                                                                             
0065cc   5b7d     SUBWFB    0x7d,0x1,0x1                                                                                    
006292   e107     BNZ       0x62a2             if (0u == LEDState)                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0065ce   517e     MOVF      0x7e,0x0,0x1                                                                                    
0065d0   0012     RETURN    0x0                                                                                             
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006294   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006296   117d     IORWF     0x7d,0x0,0x1                                                                                    
006298   e121     BNZ       0x62dc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00629a   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00629c   d9ce     RCALL     0x663a                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00629e   0e01     MOVLW     0x1                    LEDState = 1;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062a0   d015     BRA       0x62cc             else if (1u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062a2   057e     DECF      0x7e,0x0,0x1                                                                                    
0062a4   e107     BNZ       0x62b4                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062a6   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062a8   117d     IORWF     0x7d,0x0,0x1                                                                                    
0062aa   e118     BNZ       0x62dc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062ac   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062ae   d9c5     RCALL     0x663a                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062b0   0e02     MOVLW     0x2                    LEDState = 2;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062b2   d00c     BRA       0x62cc             else if (2u == LEDState)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062b4   0e02     MOVLW     0x2                                                                                             
0062b6   5d7e     SUBWF     0x7e,0x0,0x1                                                                                    
0062b8   e10b     BNZ       0x62d0                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062ba   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062bc   117d     IORWF     0x7d,0x0,0x1                                                                                    
0062be   e10e     BNZ       0x62dc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062c0   868c     BSF       0x8c,0x3,0x0           mLED_1_On();                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062c2   0ea0     MOVLW     0xa0                   LEDCount = 100000U;                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062c4   6f7c     MOVWF     0x7c,0x1                                                                                        
0062c6   0e86     MOVLW     0x86                                                                                            
0062c8   6f7d     MOVWF     0x7d,0x1                                                                                        
0062ca   0e03     MOVLW     0x3                    LEDState = 3;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062cc   6f7e     MOVWF     0x7e,0x1                                                                                        
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062ce   0012     RETURN    0x0                else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062d0   517c     MOVF      0x7c,0x0,0x1         if (0u == LEDCount)                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062d2   117d     IORWF     0x7d,0x0,0x1                                                                                    
0062d4   e103     BNZ       0x62dc                                                                                          
                                                 {                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062d6   968c     BCF       0x8c,0x3,0x0           mLED_1_Off();                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062d8   d9b0     RCALL     0x663a                 LEDCount = 10000U;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00663a   0e10     MOVLW     0x10                                                                                            
00663c   6f7c     MOVWF     0x7c,0x1                                                                                        
00663e   0e27     MOVLW     0x27                                                                                            
006640   6f7d     MOVWF     0x7d,0x1                                                                                        
006642   0012     RETURN    0x0                                                                                             
0062da   6b7e     CLRF      0x7e,0x1               LEDState = 0;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                 }                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062dc   0012     RETURN    0x0            }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnTRISPort[25] = {                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISA,     // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISB,     // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISC,     // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &TRISD,     // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           volatile near unsigned char * rom RPnLATPort[25] = {                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATA,      // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATB,      // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATC,      // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             &LATD,      // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           const char rom RPnBit[25] = {                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP0                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP1                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP2                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP3                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP4                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP5                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP6                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP7                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP8                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP9                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP10                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             0,          // RP11                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             1,          // RP12                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP13                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP14                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP15                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP16                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP17                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP18                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             2,          // RP19                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             3,          // RP20                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             4,          // RP21                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             5,          // RP22                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             6,          // RP23                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             7,          // RP24                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set LAT value for that pin                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062de   d877     RCALL     0x63ce         void SetPinLATFromRPn(char Pin, char State)                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062e0   d9a0     RCALL     0x6622           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062e2   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0062e4   d002     BRA       0x62ea                                                                                          
0062e6   3446     RLCF      0x46,0x0,0x0                                                                                    
0062e8   d003     BRA       0x62f0                                                                                          
0062ea   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0062ec   80d8     BSF       0xd8,0x0,0x0                                                                                    
0062ee   5446     SUBFWB    0x46,0x0,0x0                                                                                    
0062f0   e323     BNC       0x6338                                                                                          
006622   0efe     MOVLW     0xfe                                                                                            
006624   cfdb     MOVFF     0xfdb,0x46                                                                                      
006626   f046                                                                                                               
006628   0e19     MOVLW     0x19                                                                                            
00662a   6ee7     MOVWF     0xe7,0x0                                                                                        
00662c   1846     XORWF     0x46,0x0,0x0                                                                                    
00662e   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062f2   0efd     MOVLW     0xfd             if (State)                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062f4   50db     MOVF      0xdb,0x0,0x0                                                                                    
0062f6   e010     BZ        0x6318                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062f8   d90f     RCALL     0x6518             bitset(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0062fa   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
0062fc   68f7     SETF      0xf7,0x0                                                                                        
0062fe   d8ad     RCALL     0x645a                                                                                          
006300   e004     BZ        0x630a                                                                                          
006302   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006304   0bfe     ANDLW     0xfe                                                                                            
006306   0647     DECF      0x47,0x1,0x0                                                                                    
006308   e1fc     BNZ       0x6302                                                                                          
00630a   6e46     MOVWF     0x46,0x0                                                                                        
00630c   d905     RCALL     0x6518                                                                                          
00630e   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
006310   68f7     SETF      0xf7,0x0                                                                                        
006312   d9fe     RCALL     0x6710                                                                                          
006314   12ef     IORWF     0xef,0x1,0x0                                                                                    
006710   90d8     BCF       0xd8,0x0,0x0                                                                                    
006712   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006714   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006716   0e1d     MOVLW     0x1d                                                                                            
006718   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
00671a   0e8e     MOVLW     0x8e                                                                                            
00671c   ef49     GOTO      0x6492                                                                                          
00671e   f032                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006316   d010     BRA       0x6338           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006318   d8ff     RCALL     0x6518             bitclr(*RPnLATPort[Pin], RPnBit[Pin]);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00631a   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00631c   68f7     SETF      0xf7,0x0                                                                                        
00631e   d89d     RCALL     0x645a                                                                                          
006320   e004     BZ        0x632a                                                                                          
006322   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006324   0bfe     ANDLW     0xfe                                                                                            
006326   0647     DECF      0x47,0x1,0x0                                                                                    
006328   e1fc     BNZ       0x6322                                                                                          
00632a   1ce8     COMF      0xe8,0x0,0x0                                                                                    
00632c   6e46     MOVWF     0x46,0x0                                                                                        
00632e   d8f4     RCALL     0x6518                                                                                          
006330   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
006332   68f7     SETF      0xf7,0x0                                                                                        
006334   d9ed     RCALL     0x6710                                                                                          
006336   16ef     ANDWF     0xef,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006338   d04f     BRA       0x63d8         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           // From RPn (Pin) number, set TRIS value for that pin                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00633a   d849     RCALL     0x63ce         void SetPinTRISFromRPn(char Pin, char State)                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00633c   d972     RCALL     0x6622           if (Pin > 25)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00633e   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
006340   d002     BRA       0x6346                                                                                          
006342   3446     RLCF      0x46,0x0,0x0                                                                                    
006344   d003     BRA       0x634c                                                                                          
006346   50e7     MOVF      0xe7,0x0,0x0                                                                                    
006348   80d8     BSF       0xd8,0x0,0x0                                                                                    
00634a   5446     SUBFWB    0x46,0x0,0x0                                                                                    
00634c   e323     BNC       0x6394                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                               return;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
00634e   0efd     MOVLW     0xfd             if (OUTPUT_PIN == State)                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006350   50db     MOVF      0xdb,0x0,0x0                                                                                    
006352   e111     BNZ       0x6376                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006354   d8e1     RCALL     0x6518             bitclr (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006356   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
006358   68f7     SETF      0xf7,0x0                                                                                        
00635a   d87f     RCALL     0x645a                                                                                          
00635c   e004     BZ        0x6366                                                                                          
00635e   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006360   0bfe     ANDLW     0xfe                                                                                            
006362   0647     DECF      0x47,0x1,0x0                                                                                    
006364   e1fc     BNZ       0x635e                                                                                          
006366   1ce8     COMF      0xe8,0x0,0x0                                                                                    
006368   6e46     MOVWF     0x46,0x0                                                                                        
00636a   d8d6     RCALL     0x6518                                                                                          
00636c   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00636e   68f7     SETF      0xf7,0x0                                                                                        
006370   d9d7     RCALL     0x6720                                                                                          
006372   16ef     ANDWF     0xef,0x1,0x0                                                                                    
006720   90d8     BCF       0xd8,0x0,0x0                                                                                    
006722   36f6     RLCF      0xf6,0x1,0x0                                                                                    
006724   36f7     RLCF      0xf7,0x1,0x0                                                                                    
006726   0eeb     MOVLW     0xeb                                                                                            
006728   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
00672a   0e8d     MOVLW     0x8d                                                                                            
00672c   ef49     GOTO      0x6492                                                                                          
00672e   f032                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006374   d00f     BRA       0x6394           else                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006376   d8d0     RCALL     0x6518             bitset (*RPnTRISPort[Pin], RPnBit[Pin]);                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006378   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00637a   68f7     SETF      0xf7,0x0                                                                                        
00637c   d86e     RCALL     0x645a                                                                                          
00637e   e004     BZ        0x6388                                                                                          
006380   46e8     RLNCF     0xe8,0x1,0x0                                                                                    
006382   0bfe     ANDLW     0xfe                                                                                            
006384   0647     DECF      0x47,0x1,0x0                                                                                    
006386   e1fc     BNZ       0x6380                                                                                          
006388   6e46     MOVWF     0x46,0x0                                                                                        
00638a   d8c6     RCALL     0x6518                                                                                          
00638c   bef6     BTFSC     0xf6,0x7,0x0                                                                                    
00638e   68f7     SETF      0xf7,0x0                                                                                        
006390   d9c7     RCALL     0x6720                                                                                          
006392   12ef     IORWF     0xef,0x1,0x0                                                                                    
00645a   0e4f     MOVLW     0x4f                                                                                            
00645c   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
00645e   0e8e     MOVLW     0x8e                                                                                            
006460   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
006462   0008     TBLRD                                                                                                     
006464   50f5     MOVF      0xf5,0x0,0x0                                                                                    
006466   6e47     MOVWF     0x47,0x0                                                                                        
006468   0e01     MOVLW     0x1                                                                                             
00646a   5247     MOVF      0x47,0x1,0x0                                                                                    
00646c   0012     RETURN    0x0                                                                                             
006492   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
006494   0009     TBLRDPOSTINC                                                                                              
006496   cff5     MOVFF     0xff5,0xfe9                                                                                     
006498   ffe9                                                                                                               
00649a   0008     TBLRD                                                                                                     
00649c   cff5     MOVFF     0xff5,0xfea                                                                                     
00649e   ffea                                                                                                               
0064a0   5046     MOVF      0x46,0x0,0x0                                                                                    
0064a2   0012     RETURN    0x0                                                                                             
006518   0efe     MOVLW     0xfe                                                                                            
00651a   cfdb     MOVFF     0xfdb,0xff6                                                                                     
00651c   fff6                                                                                                               
00651e   6af7     CLRF      0xf7,0x0                                                                                        
006520   0012     RETURN    0x0                                                                                             
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
006394   d021     BRA       0x63d8         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
0063d8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0063da   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0063dc   ffd9                                                                                                               
0063de   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /** EOF user.c ***************************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\UBW.c
                                           /********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            FileName:      usb_descriptors.c                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Dependencies:  See INCLUDES section                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Processor:     PIC18 or PIC24 USB Microcontrollers                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Hardware:      The code is natively intended to be used on the following        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           hardware platforms: PICDEM FS USB Demo Board,                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           PIC18F87J50 FS USB Plug-In Module, or                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           Explorer 16 + PIC24 USB PIM.  The firmware may be                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           modified for use on other USB platforms by editing the           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                           HardwareProfile.h file.                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Complier:      Microchip C18 (for PIC18) or C30 (for PIC24)                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Company:       Microchip Technology, Inc.                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Software License Agreement:                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            The software supplied herewith by Microchip Technology Incorporated             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            (the Company) for its PIC Microcontroller is intended and                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            supplied to you, the Companys customer, for use solely and                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            exclusively on Microchip PIC Microcontroller products. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            software is owned by the Company and/or its supplier, and is                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            protected under applicable copyright laws. All rights are reserved.             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            Any use in violation of the foregoing restrictions may subject the              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            user to criminal sanctions under applicable laws, as well as to                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            civil liability for the breach of the terms and conditions of this              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            license.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           *********************************************************************            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -usb_descriptors.c-                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Filling in the descriptor values in the usb_descriptors.c file:                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Device Descriptors]                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The device descriptor is defined as a USB_DEVICE_DESCRIPTOR type.                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This type is defined in usb_ch9.h  Each entry into this structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           needs to be the correct length for the data type of the entry.                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Configuration Descriptors]                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration descriptor was changed in v2.x from a structure                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to a BYTE array.  Given that the configuration is now a byte array               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each byte of multi-byte fields must be listed individually.  This                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           means that for fields like the total size of the configuration where             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the field is a 16-bit value "64,0," is the correct entry for a                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           configuration that is only 64 bytes long and not "64," which is one              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           too few bytes.                                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The configuration attribute must always have the _DEFAULT                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           definition at the minimum. Additional options can be ORed                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           to the _DEFAULT attribute. Available options are _SELF and _RWU.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           These definitions are defined in the usb_device.h file. The                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _SELF tells the USB host that this device is self-powered. The                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _RWU tells the USB host that this device supports Remote Wakeup.                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           [Endpoint Descriptors]                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Like the configuration descriptor, the endpoint descriptors were                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           changed in v2.x of the stack from a structure to a BYTE array.  As               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           endpoint descriptors also has a field that are multi-byte entities,              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           please be sure to specify both bytes of the field.  For example, for             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint size an endpoint that is 64 bytes needs to have the size            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined as "64,0," instead of "64,"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Take the following example:                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               // Endpoint Descriptor //                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x07,                       //the size of this descriptor //                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               USB_DESCRIPTOR_ENDPOINT,    //Endpoint Descriptor                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _EP02_IN,                   //EndpointAddress                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               _INT,                       //Attributes                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x08,0x00,                  //size (note: 2 bytes)                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               0x02,                       //Interval                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The first two parameters are self-explanatory. They specify the                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length of this endpoint descriptor (7) and the descriptor type.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the endpoint, the definitions are                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           defined in usb_device.h and has the following naming                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           convention:                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _EP<##>_<dir>                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           where ## is the endpoint number and dir is the direction of                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           transfer. The dir has the value of either 'OUT' or 'IN'.                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next parameter identifies the type of the endpoint. Available                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           options are _BULK, _INT, _ISO, and _CTRL. The _CTRL is not                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           typically used because the default control transfer endpoint is                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           not defined in the USB descriptors. When _ISO option is used,                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           addition options can be ORed to _ISO. Example:                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           _ISO|_AD|_FE                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           This describes the endpoint as an isochronous pipe with adaptive                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           and feedback attributes. See usb_device.h and the USB                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           specification for details. The next parameter defines the size of                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the endpoint. The last parameter in the polling interval.                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Adding a USB String                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A string descriptor array should have the following format:                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[size];}sdxxx={                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sdxxx),DSC_STR,<text>};                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above structure provides a means for the C compiler to                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           calculate the length of string descriptor sdxxx, where xxx is the                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           index number. The first two bytes of the descriptor are descriptor               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           length and type. The rest <text> are string texts which must be                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           in the unicode format. The unicode format is achieved by declaring               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           each character as a word type. The whole text string is declared                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           as a word array with the number of characters equals to <size>.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           <size> has to be manually counted and entered into the array                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           declaration. Let's study this through an example:                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           if the string is "USB" , then the string descriptor should be:                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           (Using index 02)                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[3];}sd002={                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           sizeof(sd002),DSC_STR,'U','S','B'};                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           A USB project may have multiple strings and the firmware supports                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           the management of multiple strings through a look-up table.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table is defined as:                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The above declaration has 3 strings, sd000, sd001, and sd002.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           Strings can be removed or added. sd000 is a specialized string                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. It defines the language code, usually this is                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           US English (0x0409). The index of the string must match the index                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           position of the USB_SD_Ptr array, &sd000 must be in position                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           USB_SD_Ptr[0], &sd001 must be in position USB_SD_Ptr[1] and so on.               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table USB_SD_Ptr is used by the get string handler                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           function.                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           -------------------------------------------------------------------              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The look-up table scheme also applies to the configuration                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor. A USB device may have multiple configuration                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptors, i.e. CFG01, CFG02, etc. To add a configuration                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           descriptor, user must implement a structure similar to CFG01.                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           The next step is to add the configuration descriptor name, i.e.                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           cfg01, cfg02,.., to the look-up table USB_CD_Ptr. USB_CD_Ptr[0]                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           is a dummy place holder since configuration 0 is the un-configured               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           state according to the definition in the USB specification.                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ********************************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*********************************************************************           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Descriptor specific type definitions are defined in:                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_device.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * Configuration options are defined in:                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            * usb_config.h                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                            ********************************************************************/           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #ifndef __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #define __USB_DESCRIPTORS_C                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** INCLUDES *******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #include "./USB/usb_function_cdc.h"                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** CONSTANTS ******************************************************/            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #if defined(__18CXX)                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma romdata                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Device Descriptor */                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM USB_DEVICE_DESCRIPTOR device_dsc =                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x12,                   // Size of this descriptor in bytes                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_DEVICE,  // DEVICE descriptor type                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0200,                 // USB Spec Release Number in BCD format               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DEVICE,             // Class Code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                   // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_EP0_BUFF_SIZE,      // Max packet size for EP0, see usb_config.h           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x04D8,                 // Vendor ID                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0xFD92,                 // Product ID: UBW based serial port device            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x0182,                 // Device release number in BCD format                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01,                   // Manufacturer string index                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                   // Product string index                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x03,                   // Device serial number string index                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x01                    // Number of possible configurations                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /* Configuration 1 Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE configDescriptor1[] = {                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Configuration Descriptor */                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x09,//sizeof(USB_CFG_DSC),    // Size of this descriptor in bytes             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_CONFIGURATION,  // CONFIGURATION descriptor type                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             67,0,                   // Total length of data for this cfg                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                      // Number of interfaces in this cfg                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Index value of this configuration                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Configuration string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _DEFAULT | _SELF,       // Attributes, see usb_device.h                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             50,                     // Max power consumption (2X mA)                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface Number                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Alternate Setting Number                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                      // Number of endpoints in this interface               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             COMM_INTF,              // Class code                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             ABSTRACT_CONTROL_MODEL, // Subclass code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             V25TER,                 // Protocol code                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                      // Interface string index                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* CDC Class-Specific Descriptors */                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_HEADER_FN_DSC),                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_HEADER,                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x10,0x01,                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_ACM_FN_DSC),                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_ACM,                                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_CDC_ACM_FN_DSC_VAL,                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_UNION_FN_DSC),                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_UNION,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_COMM_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(USB_CDC_CALL_MGT_FN_DSC),                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CS_INTERFACE,                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DSC_FN_CALL_MGT,                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             CDC_DATA_INTF_ID,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP02_IN,_INT,CDC_INT_EP_SIZE,0x02,                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP01_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _INTERRUPT,                 // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x08,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x02,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Interface Descriptor */                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             9,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_INTERFACE,   // INTERFACE descriptor type                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             1,                          // Interface Number                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Alternate Setting Number                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             2,                          // Number of endpoints in this interface           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             DATA_INTF,                  // Class code                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Subclass code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             NO_PROTOCOL,                // Protocol code                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0,                          // Interface string index                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_OUT,_BULK,CDC_BULK_OUT_EP_SIZE,0x00,         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_OUT,                  // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             /* Endpoint Descriptor */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             //sizeof(USB_EP_DSC),DSC_EP,_EP03_IN,_BULK,CDC_BULK_IN_EP_SIZE,0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x07,/*sizeof(USB_EP_DSC)*/                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             USB_DESCRIPTOR_ENDPOINT,    // Endpoint Descriptor                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _EP02_IN,                   // EndpointAddress                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             _BULK,                      // Attributes                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x40,0x00,                  // size                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             0x00,                       // Interval                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Language code string descriptor                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[1];}sd000 = {                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd000),USB_DESCRIPTOR_STRING,{0x0409}                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Manufacturer string descriptor                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[11];}sd001 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd001),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'S','c','h','m','a','l','z','H','a','u','s'}                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Product string descriptor                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // As of EBB firmware v2.5.4 this is now stored in ram, and we set it up here to D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // have enough space to put the 'name' (set via the 'NS' command) on the end     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[27];}sd002 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd002),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {'E','i','B','o','t','B','o','a','r','d',',',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '} D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           struct{BYTE bLength;BYTE bDscType;WORD string[16];}sd003 = {                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             sizeof(sd003),USB_DESCRIPTOR_STRING,                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '}              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of configuration descriptors                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           ROM BYTE *ROM USB_CD_Ptr[] = {                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                             (ROM BYTE *ROM)&configDescriptor1                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           // Array of string descriptors                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           BYTE * USB_SD_Ptr[USB_NUM_STRING_DESCRIPTORS] = {                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd000,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd001,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd002,                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                               (BYTE *)&sd003                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           };                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #pragma code                                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           #endif                                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /** EOF usb_descriptors.c ****************************************************/  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\usb_descriptors.c
                                           /*                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * File:   ebb_print.c                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Author: Brian Schmalz (brian@schmalzhaus.com)                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Created on October 2, 2023, 7:41 PM                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * The functions in this file are meant to replace (partially) the built-in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * printf() functionality in MAPLB C18. Even simple printf() calls were using    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up significant stack space. In an effort to maximize the number of possible   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * FIFO elements, we freed up as much RAM as possible, and put the stack in      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * GPR14, which is not an entire bank since there are some SFRs at the end of    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * that bank. So the stack only goes from 0xE00 to 0xEBF. With printf() taking   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * up lots of that space, and because the new higher-order move instructions     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * need more stack space to operate (mainly to pass lots of paramters around)    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * we were seeing stack overflows in versions around v3.0.0-a18. This re-written D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * print functionality is an attempt at fixing that problem.                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            *                                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * We do not need any floating point support.                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * All of our printing goes to the PC via the USB port.                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * Virtually all of our printing can be broken down into the following types:    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - Simple strings with no variables                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned byte                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 16-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A signed or unsigned 32-bit integer                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A byte as hex                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            * - A 16-bit integer as hex                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                            */                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18cxxx.h>                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "UBW.h"                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include "ebb_print.h"                                                           D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Maximum number of output characters, plus sign, plus trailing 0x00            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // hex needs FFFFFFFF = 9                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // uint needs 4294967296 = 11                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // int needs -2147483649 = 12                                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #define EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS   12                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // String where we build up our output before printing it out                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static char gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS];                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Current position within gOutputStr                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 gPos;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           static UINT8 i;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           /* Print a simple string */                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008628   d8dd     RCALL     0x87e4         void ebb_print(far rom char * print_str)                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00862a   d8d0     RCALL     0x87cc           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00862c   e00d     BZ        0x8648                                                                                          
008646   d7f1     BRA       0x862a                                                                                          
0087cc   0efc     MOVLW     0xfc                                                                                            
0087ce   cfdb     MOVFF     0xfdb,0xff6                                                                                     
0087d0   fff6                                                                                                               
0087d2   0efd     MOVLW     0xfd                                                                                            
0087d4   cfdb     MOVFF     0xfdb,0xff7                                                                                     
0087d6   fff7                                                                                                               
0087d8   0efe     MOVLW     0xfe                                                                                            
0087da   cfdb     MOVFF     0xfdb,0xff8                                                                                     
0087dc   fff8                                                                                                               
0087de   0008     TBLRD                                                                                                     
0087e0   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0087e2   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00862e   d8ce     RCALL     0x87cc             ebb_putc((char)*print_str);                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008630   d8f3     RCALL     0x8818                                                                                          
008632   50d9     MOVF      0xd9,0x0,0x0       print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008634   0ffc     ADDLW     0xfc                                                                                            
008636   6ee9     MOVWF     0xe9,0x0                                                                                        
008638   0eff     MOVLW     0xff                                                                                            
00863a   20da     ADDWFC    0xda,0x0,0x0                                                                                    
00863c   6eea     MOVWF     0xea,0x0                                                                                        
00863e   2aee     INCF      0xee,0x1,0x0                                                                                    
008640   0e00     MOVLW     0x0                                                                                             
008642   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
008644   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008648   d0f7     BRA       0x8838         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00864a   d8cc     RCALL     0x87e4         void ebb_print_ram(char * print_str)                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00864c   d8d6     RCALL     0x87fa           while (*print_str != 0x00)                                                     D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00864e   e008     BZ        0x8660                                                                                          
00865e   d7f6     BRA       0x864c                                                                                          
0087fa   0efd     MOVLW     0xfd                                                                                            
0087fc   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0087fe   ffe9                                                                                                               
008800   0efe     MOVLW     0xfe                                                                                            
008802   cfdb     MOVFF     0xfdb,0xfea                                                                                     
008804   ffea                                                                                                               
008806   50ef     MOVF      0xef,0x0,0x0                                                                                    
008808   0012     RETURN    0x0                                                                                             
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008650   d8d4     RCALL     0x87fa             ebb_putc(*print_str);                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008652   d8e2     RCALL     0x8818                                                                                          
008654   0efd     MOVLW     0xfd               print_str++;                                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008656   2adb     INCF      0xdb,0x1,0x0                                                                                    
008658   0efe     MOVLW     0xfe                                                                                            
00865a   e3f8     BNC       0x864c                                                                                          
00865c   2adb     INCF      0xdb,0x1,0x0                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008660   d0eb     BRA       0x8838         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a hex value, zero-padded to <length> digits               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008662   d8ee     RCALL     0x8840         void ebb_print_hex(UINT32 data, UINT8 length)                                    D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008840   dfd1     RCALL     0x87e4                                                                                          
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008842   0101     MOVLB     0x1              gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008844   6bfb     CLRF      0xfb,0x1                                                                                        
008846   0e0a     MOVLW     0xa              gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008848   6ffc     MOVWF     0xfc,0x1                                                                                        
00884a   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008664   0e0f     MOVLW     0xf                i = data & 0x0000000F;                                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008666   6e46     MOVWF     0x46,0x0                                                                                        
008668   6a47     CLRF      0x47,0x0                                                                                        
00866a   6a48     CLRF      0x48,0x0                                                                                        
00866c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00866e   d8bf     RCALL     0x87ee                                                                                          
008670   50ee     MOVF      0xee,0x0,0x0                                                                                    
008672   1646     ANDWF     0x46,0x1,0x0                                                                                    
008674   50ee     MOVF      0xee,0x0,0x0                                                                                    
008676   1647     ANDWF     0x47,0x1,0x0                                                                                    
008678   50ee     MOVF      0xee,0x0,0x0                                                                                    
00867a   1648     ANDWF     0x48,0x1,0x0                                                                                    
00867c   50ee     MOVF      0xee,0x0,0x0                                                                                    
00867e   c046     MOVFF     0x46,0x1fd                                                                                      
008680   f1fd                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008682   5046     MOVF      0x46,0x0,0x0       if (i <= 0x09u)                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008684   0809     SUBLW     0x9                                                                                             
008686   e302     BNC       0x868c                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008688   0e30     MOVLW     0x30                 gOutputStr[gPos] = i + '0';                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00868a   d001     BRA       0x868e             else                                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00868c   0e37     MOVLW     0x37                 gOutputStr[gPos] = i + ('A' - 0x0A);                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00868e   25fd     ADDWF     0xfd,0x0,0x1                                                                                    
008690   d8c8     RCALL     0x8822                                                                                          
008822   6ee6     MOVWF     0xe6,0x0                                                                                        
008824   51fc     MOVF      0xfc,0x0,0x1                                                                                    
008826   6aea     CLRF      0xea,0x0                                                                                        
008828   0ff0     ADDLW     0xf0                                                                                            
00882a   6ee9     MOVWF     0xe9,0x0                                                                                        
00882c   0e01     MOVLW     0x1                                                                                             
00882e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
008830   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008832   50e7     MOVF      0xe7,0x0,0x0                                                                                    
008834   6eef     MOVWF     0xef,0x0                                                                                        
008836   0012     RETURN    0x0                                                                                             
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008692   d873     RCALL     0x877a             data = data >> 4;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008694   0e04     MOVLW     0x4                                                                                             
008696   90d8     BCF       0xd8,0x0,0x0                                                                                    
008698   3249     RRCF      0x49,0x1,0x0                                                                                    
00869a   3248     RRCF      0x48,0x1,0x0                                                                                    
00869c   3247     RRCF      0x47,0x1,0x0                                                                                    
00869e   3246     RRCF      0x46,0x1,0x0                                                                                    
0086a0   06e8     DECF      0xe8,0x1,0x0                                                                                    
0086a2   e1f9     BNZ       0x8696                                                                                          
0086a4   0efb     MOVLW     0xfb                                                                                            
0086a6   c046     MOVFF     0x46,0xfdb                                                                                      
0086a8   ffdb                                                                                                               
0086aa   0efc     MOVLW     0xfc                                                                                            
0086ac   c047     MOVFF     0x47,0xfdb                                                                                      
0086ae   ffdb                                                                                                               
0086b0   0efd     MOVLW     0xfd                                                                                            
0086b2   c048     MOVFF     0x48,0xfdb                                                                                      
0086b4   ffdb                                                                                                               
0086b6   0efe     MOVLW     0xfe                                                                                            
0086b8   c049     MOVFF     0x49,0xfdb                                                                                      
0086ba   ffdb                                                                                                               
0086bc   0101     MOVLB     0x1                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086be   07fc     DECF      0xfc,0x1,0x1                                                                                    
0086c0   0efa     MOVLW     0xfa               if (length)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086c2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0086c4   e002     BZ        0x86ca                                                                                          
                                               {                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086c6   0efa     MOVLW     0xfa                 length--;                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086c8   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086ca   d8c0     RCALL     0x884c           while (data != 0u || length != 0u);                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086cc   e1cb     BNZ       0x8664                                                                                          
0086ce   0efa     MOVLW     0xfa                                                                                            
0086d0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0086d2   e1c8     BNZ       0x8664                                                                                          
00884c   df96     RCALL     0x877a                                                                                          
00884e   5046     MOVF      0x46,0x0,0x0                                                                                    
008850   1047     IORWF     0x47,0x0,0x0                                                                                    
008852   1048     IORWF     0x48,0x0,0x0                                                                                    
008854   1049     IORWF     0x49,0x0,0x0                                                                                    
008856   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086d4   d06c     BRA       0x87ae           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0087ae   2bfc     INCF      0xfc,0x1,0x1                                                                                    
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0087b0   51fc     MOVF      0xfc,0x0,0x1     ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0087b2   6a47     CLRF      0x47,0x0                                                                                        
0087b4   0ff0     ADDLW     0xf0                                                                                            
0087b6   6e46     MOVWF     0x46,0x0                                                                                        
0087b8   0e01     MOVLW     0x1                                                                                             
0087ba   2247     ADDWFC    0x47,0x1,0x0                                                                                    
0087bc   c046     MOVFF     0x46,0xfe6                                                                                      
0087be   ffe6                                                                                                               
0087c0   c047     MOVFF     0x47,0xfe6                                                                                      
0087c2   ffe6                                                                                                               
0087c4   df42     RCALL     0x864a                                                                                          
0087c6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0087c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0087ca   d036     BRA       0x8838         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008838   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00883a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00883c   ffd9                                                                                                               
00883e   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as an unsigned integer                                       D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086d6   d8b4     RCALL     0x8840         void ebb_print_uint(UINT32 data)                                                 D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gOutputStr[EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 1] = 0x00;  // Always add string terminator D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             gPos = (EBB_PRINT_MAX_OUTPUT_LENGTH_CHARS - 2);                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             do                                                                             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086d8   d85d     RCALL     0x8794             i = data % 10;                                                               D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086da   d897     RCALL     0x880a                                                                                          
0086dc   c034     MOVFF     0x34,0x1fd                                                                                      
0086de   f1fd                                                                                                               
00880a   0e0a     MOVLW     0xa                                                                                             
00880c   6e3d     MOVWF     0x3d,0x0                                                                                        
00880e   6a3e     CLRF      0x3e,0x0                                                                                        
008810   6a3f     CLRF      0x3f,0x0                                                                                        
008812   6a40     CLRF      0x40,0x0                                                                                        
008814   ef69     GOTO      0x90d2                                                                                          
008816   f048                                                                                                               
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086e0   0e30     MOVLW     0x30               gOutputStr[gPos] = i + '0';                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086e2   0101     MOVLB     0x1                                                                                             
0086e4   2434     ADDWF     0x34,0x0,0x0                                                                                    
0086e6   d89d     RCALL     0x8822                                                                                          
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086e8   d855     RCALL     0x8794             data = data / 10;                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0086ea   d88f     RCALL     0x880a                                                                                          
0086ec   0efb     MOVLW     0xfb                                                                                            
0086ee   c038     MOVFF     0x38,0xfdb                                                                                      
0086f0   ffdb                                                                                                               
0086f2   0efc     MOVLW     0xfc                                                                                            
0086f4   c039     MOVFF     0x39,0xfdb                                                                                      
0086f6   ffdb                                                                                                               
0086f8   0efd     MOVLW     0xfd                                                                                            
0086fa   c03a     MOVFF     0x3a,0xfdb                                                                                      
0086fc   ffdb                                                                                                               
0086fe   0efe     MOVLW     0xfe                                                                                            
008700   c03b     MOVFF     0x3b,0xfdb                                                                                      
008702   ffdb                                                                                                               
008794   0efb     MOVLW     0xfb                                                                                            
008796   cfdb     MOVFF     0xfdb,0x38                                                                                      
008798   f038                                                                                                               
00879a   0efc     MOVLW     0xfc                                                                                            
00879c   cfdb     MOVFF     0xfdb,0x39                                                                                      
00879e   f039                                                                                                               
0087a0   0efd     MOVLW     0xfd                                                                                            
0087a2   cfdb     MOVFF     0xfdb,0x3a                                                                                      
0087a4   f03a                                                                                                               
0087a6   0efe     MOVLW     0xfe                                                                                            
0087a8   cfdb     MOVFF     0xfdb,0x3b                                                                                      
0087aa   f03b                                                                                                               
0087ac   0012     RETURN    0x0                                                                                             
008704   0101     MOVLB     0x1                gPos--;                                                                      D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008706   07fc     DECF      0xfc,0x1,0x1                                                                                    
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008708   d8a1     RCALL     0x884c           while (data != 0u);                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00870a   e1e6     BNZ       0x86d8                                                                                          
00877a   0efb     MOVLW     0xfb                                                                                            
00877c   cfdb     MOVFF     0xfdb,0x46                                                                                      
00877e   f046                                                                                                               
008780   0efc     MOVLW     0xfc                                                                                            
008782   cfdb     MOVFF     0xfdb,0x47                                                                                      
008784   f047                                                                                                               
008786   0efd     MOVLW     0xfd                                                                                            
008788   cfdb     MOVFF     0xfdb,0x48                                                                                      
00878a   f048                                                                                                               
00878c   0efe     MOVLW     0xfe                                                                                            
00878e   cfdb     MOVFF     0xfdb,0x49                                                                                      
008790   f049                                                                                                               
008792   0012     RETURN    0x0                                                                                             
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00870c   d050     BRA       0x87ae           gPos++;                                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // gPos now points to the beginning of where we need to print from             D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             ebb_print_ram(&gOutputStr[gPos]);                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           // Print out <data> as a signed integer                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00870e   d86a     RCALL     0x87e4         void ebb_print_int(INT32 data)                                                   D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
0087e4   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
0087e6   ffe6                                                                                                               
0087e8   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0087ea   ffd9                                                                                                               
0087ec   0012     RETURN    0x0                                                                                             
                                           {                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                             // Handle negative sign                                                        D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008710   50e1     MOVF      0xe1,0x0,0x0     if (data < 0)                                                                  D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008712   d86d     RCALL     0x87ee                                                                                          
008714   90d8     BCF       0xd8,0x0,0x0                                                                                    
008716   0e03     MOVLW     0x3                                                                                             
008718   50eb     MOVF      0xeb,0x0,0x0                                                                                    
00871a   0a00     XORLW     0x0                                                                                             
00871c   e608     BN        0x872e                                                                                          
00871e   0e00     MOVLW     0x0                                                                                             
008720   5cee     SUBWF     0xee,0x0,0x0                                                                                    
008722   0e00     MOVLW     0x0                                                                                             
008724   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
008726   0e00     MOVLW     0x0                                                                                             
008728   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
00872a   0e00     MOVLW     0x0                                                                                             
00872c   58ee     SUBWFB    0xee,0x0,0x0                                                                                    
00872e   e215     BC        0x875a                                                                                          
                                             {                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008730   0e2d     MOVLW     0x2d               ebb_print_char('-');                                                         D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008732   d872     RCALL     0x8818                                                                                          
008818   6ee6     MOVWF     0xe6,0x0                                                                                        
00881a   eccb     CALL      0x4596,0x0                                                                                      
00881c   f022                                                                                                               
00881e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008820   0012     RETURN    0x0                                                                                             
008734   d82f     RCALL     0x8794             data = -data;                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
008736   683d     SETF      0x3d,0x0                                                                                        
008738   683e     SETF      0x3e,0x0                                                                                        
00873a   683f     SETF      0x3f,0x0                                                                                        
00873c   6840     SETF      0x40,0x0                                                                                        
00873e   ec05     CALL      0x900a,0x0                                                                                      
008740   f048                                                                                                               
008742   0efb     MOVLW     0xfb                                                                                            
008744   c034     MOVFF     0x34,0xfdb                                                                                      
008746   ffdb                                                                                                               
008748   0efc     MOVLW     0xfc                                                                                            
00874a   c035     MOVFF     0x35,0xfdb                                                                                      
00874c   ffdb                                                                                                               
00874e   0efd     MOVLW     0xfd                                                                                            
008750   c036     MOVFF     0x36,0xfdb                                                                                      
008752   ffdb                                                                                                               
008754   0efe     MOVLW     0xfe                                                                                            
008756   c037     MOVFF     0x37,0xfdb                                                                                      
008758   ffdb                                                                                                               
                                             }                                                                              D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                                                                                                            D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00875a   50d9     MOVF      0xd9,0x0,0x0     ebb_print_uint(data);                                                          D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
00875c   d848     RCALL     0x87ee                                                                                          
00875e   cfee     MOVFF     0xfee,0xfe6                                                                                     
008760   ffe6                                                                                                               
008762   cfee     MOVFF     0xfee,0xfe6                                                                                     
008764   ffe6                                                                                                               
008766   cfee     MOVFF     0xfee,0xfe6                                                                                     
008768   ffe6                                                                                                               
00876a   cfef     MOVFF     0xfef,0xfe6                                                                                     
00876c   ffe6                                                                                                               
00876e   dfb3     RCALL     0x86d6                                                                                          
008770   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008772   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008774   52e5     MOVF      0xe5,0x1,0x0                                                                                    
008776   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0087ee   0ffb     ADDLW     0xfb                                                                                            
0087f0   6ee9     MOVWF     0xe9,0x0                                                                                        
0087f2   0eff     MOVLW     0xff                                                                                            
0087f4   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0087f6   6eea     MOVWF     0xea,0x0                                                                                        
0087f8   0012     RETURN    0x0                                                                                             
008778   d05f     BRA       0x8838         }                                                                                D:\Projects\EggBot1-GH\EBB_firmware\app.X\source\ebb_print.c
                                           #include <p18F46J50.inc>                                                         source\squareroot.s
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                           ;  MPASM PIC18F46J50 processor include                                           C:\MCC18\mpasm\p18F46J50.inc
                                           ;                                                                                C:\MCC18\mpasm\p18F46J50.inc
                                           ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved             C:\MCC18\mpasm\p18F46J50.inc
                                           ;==========================================================================      C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            C:\MCC18\mpasm\p18F46J50.inc
                                                   LIST                                                                     C:\MCC18\mpasm\p18F46J50.inc
                                                                                                                            source\squareroot.s
                                           ; When assembly code is placed in a psect, it can be manipulated as a            source\squareroot.s
                                           ; whole by the linker and placed in memory.                                      source\squareroot.s
                                           ;                                                                                source\squareroot.s
                                           ; In this example, barfunc is the program section (psect) name, 'local' means    source\squareroot.s
                                           ; that the section will not be combined with other sections even if they have    source\squareroot.s
                                           ; the same name.  class=CODE means the barfunc must go in the CODE container.    source\squareroot.s
                                           ; PIC18 should have a delta (addressible unit size) of 1 (default) since they    source\squareroot.s
                                           ; are byte addressible.  PIC10/12/16 have a delta of 2 since they are word       source\squareroot.s
                                           ; addressible.  PIC18 should have a reloc (alignment) flag of 2 for any          source\squareroot.s
                                           ; psect which contains executable code.  PIC10/12/16 can use the default         source\squareroot.s
                                           ; reloc value of 1.  Use one of the psects below for the device you use:         source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; psect   barfunc,local,class=CODE,delta=2 ; PIC10/12/16                         source\squareroot.s
                                           ;;;psect   barfunc,local,class=CODE,reloc=2 ; PIC18                              source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;global _bar ; extern of bar function goes in the C source file                source\squareroot.s
                                           ;;;_bar:                                                                         source\squareroot.s
                                           ;;;    movf PORTA,w    ; here we use a symbol defined via xc.inc                 source\squareroot.s
                                           ;;;    return                                                                    source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ;;;    RES0, RES1                                                                source\squareroot.s
                                           ;;;EXTERN Sqrt                                                                   source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;W equ 0 ; Standard constants                                                  source\squareroot.s
                                           ;;;F equ 1                                                                       source\squareroot.s
                                           ;;;a equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;R_Vctr CODE 0x0000                                                            source\squareroot.s
                                           ;;;goto Main                                                                     source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;Software License Agreement                                                      source\squareroot.s
                                           ;The software supplied herewith by Microchip Technology Incorporated             source\squareroot.s
                                           ;(the ?Company?) for its PICmicro Microcontroller is intended and               source\squareroot.s
                                           ;supplied to you, the Company?s customer, for use solely and                     source\squareroot.s
                                           ;exclusively on Microchip PICmicro Microcontroller products. The                 source\squareroot.s
                                           ;software is owned by the Company and/or its supplier, and is                    source\squareroot.s
                                           ;protected under applicable copyright laws. All rights are reserved.             source\squareroot.s
                                           ;Any use in violation of the foregoing restrictions may subject the              source\squareroot.s
                                           ;user to criminal sanctions under applicable laws, as well as to civil           source\squareroot.s
                                           ;liability for the breach of the terms and conditions of this license.           source\squareroot.s
                                           ;THIS SOFTWARE IS PROVIDED IN AN ?AS IS? CONDITION. NO WARRANTIES,               source\squareroot.s
                                           ;WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO,           source\squareroot.s
                                           ;IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR              source\squareroot.s
                                           ;PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, IN ANY                   source\squareroot.s
                                           ;CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR CONSEQUENTIAL               source\squareroot.s
                                           ;DAMAGES, FOR ANY REASON WHATSOEVER.                                             source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; Calling Routine                                                                source\squareroot.s
                                           ;;;SRoot CODE                                                                    source\squareroot.s
                                           ;;;Main                                                                          source\squareroot.s
                                           ;;;movlw 0xCF                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x48                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xCF48)                                                      source\squareroot.s
                                           ; RES0 should now contain 0xE6                                                   source\squareroot.s
                                           ;;;movlw 0xE0                                                                    source\squareroot.s
                                           ;;;movwf ARGA3, a                                                                source\squareroot.s
                                           ;;;movlw 0x12                                                                    source\squareroot.s
                                           ;;;movwf ARGA2, a                                                                source\squareroot.s
                                           ;;;movlw 0xA1                                                                    source\squareroot.s
                                           ;;;movwf ARGA1, a                                                                source\squareroot.s
                                           ;;;movlw 0x40                                                                    source\squareroot.s
                                           ;;;movwf ARGA0, a                                                                source\squareroot.s
                                           ;;;call Sqrt ; Sqrt(0xE012A140)                                                  source\squareroot.s
                                           ; RES1:RES0 should now contain 0xEF81                                            source\squareroot.s
                                           ;;;bra Main                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;END                                                                           source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                               Title"16/32 bit Integer Square Root"                                         source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Author: Ross Fosler ***                                                    source\squareroot.s
                                           ; *** Applications Engineer ***                                                  source\squareroot.s
                                           ; *** Microchip Technology Inc. ***                                              source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Program:sqrt.asm ***                                                       source\squareroot.s
                                           ; *** This module contains code to perform fast integer ***                      source\squareroot.s
                                           ; *** square root functions on either 16 or 32 bit ***                           source\squareroot.s
                                           ; *** values. ***                                                                source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *** Last Rev:August 10, 2000 ***                                               source\squareroot.s
                                           ; *** Ver 1.00 ***                                                               source\squareroot.s
                                           ; *** ***                                                                        source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;#include P18C252.INC                                                          source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ;;;MSB	equ 7		    ; general literal constants                                    source\squareroot.s
                                           ;;;LSB	equ 0                                                                     source\squareroot.s
                                           ;;;W	equ 0                                                                       source\squareroot.s
                                           ;;;F	equ 1                                                                       source\squareroot.s
                                           ;;;a	equ 0                                                                       source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           sqrtVar	UDATA	0x500		    ; allocate RAM in grp5 section                          source\squareroot.s
                                           ARGA0	res 1			    ; various argument registers                                   source\squareroot.s
                                           ARGA1	res 1                                                                      source\squareroot.s
                                           ARGA2	res 1                                                                      source\squareroot.s
                                           ARGA3	res 1                                                                      source\squareroot.s
                                               GLOBAL ARGA0, ARGA1, ARGA2, ARGA3                                            source\squareroot.s
                                           ARG1H	res 1                                                                      source\squareroot.s
                                           ARG1L	res 1                                                                      source\squareroot.s
                                           ARG2H	res 1                                                                      source\squareroot.s
                                           ARG2L	res 1                                                                      source\squareroot.s
                                               GLOBAL ARG1H, ARG1L, ARG2H, ARG2L                                            source\squareroot.s
                                           SARG1	res 1			    ; signed arguments                                             source\squareroot.s
                                           SARG2	res 1                                                                      source\squareroot.s
                                               GLOBAL SARG1, SARG2                                                          source\squareroot.s
                                           RES1	res 1			    ; result registers                                              source\squareroot.s
                                           RES0	res 1                                                                       source\squareroot.s
                                               GLOBAL RES0, RES1                                                            source\squareroot.s
                                           SQRES0	res 1                                                                     source\squareroot.s
                                           SQRES1	res 1                                                                     source\squareroot.s
                                           SQRES2	res 1                                                                     source\squareroot.s
                                           SQRES3	res 1                                                                     source\squareroot.s
                                               GLOBAL SQRES0, SQRES1, SQRES2, SQRES3                                        source\squareroot.s
                                           BITLOC0 res 1			    ; temporary registers                                        source\squareroot.s
                                           BITLOC1 res 1                                                                    source\squareroot.s
                                           TEMP0	res 1                                                                      source\squareroot.s
                                           TEMP1	res 1                                                                      source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; The function of this square root routine is to determine the root              source\squareroot.s
                                           ; to the nearest integer. At the same time the root is found at the              source\squareroot.s
                                           ; best possible speed; therefore, the root is found a little differently         source\squareroot.s
                                           ; for the two basic sizes of numbers, 16-bit and 32-bit. The following           source\squareroot.s
                                           ; differentiates the two and jumps to the appropriate function.                  source\squareroot.s
                                           ; Sqrt(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                    source\squareroot.s
                                           	CODE                                                                            source\squareroot.s
                                           Sqrt	                                                                            source\squareroot.s
008b84   cfd9     MOVFF     0xfd9,0xfe6    	movff	0xfd9, 0xfe6                                                              source\squareroot.s
008b86   ffe6                                                                                                               
008b88   cfe1     MOVFF     0xfe1,0xfd9    	movff	0xfe1, 0xfd9                                                              source\squareroot.s
008b8a   ffd9                                                                                                               
008b8c   0105     MOVLB     0x5            	movlb	5		    ; All our RAM is in bank 5                                         source\squareroot.s
008b8e   0efb     MOVLW     0xfb           	movlw	0xFB		    ; load -1 into W                                                source\squareroot.s
008b90   cfdb     MOVFF     0xfdb,0x500    	movff	PLUSW2, ARGA0	    ; And offset FSR1 by W and store in ARGA3               source\squareroot.s
008b92   f500                                                                                                               
008b94   0efc     MOVLW     0xfc           	movlw	0xFC		    ; load -2 into W and do the same for the                        source\squareroot.s
008b96   cfdb     MOVFF     0xfdb,0x501    	movff	PLUSW2, ARGA1	    ; other bytes in the input parameter                    source\squareroot.s
008b98   f501                                                                                                               
008b9a   0efd     MOVLW     0xfd           	movlw	0xFD                                                                      source\squareroot.s
008b9c   cfdb     MOVFF     0xfdb,0x502    	movff	PLUSW2, ARGA2                                                             source\squareroot.s
008b9e   f502                                                                                                               
008ba0   0efe     MOVLW     0xfe           	movlw	0xFE                                                                      source\squareroot.s
008ba2   cfdb     MOVFF     0xfdb,0x503    	movff	PLUSW2, ARGA3                                                             source\squareroot.s
008ba4   f503                                                                                                               
008ba6   6703     TSTFSZ    0x3,0x1        	tstfsz	ARGA3, BANKED	    ; determine if the number is 16-bit                    source\squareroot.s
008ba8   d025     BRA       0x8bf4         	bra	Sqrt32		    ; or 32-bit and call the best function                          source\squareroot.s
008baa   6702     TSTFSZ    0x2,0x1        	tstfsz	ARGA2, BANKED                                                            source\squareroot.s
008bac   d023     BRA       0x8bf4         	bra	Sqrt32                                                                      source\squareroot.s
                                           				    ; Fallthrough to Sqrt16                                                  source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt16(ARGA1:ARGA0) = PRODL                                                    source\squareroot.s
                                           Sqrt16	                                                                          source\squareroot.s
008bae   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
008bb0   0e80     MOVLW     0x80           	movlw	0x80		    ; setup the first bit                                           source\squareroot.s
008bb2   6f10     MOVWF     0x10,0x1       	movwf	BITLOC0, BANKED                                                           source\squareroot.s
008bb4   6f0b     MOVWF     0xb,0x1        	movwf	RES0, BANKED                                                              source\squareroot.s
008bb6   510b     MOVF      0xb,0x0,0x1    Square8 movf	RES0, W, BANKED	    ; square the guess                              source\squareroot.s
008bb8   030b     MULWF     0xb,0x1        	mulwf	RES0, BANKED                                                              source\squareroot.s
008bba   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS    ; ARGA - PROD test                                     source\squareroot.s
008bbc   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
008bbe   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS                                                           source\squareroot.s
008bc0   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
008bc2   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
008bc4   d008     BRA       0x8bd6         	bra	NextBit		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
008bc6   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
008bc8   f50b                                                                                                               
008bca   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; then rotote the bit and put it                      source\squareroot.s
008bcc   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED  ; back into RES0                                       source\squareroot.s
008bce   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008bd0   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
008bd2   d009     BRA       0x8be6         	bra	Done		    ; out                                                             source\squareroot.s
008bd4   d7f0     BRA       0x8bb6         	bra	Square8		    ; elso go back for another test                                source\squareroot.s
008bd6   c50b     MOVFF     0x50b,0x512    NextBit movff	RES0, TEMP0	    ; copy the last good approximation                 source\squareroot.s
008bd8   f512                                                                                                               
008bda   4310     RRNCF     0x10,0x1,0x1   	rrncf	BITLOC0, F, BANKED  ; rotate the bit location register                    source\squareroot.s
008bdc   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
008bde   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008be0   bf10     BTFSC     0x10,0x7,0x1   	btfsc	BITLOC0, 7, BANKED  ; if last value was tested then get                   source\squareroot.s
008be2   d001     BRA       0x8be6         	bra	Done		    ; out                                                             source\squareroot.s
008be4   d7e8     BRA       0x8bb6         	bra	Square8                                                                     source\squareroot.s
008be6   c512     MOVFF     0x512,0xff3    Done	movff	TEMP0,PRODL	    ; put the final result in PRODL                       source\squareroot.s
008be8   fff3                                                                                                               
008bea   6af4     CLRF      0xf4,0x0       	clrf	PRODH, ACCESS	    ; clear out upper byte to be nice                        source\squareroot.s
008bec   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
008bee   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
008bf0   ffd9                                                                                                               
008bf2   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; ******************** Square Root **********************************            source\squareroot.s
                                           ; Sqrt32(ARGA3:ARGA2:ARGA1:ARGA0) = PRODH:PRODL                                  source\squareroot.s
                                           Sqrt32	                                                                          source\squareroot.s
008bf4   6b12     CLRF      0x12,0x1       	clrf	TEMP0, BANKED	    ; clear the temp solution                                source\squareroot.s
008bf6   6b13     CLRF      0x13,0x1       	clrf	TEMP1, BANKED                                                              source\squareroot.s
008bf8   6b10     CLRF      0x10,0x1       	clrf	BITLOC0, BANKED	    ; setup the first bit                                  source\squareroot.s
008bfa   6b0b     CLRF      0xb,0x1        	clrf	RES0, BANKED                                                               source\squareroot.s
008bfc   0e80     MOVLW     0x80           	movlw	0x80                                                                      source\squareroot.s
008bfe   6f11     MOVWF     0x11,0x1       	movwf	BITLOC1, BANKED	    ; BitLoc = 0x8000                                     source\squareroot.s
008c00   6f0a     MOVWF     0xa,0x1        	movwf	RES1, BANKED	    ; RES = 0x8000                                           source\squareroot.s
008c02   c50b     MOVFF     0x50b,0x505    Squar16 movff	RES0, ARG1L	    ; square the guess                                 source\squareroot.s
008c04   f505                                                                                                               
008c06   c50a     MOVFF     0x50a,0x504    	movff	RES1, ARG1H                                                               source\squareroot.s
008c08   f504                                                                                                               
008c0a   ec35     CALL      0x8c6a,0x0     	call	Sq16                                                                       source\squareroot.s
008c0c   f046                                                                                                               
008c0e   510c     MOVF      0xc,0x0,0x1    	movf	SQRES0, W, BANKED   ; ARGA - PROD test                                     source\squareroot.s
008c10   5d00     SUBWF     0x0,0x0,0x1    	subwf	ARGA0, W, BANKED                                                          source\squareroot.s
008c12   510d     MOVF      0xd,0x0,0x1    	movf	SQRES1, W, BANKED                                                          source\squareroot.s
008c14   5901     SUBWFB    0x1,0x0,0x1    	subwfb	ARGA1, W, BANKED                                                         source\squareroot.s
008c16   510e     MOVF      0xe,0x0,0x1    	movf	SQRES2, W, BANKED                                                          source\squareroot.s
008c18   5902     SUBWFB    0x2,0x0,0x1    	subwfb	ARGA2, W, BANKED                                                         source\squareroot.s
008c1a   510f     MOVF      0xf,0x0,0x1    	movf	SQRES3, W, BANKED                                                          source\squareroot.s
008c1c   5903     SUBWFB    0x3,0x0,0x1    	subwfb	ARGA3, W, BANKED                                                         source\squareroot.s
008c1e   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS                                                         source\squareroot.s
008c20   d00e     BRA       0x8c3e         	bra	NxtBt16		    ; if positive then next bit                                    source\squareroot.s
                                           				    ; if negative then rotate right                                          source\squareroot.s
008c22   0f00     ADDLW     0x0            	addlw	0x00		    ; clear carry                                                   source\squareroot.s
008c24   c512     MOVFF     0x512,0x50b    	movff	TEMP0, RES0	    ; move last good value back into RES0                     source\squareroot.s
008c26   f50b                                                                                                               
008c28   c513     MOVFF     0x513,0x50a    	movff	TEMP1, RES1                                                               source\squareroot.s
008c2a   f50a                                                                                                               
008c2c   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; then rotote the bit and put it                       source\squareroot.s
008c2e   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
008c30   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; back into RES1:RES0                                  source\squareroot.s
008c32   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
008c34   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
008c36   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008c38   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
008c3a   d00f     BRA       0x8c5a         	bra	Done32		    ; out                                                           source\squareroot.s
008c3c   d7e2     BRA       0x8c02         	bra	Squar16		    ; elso go back for another test                                source\squareroot.s
008c3e   0f00     ADDLW     0x0            NxtBt16 addlw	0x00		    ; clear carry                                            source\squareroot.s
008c40   c50b     MOVFF     0x50b,0x512    	movff	RES0, TEMP0	    ; copy the last good approximation                        source\squareroot.s
008c42   f512                                                                                                               
008c44   c50a     MOVFF     0x50a,0x513    	movff	RES1, TEMP1                                                               source\squareroot.s
008c46   f513                                                                                                               
008c48   3311     RRCF      0x11,0x1,0x1   	rrcf	BITLOC1, F, BANKED  ; rotate the bit location register                     source\squareroot.s
008c4a   3310     RRCF      0x10,0x1,0x1   	rrcf	BITLOC0, F, BANKED                                                         source\squareroot.s
008c4c   5111     MOVF      0x11,0x0,0x1   	movf	BITLOC1, W, BANKED  ; and put back into RES1:RES0                          source\squareroot.s
008c4e   130a     IORWF     0xa,0x1,0x1    	iorwf	RES1, F, BANKED                                                           source\squareroot.s
008c50   5110     MOVF      0x10,0x0,0x1   	movf	BITLOC0, W, BANKED                                                         source\squareroot.s
008c52   130b     IORWF     0xb,0x1,0x1    	iorwf	RES0, F, BANKED                                                           source\squareroot.s
008c54   b0d8     BTFSC     0xd8,0x0,0x0   	btfsc	STATUS, C, ACCESS   ; if last value was tested then get                   source\squareroot.s
008c56   d001     BRA       0x8c5a         	bra	Done32		    ; out                                                           source\squareroot.s
008c58   d7d4     BRA       0x8c02         	bra	Squar16                                                                     source\squareroot.s
008c5a   c512     MOVFF     0x512,0xff3    Done32	movff	TEMP0,PRODL	    ; put the final result in PRODL:PRODH               source\squareroot.s
008c5c   fff3                                                                                                               
008c5e   c513     MOVFF     0x513,0xff4    	movff	TEMP1,PRODH                                                               source\squareroot.s
008c60   fff4                                                                                                               
008c62   52e5     MOVF      0xe5,0x1,0x0   	movf	0xe5, 0x1, 0x0                                                             source\squareroot.s
008c64   cfe7     MOVFF     0xfe7,0xfd9    	movff	0xfe7, 0xfd9                                                              source\squareroot.s
008c66   ffd9                                                                                                               
008c68   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                                                                                                            source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           ; *********** 16 X 16 Unsigned Square *****************************              source\squareroot.s
                                           ; SQRES3:SQRES0 = ARG1H:ARG1L ^2                                                 source\squareroot.s
008c6a   5105     MOVF      0x5,0x0,0x1    Sq16	movf	ARG1L, W, BANKED                                                       source\squareroot.s
008c6c   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1L * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008c6e   cff4     MOVFF     0xff4,0x50d    	movff	PRODH, SQRES1                                                             source\squareroot.s
008c70   f50d                                                                                                               
008c72   cff3     MOVFF     0xff3,0x50c    	movff	PRODL, SQRES0                                                             source\squareroot.s
008c74   f50c                                                                                                               
008c76   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
008c78   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1H * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008c7a   cff4     MOVFF     0xff4,0x50f    	movff	PRODH, SQRES3                                                             source\squareroot.s
008c7c   f50f                                                                                                               
008c7e   cff3     MOVFF     0xff3,0x50e    	movff	PRODL, SQRES2                                                             source\squareroot.s
008c80   f50e                                                                                                               
008c82   5105     MOVF      0x5,0x0,0x1    	movf	ARG1L, W, BANKED                                                           source\squareroot.s
008c84   0304     MULWF     0x4,0x1        	mulwf	ARG1H		    ; ARG1L * ARG2H ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008c86   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
008c88   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
008c8a   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
008c8c   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
008c8e   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
008c90   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
008c92   5104     MOVF      0x4,0x0,0x1    	movf	ARG1H, W, BANKED                                                           source\squareroot.s
008c94   0305     MULWF     0x5,0x1        	mulwf	ARG1L		    ; ARG1H * ARG2L ->                                             source\squareroot.s
                                           				    ; PRODH:PRODL                                                            source\squareroot.s
008c96   50f3     MOVF      0xf3,0x0,0x0   	movf	PRODL, W, ACCESS                                                           source\squareroot.s
008c98   270d     ADDWF     0xd,0x1,0x1    	addwf	SQRES1, F, BANKED   ; Add cross                                           source\squareroot.s
008c9a   50f4     MOVF      0xf4,0x0,0x0   	movf	PRODH, W, ACCESS    ; products                                             source\squareroot.s
008c9c   230e     ADDWFC    0xe,0x1,0x1    	addwfc	SQRES2, F, BANKED                                                        source\squareroot.s
008c9e   6ae8     CLRF      0xe8,0x0       	clrf	WREG, ACCESS                                                               source\squareroot.s
008ca0   230f     ADDWFC    0xf,0x1,0x1    	addwfc	SQRES3, F, BANKED                                                        source\squareroot.s
008ca2   0012     RETURN    0x0            	return                                                                          source\squareroot.s
                                           	                                                                                source\squareroot.s
                                           ; *******************************************************************            source\squareroot.s
                                           	GLOBAL	Sqrt                                                                     source\squareroot.s
                                                                                                                            source\squareroot.s
                                           	end                                                                             source\squareroot.s
